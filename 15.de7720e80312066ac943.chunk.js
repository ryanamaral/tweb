(this.webpackJsonp=this.webpackJsonp||[]).push([[15],{65:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(7);class i{constructor(e){this.element=document.body.querySelector("."+e.className),this.container=document.createElement("div"),this.container.className="container center-align",this.imageDiv=document.createElement("div"),this.imageDiv.className="auth-image",this.title=document.createElement("h4"),e.titleLangKey&&this.title.append(Object(n.i18n)(e.titleLangKey)),this.subtitle=document.createElement("p"),this.subtitle.className="subtitle",e.subtitleLangKey&&this.subtitle.append(Object(n.i18n)(e.subtitleLangKey)),this.container.append(this.imageDiv,this.title,this.subtitle),e.withInputWrapper&&(this.inputWrapper=document.createElement("div"),this.inputWrapper.className="input-wrapper",this.container.append(this.inputWrapper)),this.element.append(this.container)}}},93:function(e,t,a){"use strict";a.r(t);var n=a(11),i=a(18),s=a(16),r=a(83),c=a(6),l=a(19),u=a(7),o=a(12),p=a(10),d=a(65),m=a(54),h=a(63);let b=null;const v=new m.a("page-signUp",!0,()=>Promise.resolve().then(a.bind(null,33)).then(e=>{const t=new d.a({className:"page-signUp",withInputWrapper:!0,titleLangKey:"YourName",subtitleLangKey:"Login.Register.Subtitle"});t.imageDiv.classList.add("avatar-edit"),t.title.classList.add("fullName");const a=document.createElement("canvas");a.id="canvas-avatar",a.className="avatar-edit-canvas";const l=document.createElement("span");l.className="tgico tgico-cameraadd",t.imageDiv.append(a,l);const m=e.default;let v;t.imageDiv.addEventListener("click",()=>{(new r.a).open(a,e=>{v=e})});const g=e=>{const a=f.value||"",n=L.value||"",i=a||n?(a+" "+n).trim():"";i?Object(c.B)(t.title,p.b.wrapEmojiText(i)):Object(c.B)(t.title,Object(u.i18n)("YourName"))};const f=new i.b({label:"FirstName",maxLength:70}),L=new i.b({label:"LastName",maxLength:64}),y=Object(n.a)("btn-primary btn-color-primary"),w=new u.default.IntlElement({key:"StartMessaging"});y.append(w.element),t.inputWrapper.append(f.container,L.container,y),f.input.addEventListener("input",g),L.input.addEventListener("input",g),y.addEventListener("click",(function(e){if(f.input.classList.contains("error")||L.input.classList.contains("error"))return!1;if(!f.value.length)return f.input.classList.add("error"),!1;this.disabled=!0;const t=f.value.trim(),a=L.value.trim(),n={phone_number:b.phone_number,phone_code_hash:b.phone_code_hash,first_name:t,last_name:a};w.update({key:"PleaseWait"});const i=Object(s.f)(this);o.a.invokeApi("auth.signUp",n).then(e=>{switch(e._){case"auth.authorization":o.a.setUserAuth(e.user.id),new Promise((e,t)=>{if(!v)return e();v().then(a=>{m.uploadProfilePhoto(a).then(e,t)},t)}).finally(()=>{h.default.mount()});break;default:w.update({key:e._}),this.removeAttribute("disabled"),i.remove()}}).catch(e=>{this.removeAttribute("disabled"),i.remove(),e.type,w.update({key:e.type})})}))}),e=>{b=e,l.default.pushToState("authState",{_:"authStateSignUp",authCode:e}),l.default.saveState()});t.default=v}}]);