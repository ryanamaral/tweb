!function(e){function t(t){for(var o,i,n=t[0],l=t[1],d=t[2],h=0,u=[];h<n.length;h++)i=n[h],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(c&&c(t);u.length;)u.shift()();return a.push.apply(a,d||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],o=!0,n=1;n<s.length;n++){var l=s[n];0!==r[l]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=s[0]))}return e}var o={},r={0:0},a=[];function i(t){if(o[t])return o[t].exports;var s=o[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=o,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(s,o,function(t){return e[t]}.bind(null,o));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var n=window.webpackJsonp=window.webpackJsonp||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var d=0;d<n.length;d++)t(n[d]);var c=l;a.push([51,2,5]),s()}([function(e,t,s){"use strict";s.r(t),s.d(t,"dT",(function(){return r})),s.d(t,"checkClick",(function(){return a})),s.d(t,"isInDOM",(function(){return i})),s.d(t,"checkDragEvent",(function(){return n})),s.d(t,"cancelEvent",(function(){return l})),s.d(t,"setFieldSelection",(function(){return d})),s.d(t,"getFieldSelection",(function(){return c})),s.d(t,"getRichValue",(function(){return h})),s.d(t,"placeCaretAtEnd",(function(){return u})),s.d(t,"getRichValueWithCaret",(function(){return p})),s.d(t,"getRichElementValue",(function(){return g})),s.d(t,"setRichFocus",(function(){return m})),s.d(t,"getSelectedText",(function(){return _})),s.d(t,"$rootScope",(function(){return y})),s.d(t,"generatePathData",(function(){return b})),s.d(t,"langPack",(function(){return x})),s.d(t,"_",(function(){return v})),s.d(t,"isObject",(function(){return D})),s.d(t,"tsNow",(function(){return w})),s.d(t,"safeReplaceObject",(function(){return S})),s.d(t,"numberWithCommas",(function(){return E})),s.d(t,"findUpClassName",(function(){return P})),s.d(t,"findUpTag",(function(){return C})),s.d(t,"isElementInViewport",(function(){return F})),s.d(t,"isScrolledIntoView",(function(){return k})),s.d(t,"whichChild",(function(){return M})),s.d(t,"copy",(function(){return A})),s.d(t,"formatBytes",(function(){return T})),s.d(t,"formatNumber",(function(){return X})),s.d(t,"deepEqual",(function(){return L})),s.d(t,"listMergeSorted",(function(){return I})),s.d(t,"listUniqSorted",(function(){return B})),s.d(t,"escapeRegExp",(function(){return j})),s.d(t,"encodeEntities",(function(){return O})),s.d(t,"fillPropertyValue",(function(){return R})),s.d(t,"calcImageInBox",(function(){return N})),s.d(t,"countryCodeEmoji",(function(){return z})),s.d(t,"unifiedCountryCodeEmoji",(function(){return H})),s.d(t,"SearchIndexManager",(function(){return V}));
/*!
 * Webogram v0.7.0 - messaging web application for MTProto
 * https://github.com/zhukov/webogram
 * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>
 * https://github.com/zhukov/webogram/blob/master/LICENSE
 */
var o=Date.now();function r(){return"["+((Date.now()-o)/1e3).toFixed(3)+"]"}function a(e,t){return!((1!=e.which||!e.ctrlKey&&!e.metaKey)&&2!=e.which)||(t||e.preventDefault(),!1)}function i(e,t){return!!e&&(e==(t=t||document.body)||i(e.parentNode,t))}function n(e){if(!e||e.target&&("IMG"==e.target.tagName||"A"==e.target.tagName))return!1;if(!e.dataTransfer||!e.dataTransfer.types)return!0;for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"==e.dataTransfer.types[t])return!0;return!1}function l(e){return(e=e||window.event)&&((e=e.originalEvent||e).stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1,e.cancelBubble=!0),!1}function d(e,t,s){e=$(e)[0];try{if(e.focus(),void 0!==t&&!1!==t||(t=e.value.length),void 0!==s&&!1!==s||(s=t),e.createTextRange){var o=e.createTextRange();o.collapse(!0),o.moveEnd("character",s),o.moveStart("character",t),o.select()}else e.setSelectionRange&&e.setSelectionRange(t,s)}catch(e){}}function c(e){if(e.selectionStart)return e.selectionStart;if(!document.selection)return 0;var t,s=document.selection.createRange(),o=s.text,r=s.duplicate();try{r.moveToElementText(e)}catch(e){return 0}return s.text=o+"",t=r.text.indexOf(""),s.moveStart("character",-1),s.text="",t}function h(e){if(!e)return"";var t=[],s=[];g(e,t,s),s.length&&t.push(s.join(""));var o=t.join("\n");return o=o.replace(/\u00A0/g," ")}function u(e){if(e.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var s=window.getSelection();s.removeAllRanges(),s.addRange(t)}else if(void 0!==document.body.createTextRange){var o=document.body.createTextRange();o.moveToElementText(e),o.collapse(!1),o.select()}}function p(e){if(!e)return[];var t,s,o=[],r=[],a=!!window.getSelection&&window.getSelection();if(a&&a.rangeCount){var i=a.getRangeAt(0);t=i.startContainer,s=i.startOffset}g(e,o,r,t,s),r.length&&o.push(r.join(""));var n=o.join("\n"),l=n.indexOf("");return-1!=l&&(n=n.substr(0,l)+n.substr(l+1)),[n=n.replace(/\u00A0/g," "),l]}function g(e,t,s,o,r){if(3!=e.nodeType){if(1==e.nodeType){var a=o===e,i="DIV"==e.tagName||"P"==e.tagName;i&&s.length||"BR"==e.tagName?(t.push(s.join("")),s.splice(0,s.length)):"IMG"==e.tagName&&e.alt&&s.push(e.alt),a&&!r&&s.push("");for(var n=e.firstChild;n;)g(n,t,s,o,r),n=n.nextSibling;a&&r&&s.push(""),i&&s.length&&(t.push(s.join("")),s.splice(0,s.length))}}else if(o===e){var l=e.nodeValue;s.push(l.substr(0,r)+""+l.substr(r))}else s.push(e.nodeValue)}function m(e,t,s){if(e.focus(),!t||t.parentNode!=e||t.nextSibling||s||(e.removeChild(t),t=null),window.getSelection&&document.createRange){var o=document.createRange();t?o.selectNode(t):o.selectNodeContents(e),s||o.collapse(!1);var r=window.getSelection();r.removeAllRanges(),r.addRange(o)}else if(void 0!==document.body.createTextRange){var a=document.body.createTextRange();a.moveToElementText(t||e),s||a.collapse(!1),a.select()}}function _(){return(window.getSelection&&window.getSelection()||document.getSelection&&document.getSelection()||document.selection&&document.selection.createRange().text||"").toString().replace(/^\s+|\s+$/g,"")}const y={$broadcast:(e,t)=>{console.log(r(),"Broadcasting "+e+" event, with args:",t);let s=new CustomEvent(e,{detail:t});document.dispatchEvent(s)},$on:(e,t)=>{document.addEventListener(e,t)},selectedPeerID:0,myID:0,idle:{isIDLE:!1}};var f=function(e,t,s,o,r,a,i){return[e,",",t," ",s," ",o,",",r," ",a,",",i].join("")};function b(e,t,s,o,r,a,i,n){var l=[];return l.push("M"+(e+s/2)+","+t),l.push("H"+(e+s-a)),a>0&&l.push("A"+f(a,a,0,0,1,e+s,t+a)),l.push("V"+(t+o-i)),i>0&&l.push("A"+f(i,i,0,0,1,e+s-i,t+o)),l.push("H"+(e+n)),n>0&&l.push("A"+f(n,n,0,0,1,e+0,t+o-n)),l.push("V"+(t+r)),r>0&&l.push("A"+f(r,r,0,0,1,e+r,t+0)),l.push("Z"),l.join(" ")}const x={messageActionChatCreate:"created the group",messageActionChatEditTitle:"changed group name",messageActionChatEditPhoto:"changed group photo",messageActionChatDeletePhoto:"removed group photo",messageActionChatReturn:"returned to group",messageActionChatJoined:"joined the group",messageActionChatAddUser:"invited {user}",messageActionChatAddUsers:"invited {} users",messageActionChatLeave:"left the group",messageActionChatDeleteUser:"removed user",messageActionChatJoinedByLink:"joined the group",messageActionPinMessage:"pinned message",messageActionContactSignUp:"joined Telegram",messageActionChannelCreate:"Channel created",messageActionChannelEditTitle:"Channel renamed",messageActionChannelEditPhoto:"Channel photo updated",messageActionChannelDeletePhoto:"Channel photo removed",messageActionHistoryClear:"History cleared","messageActionPhoneCall.in_ok":"Incoming Call","messageActionPhoneCall.out_ok":"Outgoing Call","messageActionPhoneCall.in_missed":"Missed Call","messageActionPhoneCall.out_missed":"Cancelled Call"},v=e=>(e=e.replace("_raw",""),x[e]?x[e]:e);function D(e){return"object"==typeof e&&null!==e}function w(e){var t=+new Date;return e?Math.floor(t/1e3):t}function S(e,t){for(var s in e)t.hasOwnProperty(s)||"$"==s.charAt(0)||delete e[s];for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])}function E(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}function P(e,t){if(e.classList.contains(t))return e;for(;e.parentElement;)if((e=e.parentElement).classList.contains(t))return e;return null}function C(e,t){if(e.tagName==t)return e;for(;e.parentElement;)if((e=e.parentElement).tagName===t)return e;return null}function F(e){var t=e.getBoundingClientRect(),s=window.innerWidth||document.documentElement.clientWidth,o=window.innerHeight||document.documentElement.clientHeight,r=function(e,t){return document.elementFromPoint(e,t)};if(t.right<0||t.bottom<0||t.left>s||t.top>o||!t.width||!t.height)return!1;return void 0!==[r(t.left+1,t.top+1),r(t.right-1,t.top+1),r(t.right-1,t.bottom-1),r(t.left+1,t.bottom-1)].find(t=>e.contains(t)||e.parentElement==t)}function k(e){var t=e.getBoundingClientRect(),s=t.top,o=t.bottom;return s<window.innerHeight&&o>=0}function M(e){let t=0;for(;null!=(e=e.previousElementSibling);)++t;return t}function A(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());if(Array.isArray(e)){var t=[];return e.forEach((function(e){t.push(A(e))})),t}let s=new e.constructor;for(var o in e)e.hasOwnProperty(o)&&(s[o]=A(e[o]));return s}function T(e,t=2){if(0===e)return"0 Bytes";const s=t<0?0:t,o=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,o)).toFixed(s))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][o]}function X(e,t=2){if(0===e)return"0";const s=t<0?0:t,o=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,o)).toFixed(s))+["","K","M","B","T"][o]}function L(e,t){const s=Object.keys,o=typeof e;return e&&t&&"object"===o&&o===typeof t?s(e).length===s(t).length&&s(e).every(s=>L(e[s],t[s])):e===t}function I(e,t){t=t||[];for(var s=A(e=e||[]),o=e.length?e[e.length-1]:4294967295,r=0;r<t.length;r++)t[r]<o&&s.push(t[r]);return s}function B(e){e=e||[];for(var t=[],s=!1,o=0;o<e.length;o++)e[o]!==s&&t.push(e[o]),s=e[o];return t}function j(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function O(e){return e.replace(/&/g,"&amp;").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(/([^\#-~| |!])/g,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function R(e){let t=e.split(" ");if(4!=t.length){t[0]||(t[0]="0px");for(let e=t.length;e<4;++e)t[e]=t[e%2]||t[0]||"0px"}return t}function N(e,t,s,o,r){if(e<s&&t<o)return{w:e,h:t};var a=s,i=o;return e/t>s/o?i=parseInt(t*s/e):(a=parseInt(e*o/t))>s&&(i=parseInt(i*s/a),a=s),r&&a>=e&&i>=t&&(a=e,i=t),{w:a,h:i}}const U=/^[a-z]{2}$/i;function z(e){if(!U.test(e)){const t=typeof e;throw new TypeError(`cc argument must be an ISO 3166-1 alpha-2 string, but got '${"string"===t?e:t}' instead.`)}const t=[...e.toUpperCase()].map(e=>e.charCodeAt(0)+127397);return String.fromCodePoint(...t)}function H(e){if(!U.test(e)){const t=typeof e;throw new TypeError(`cc argument must be an ISO 3166-1 alpha-2 string, but got '${"string"===t?e:t}' instead.`)}return[...e.toUpperCase()].map(e=>e.charCodeAt(0)+127397).map(e=>e.toString(16).toUpperCase()).join("-")}var q=/[`~!@#$%^&*()\-_=+\[\]\\|{}'";:\/?.>,<\s]+/g,G=/^\s+|\s$/g;function W(e,t=!0){var s="%"==e.charAt(0);return e=e.replace(q," ").replace(G,""),t&&(e=e.replace(/[^A-Za-z0-9]/g,e=>{var t=Config.LatinizeMap[e];return void 0!==t?t:e})),e=e.toLowerCase(),s&&(e="%"+e),e}let V={createIndex:function(){return{shortIndexes:{},fullTexts:{}}},indexObject:function(e,t,s){if(void 0!==s.fullTexts[e])return!1;if(!(t=W(t)).length)return!1;var o=s.shortIndexes;s.fullTexts[e]=t,t.split(" ").forEach(t=>{var s,r,a=Math.min(t.length,3);for(r=1;r<=a;r++)s=t.substr(0,r),void 0===o[s]?o[s]=[e]:o[s].push(e)})},cleanSearchText:W,cleanUsername:function(e){return e&&e.toLowerCase()||""},search:function(e,t){var s,o,r,a,i,n=t.shortIndexes,l=t.fullTexts,d=(e=W(e)).split(" "),c=!1;for(o=0;o<d.length;o++){if(!(s=n[d[o].substr(0,3)])){c=[];break}(!1===c||c.length>s.length)&&(c=s)}for(s={},r=0;r<c.length;r++){for(i=!0,a=l[c[r]],o=0;o<d.length;o++)if(-1==a.indexOf(d[o])){i=!1;break}i&&(s[c[r]]=!0)}return s}}},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const a=s(0),i=o(s(12)),n=o(s(69));class l extends n.default{constructor(){super(),this.webWorker=!1,this.taskID=0,this.awaiting={},this.pending=[],this.debug=!1,this.updatesProcessor=null,console.log(a.dT(),"ApiManagerProxy constructor"),window.Worker&&Promise.resolve().then(()=>r(s(70))).then(e=>{var t=new e.default;t.onmessage=e=>{this.webWorker||(this.webWorker=t,console.info(a.dT(),"ApiManagerProxy set webWorker"),this.releasePending()),a.isObject(e.data)&&(e.data.useLs?i.default[e.data.task](...e.data.args).then(t=>{this.webWorker.postMessage({useLs:!0,taskID:e.data.taskID,args:t})}):e.data.update?this.updatesProcessor&&this.updatesProcessor(e.data.update.obj,e.data.update.bool):this.finalizeTask(e.data.taskID,e.data.result,e.data.error))},t.onerror=e=>{console.error("ApiManagerProxy error",e),this.webWorker=!1}})}finalizeTask(e,t,s){let o=this.awaiting[e];void 0!==o&&(this.debug&&console.log(a.dT(),"ApiManagerProxy done",o.taskName,t,s),void 0===t?o.reject(s):o.resolve(t),delete this.awaiting[e])}performTaskWorker(e,...t){return this.debug&&console.log(a.dT(),"ApiManagerProxy start",e,t),new Promise((s,o)=>{this.awaiting[this.taskID]={resolve:s,reject:o,taskName:e};let r={task:e,taskID:this.taskID,args:t};this.pending.push(r),this.releasePending(),this.taskID++})}releasePending(){this.webWorker&&(this.pending.forEach(e=>{this.webWorker.postMessage(e)}),this.pending.length=0)}setUpdatesProcessor(e){this.updatesProcessor=e}invokeApi(e,t={},s={}){return console.log("will invokeApi:",e,t,s),this.performTaskWorker("invokeApi",e,t,s)}setBaseDcID(e){return this.performTaskWorker("setBaseDcID",e)}setUserAuth(e){return a.$rootScope.$broadcast("user_auth",e),this.performTaskWorker("setUserAuth",e)}getNetworker(e){return this.performTaskWorker("getNetworker",e)}getUserID(){return this.performTaskWorker("getUserID")}logOut(){return this.performTaskWorker("logOut")}checkPassword(e){return this.performTaskWorker("checkPassword",e)}}const d=new l;window.apiManagerProxy=d,t.default=d},function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function n(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,n)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(0),i=r(s(20));let n=0;t.ripple=function(e,t=(()=>Promise.resolve()),s=null){let o=document.createElement("div");o.classList.add("c-ripple"),e.append(o),e.addEventListener("mousedown",r=>{if("0"==e.dataset.ripple)return!1;let a=Date.now(),i=document.createElement("span"),l=n++;console.log("ripple mousedown");t&&t(l),window.requestAnimationFrame(()=>{i.classList.add("c-ripple__circle");let e,t,s=o.getBoundingClientRect(),a=r.clientX-s.left,n=r.clientY-s.top;s.width>s.height?(e=s.width,t=a):(e=s.height,t=n),e-=t>e/2?e-t:t,e*=1.1;let l=a-e/2,d=n-e/2;i.style.width=i.style.height=e+"px",i.style.left=l+"px",i.style.top=d+"px",o.append(i)}),window.addEventListener("mouseup",()=>{(()=>{let e=Date.now()-a;if(e<700){let t=Math.max(700-e,350);setTimeout(()=>i.classList.add("hiding"),Math.max(t-350,0)),setTimeout(()=>{i.remove(),s&&s(l)},t)}else i.classList.add("hiding"),setTimeout(()=>{i.remove(),s&&s(l)},350)})()},{once:!0})})};let l={},d=(e,t)=>{e instanceof HTMLImageElement||e instanceof HTMLSourceElement?e.src=t:e instanceof SVGImageElement?e.setAttributeNS(null,"href",t):e.style.backgroundImage="url("+t+")"};t.renderImageFromUrl=function(e,t){if(l[t])return d(e,t),!0;if(e instanceof HTMLSourceElement)e.src=t;else{let s=new Image;s.src=t,s.onload=()=>{d(e,t),l[t]=!0}}return!1},t.putPreloader=function(e,t=!1){const s='\n  <svg xmlns="http://www.w3.org/2000/svg" class="preloader-circular" viewBox="25 25 50 50">\n  <circle class="preloader-path" cx="50" cy="50" r="20" fill="none" stroke-miterlimit="10"/>\n  </svg>';if(t){let t=document.createElement("div");return t.classList.add("preloader"),t.innerHTML=s,e&&e.appendChild(t),t}e.innerHTML+=s},t.horizontalMenu=function(e,t,s,r,i=300){let n=0,l=null,d=-1,c=Array.from(t.children),h=e?Array.from(e.firstElementChild.children):[],u=new Set,p=s=>o(this,void 0,void 0,(function*(){if(s==d)return!1;let o=l,a=t.children[s];a.classList.add("active"),u.has(a)||u.add(a);let p=d<s;-1!=d&&(yield new Promise(e=>window.requestAnimationFrame(()=>{t.style.cssText=`will-change: width, transform; width: ${100*u.size}%; transform: translateX(-${100-100/u.size}%);`,t.classList.remove("animated"),p?t.classList.add("animated"):window.requestAnimationFrame(()=>{t.classList.add("animated"),t.style.transform=""}),e()}))),n&&clearTimeout(n),o&&(e&&h.forEach((e,t)=>{t!=d&&t!=s&&(e.dataset.ripple="0")}),n=setTimeout(()=>{c.forEach(e=>{e!=a&&(e.classList.remove("active"),u.delete(e))}),e&&h.forEach(e=>{delete e.dataset.ripple}),t.classList.remove("animated"),t.style.cssText="",n=0,r&&r()},i)),d=s,l=a}));if(e){let o=document.createElement("span");o.classList.add("menu-horizontal__stripe"),e.append(o),e.addEventListener("click",(function(r){let i=r.target;if("LI"!=i.tagName&&(i=a.findUpTag(i,"LI")),!i)return!1;let n=a.whichChild(i),l=t.children[n];if(u.size>=2&&!u.has(l))return!1;if(s&&s(n,l),i.classList.contains("active")||n==d)return!1;let c=e.querySelector("li.active");c&&c.classList.remove("active");let h=e.getBoundingClientRect(),g=i.firstElementChild.getBoundingClientRect();o.style.cssText=`width: ${g.width+4}px; transform: translateX(${g.left-h.left}px);`,console.log("tabs click:",h,g),i.classList.add("active"),p(n)}))}return p},t.formatPhoneNumber=function(e){let t=(e=e.replace(/\D/g,"")).slice(0,6),s=i.default.Countries.slice().sort((e,t)=>t.phoneCode.length-e.phoneCode.length).find(e=>e.phoneCode.split(" and ").find(e=>0==t.indexOf(e.replace(/\D/g,"")))),o=s?s.pattern||s.phoneCode:"";return s&&(o.split("").forEach((t,s)=>{" "==t&&" "!=e[s]&&e.length>s&&(e=e.slice(0,s)+" "+e.slice(s))}),s.pattern&&(e=e.slice(0,s.pattern.length))),{formatted:e,country:s}};let c=e=>{let t=p.getBoundingClientRect(),{clientX:s,clientY:o}=e,r=s>=t.right?s-t.right:t.left-s,a=o>=t.bottom?o-t.bottom:t.top-o;(r>=100||a>=100)&&u()},h=e=>{e.preventDefault(),u()},u=()=>{p&&(p.classList.remove("active"),p.parentElement.classList.remove("menu-open"),p=null),g&&(g(),g=null),window.removeEventListener("mousemove",c),window.removeEventListener("click",h),window.removeEventListener("contextmenu",h)},p=null,g=null;t.openBtnMenu=function(e,t){u(),p=e,p.classList.add("active"),p.parentElement.classList.add("menu-open"),g=t,window.addEventListener("mousemove",c),window.addEventListener("click",h,{once:!0}),window.addEventListener("contextmenu",h,{once:!0})},t.positionMenu=function(e,t,s="left"){t.classList.remove("bottom-left","bottom-right"),t.classList.add("left"==s?"bottom-right":"bottom-left");let{clientX:o,clientY:r}=e;t.style.left=("right"==s?o-t.scrollWidth:o)+"px",r+t.scrollHeight>window.innerHeight?t.style.top=window.innerHeight-t.scrollHeight+"px":t.style.top=r+"px"}},function(e,t,s){"use strict";s.r(t),s.d(t,"RichTextProcessor",(function(){return w}));var o,r=s(0),a=s(20),i=s.n(a),n={emojiMap:e=>e,shortcuts:[],emojis:[]},l=i.a.Emoji,d=(l.img_size,-1!=navigator.userAgent.search(/OS X|iPhone|iPad|iOS/i)),c=new RegExp("(^| )(@)([a-zA-Z\\d_]{5,32})|(((?:https?|ftp)://|mailto:)?(?:\\S{1,64}(?::\\S{0,64})?@)?(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}|[a-z\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0100-\\u024f\\u0253\\u0254\\u0256\\u0257\\u0259\\u025b\\u0263\\u0268\\u026f\\u0272\\u0289\\u028b\\u02bb\\u0300-\\u036f\\u1e00-\\u1eff\\u0400-\\u04ff\\u0500-\\u0527\\u2de0-\\u2dff\\ua640-\\ua69f\\u0591-\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u05d0-\\u05ea\\u05f0-\\u05f4\\ufb1d-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufb4f\\u0610-\\u061a\\u0620-\\u065f\\u066e-\\u06d3\\u06d5-\\u06dc\\u06de-\\u06e8\\u06ea-\\u06ef\\u06fa-\\u06fc\\u06ff\\u0750-\\u077f\\u08a0\\u08a2-\\u08ac\\u08e4-\\u08fe\\ufb50-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\u200c\\u0e01-\\u0e3a\\u0e40-\\u0e4e\\u1100-\\u11ff\\u3130-\\u3185\\uA960-\\uA97F\\uAC00-\\uD7AF\\uD7B0-\\uD7FF\\u3003\\u3005\\u303b\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uff9f\\uffa1-\\uffdc0-9][a-z\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0100-\\u024f\\u0253\\u0254\\u0256\\u0257\\u0259\\u025b\\u0263\\u0268\\u026f\\u0272\\u0289\\u028b\\u02bb\\u0300-\\u036f\\u1e00-\\u1eff\\u0400-\\u04ff\\u0500-\\u0527\\u2de0-\\u2dff\\ua640-\\ua69f\\u0591-\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u05d0-\\u05ea\\u05f0-\\u05f4\\ufb1d-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufb4f\\u0610-\\u061a\\u0620-\\u065f\\u066e-\\u06d3\\u06d5-\\u06dc\\u06de-\\u06e8\\u06ea-\\u06ef\\u06fa-\\u06fc\\u06ff\\u0750-\\u077f\\u08a0\\u08a2-\\u08ac\\u08e4-\\u08fe\\ufb50-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\u200c\\u0e01-\\u0e3a\\u0e40-\\u0e4e\\u1100-\\u11ff\\u3130-\\u3185\\uA960-\\uA97F\\uAC00-\\uD7AF\\uD7B0-\\uD7FF\\u3003\\u3005\\u303b\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uff9f\\uffa1-\\uffdc·0-9-]{0,64}(?:\\.[a-z\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0100-\\u024f\\u0253\\u0254\\u0256\\u0257\\u0259\\u025b\\u0263\\u0268\\u026f\\u0272\\u0289\\u028b\\u02bb\\u0300-\\u036f\\u1e00-\\u1eff\\u0400-\\u04ff\\u0500-\\u0527\\u2de0-\\u2dff\\ua640-\\ua69f\\u0591-\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u05d0-\\u05ea\\u05f0-\\u05f4\\ufb1d-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufb4f\\u0610-\\u061a\\u0620-\\u065f\\u066e-\\u06d3\\u06d5-\\u06dc\\u06de-\\u06e8\\u06ea-\\u06ef\\u06fa-\\u06fc\\u06ff\\u0750-\\u077f\\u08a0\\u08a2-\\u08ac\\u08e4-\\u08fe\\ufb50-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\u200c\\u0e01-\\u0e3a\\u0e40-\\u0e4e\\u1100-\\u11ff\\u3130-\\u3185\\uA960-\\uA97F\\uAC00-\\uD7AF\\uD7B0-\\uD7FF\\u3003\\u3005\\u303b\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uff9f\\uffa1-\\uffdc0-9][a-z\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0100-\\u024f\\u0253\\u0254\\u0256\\u0257\\u0259\\u025b\\u0263\\u0268\\u026f\\u0272\\u0289\\u028b\\u02bb\\u0300-\\u036f\\u1e00-\\u1eff\\u0400-\\u04ff\\u0500-\\u0527\\u2de0-\\u2dff\\ua640-\\ua69f\\u0591-\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u05d0-\\u05ea\\u05f0-\\u05f4\\ufb1d-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufb4f\\u0610-\\u061a\\u0620-\\u065f\\u066e-\\u06d3\\u06d5-\\u06dc\\u06de-\\u06e8\\u06ea-\\u06ef\\u06fa-\\u06fc\\u06ff\\u0750-\\u077f\\u08a0\\u08a2-\\u08ac\\u08e4-\\u08fe\\ufb50-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\u200c\\u0e01-\\u0e3a\\u0e40-\\u0e4e\\u1100-\\u11ff\\u3130-\\u3185\\uA960-\\uA97F\\uAC00-\\uD7AF\\uD7B0-\\uD7FF\\u3003\\u3005\\u303b\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uff9f\\uffa1-\\uffdc·0-9-]{0,64}){0,10}(?:\\.(xn--[0-9a-z]{2,16}|[a-z\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0100-\\u024f\\u0253\\u0254\\u0256\\u0257\\u0259\\u025b\\u0263\\u0268\\u026f\\u0272\\u0289\\u028b\\u02bb\\u0300-\\u036f\\u1e00-\\u1eff\\u0400-\\u04ff\\u0500-\\u0527\\u2de0-\\u2dff\\ua640-\\ua69f\\u0591-\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u05d0-\\u05ea\\u05f0-\\u05f4\\ufb1d-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufb4f\\u0610-\\u061a\\u0620-\\u065f\\u066e-\\u06d3\\u06d5-\\u06dc\\u06de-\\u06e8\\u06ea-\\u06ef\\u06fa-\\u06fc\\u06ff\\u0750-\\u077f\\u08a0\\u08a2-\\u08ac\\u08e4-\\u08fe\\ufb50-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\u200c\\u0e01-\\u0e3a\\u0e40-\\u0e4e\\u1100-\\u11ff\\u3130-\\u3185\\uA960-\\uA97F\\uAC00-\\uD7AF\\uD7B0-\\uD7FF\\u3003\\u3005\\u303b\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uff9f\\uffa1-\\uffdc]{2,24})))(?::\\d{2,5})?(?:/(?:\\S{0,255}[^\\s.;,(\\[\\]{}<>\"'])?)?)|(\\n)|(\\uD83C\\uDFF4\\uDB40\\uDC67\\uDB40\\uDC62(?:\\uDB40\\uDC77\\uDB40\\uDC6C\\uDB40\\uDC73|\\uDB40\\uDC73\\uDB40\\uDC63\\uDB40\\uDC74|\\uDB40\\uDC65\\uDB40\\uDC6E\\uDB40\\uDC67)\\uDB40\\uDC7F|(?:\\uD83E\\uDDD1\\uD83C\\uDFFB\\u200D\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83E\\uDD1D\\u200D\\uD83D\\uDC69)\\uD83C\\uDFFB|\\uD83D\\uDC68(?:\\uD83C\\uDFFC\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C\\uDFFB|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFF\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFE])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFE\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFD])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFD\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB\\uDFFC])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\u200D(?:\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83D\\uDC68|(?:\\uD83D[\\uDC68\\uDC69])\\u200D(?:\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67]))|\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67])|(?:\\uD83D[\\uDC68\\uDC69])\\u200D(?:\\uD83D[\\uDC66\\uDC67])|[\\u2695\\u2696\\u2708]\\uFE0F|\\uD83D[\\uDC66\\uDC67]|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|(?:\\uD83C\\uDFFB\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFF\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFE\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFD\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFC\\u200D[\\u2695\\u2696\\u2708])\\uFE0F|\\uD83C\\uDFFB\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C[\\uDFFB-\\uDFFF])|\\uD83E\\uDDD1(?:\\uD83C\\uDFFF\\u200D\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1(?:\\uD83C[\\uDFFB-\\uDFFF])|\\u200D\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1)|\\uD83D\\uDC69(?:\\uD83C\\uDFFE\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFD\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFC\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFB\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFC-\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\u200D(?:\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D(?:\\uD83D[\\uDC68\\uDC69])|\\uD83D[\\uDC68\\uDC69])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFF\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]))|(?:\\uD83E\\uDDD1\\uD83C\\uDFFE\\u200D\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69]))(?:\\uD83C[\\uDFFB-\\uDFFE])|(?:\\uD83E\\uDDD1\\uD83C\\uDFFD\\u200D\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83E\\uDD1D\\u200D\\uD83D\\uDC69)(?:\\uD83C[\\uDFFB-\\uDFFD])|(?:\\uD83E\\uDDD1\\uD83C\\uDFFC\\u200D\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83E\\uDD1D\\u200D\\uD83D\\uDC69)(?:\\uD83C[\\uDFFB\\uDFFC])|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D(?:\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67]))|\\uD83D\\uDC69\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D(?:\\uD83D[\\uDC66\\uDC67])|(?:\\uD83D\\uDC41\\uFE0F\\u200D\\uD83D\\uDDE8|\\uD83D\\uDC69(?:\\uD83C\\uDFFF\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFE\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFD\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFC\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFB\\u200D[\\u2695\\u2696\\u2708]|\\u200D[\\u2695\\u2696\\u2708])|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD6-\\uDDDD])(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2640\\u2642]|(?:\\u26F9|\\uD83C[\\uDFCB\\uDFCC]|\\uD83D\\uDD75)(?:\\uFE0F\\u200D[\\u2640\\u2642]|(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2640\\u2642])|\\uD83C\\uDFF4\\u200D\\u2620|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC6F\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD37-\\uDD39\\uDD3C-\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD6-\\uDDDF])\\u200D[\\u2640\\u2642])\\uFE0F|\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67])|\\uD83C\\uDFF3\\uFE0F\\u200D\\uD83C\\uDF08|\\uD83D\\uDC69\\u200D\\uD83D\\uDC67|\\uD83D\\uDC69\\u200D\\uD83D\\uDC66|\\uD83D\\uDC15\\u200D\\uD83E\\uDDBA|\\uD83C\\uDDFD\\uD83C\\uDDF0|\\uD83C\\uDDF6\\uD83C\\uDDE6|\\uD83C\\uDDF4\\uD83C\\uDDF2|\\uD83E\\uDDD1(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC69(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83C\\uDDFF(?:\\uD83C[\\uDDE6\\uDDF2\\uDDFC])|\\uD83C\\uDDFE(?:\\uD83C[\\uDDEA\\uDDF9])|\\uD83C\\uDDFC(?:\\uD83C[\\uDDEB\\uDDF8])|\\uD83C\\uDDFB(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDEE\\uDDF3\\uDDFA])|\\uD83C\\uDDFA(?:\\uD83C[\\uDDE6\\uDDEC\\uDDF2\\uDDF3\\uDDF8\\uDDFE\\uDDFF])|\\uD83C\\uDDF9(?:\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDED\\uDDEF-\\uDDF4\\uDDF7\\uDDF9\\uDDFB\\uDDFC\\uDDFF])|\\uD83C\\uDDF8(?:\\uD83C[\\uDDE6-\\uDDEA\\uDDEC-\\uDDF4\\uDDF7-\\uDDF9\\uDDFB\\uDDFD-\\uDDFF])|\\uD83C\\uDDF7(?:\\uD83C[\\uDDEA\\uDDF4\\uDDF8\\uDDFA\\uDDFC])|\\uD83C\\uDDF5(?:\\uD83C[\\uDDE6\\uDDEA-\\uDDED\\uDDF0-\\uDDF3\\uDDF7-\\uDDF9\\uDDFC\\uDDFE])|\\uD83C\\uDDF3(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA-\\uDDEC\\uDDEE\\uDDF1\\uDDF4\\uDDF5\\uDDF7\\uDDFA\\uDDFF])|\\uD83C\\uDDF2(?:\\uD83C[\\uDDE6\\uDDE8-\\uDDED\\uDDF0-\\uDDFF])|\\uD83C\\uDDF1(?:\\uD83C[\\uDDE6-\\uDDE8\\uDDEE\\uDDF0\\uDDF7-\\uDDFB\\uDDFE])|\\uD83C\\uDDF0(?:\\uD83C[\\uDDEA\\uDDEC-\\uDDEE\\uDDF2\\uDDF3\\uDDF5\\uDDF7\\uDDFC\\uDDFE\\uDDFF])|\\uD83C\\uDDEF(?:\\uD83C[\\uDDEA\\uDDF2\\uDDF4\\uDDF5])|\\uD83C\\uDDEE(?:\\uD83C[\\uDDE8-\\uDDEA\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9])|\\uD83C\\uDDED(?:\\uD83C[\\uDDF0\\uDDF2\\uDDF3\\uDDF7\\uDDF9\\uDDFA])|\\uD83C\\uDDEC(?:\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEE\\uDDF1-\\uDDF3\\uDDF5-\\uDDFA\\uDDFC\\uDDFE])|\\uD83C\\uDDEB(?:\\uD83C[\\uDDEE-\\uDDF0\\uDDF2\\uDDF4\\uDDF7])|\\uD83C\\uDDEA(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDED\\uDDF7-\\uDDFA])|\\uD83C\\uDDE9(?:\\uD83C[\\uDDEA\\uDDEC\\uDDEF\\uDDF0\\uDDF2\\uDDF4\\uDDFF])|\\uD83C\\uDDE8(?:\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDEE\\uDDF0-\\uDDF5\\uDDF7\\uDDFA-\\uDDFF])|\\uD83C\\uDDE7(?:\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEF\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9\\uDDFB\\uDDFC\\uDDFE\\uDDFF])|\\uD83C\\uDDE6(?:\\uD83C[\\uDDE8-\\uDDEC\\uDDEE\\uDDF1\\uDDF2\\uDDF4\\uDDF6-\\uDDFA\\uDDFC\\uDDFD\\uDDFF])|[#\\*0-9]\\uFE0F\\u20E3|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD6-\\uDDDD])(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:\\u26F9|\\uD83C[\\uDFCB\\uDFCC]|\\uD83D\\uDD75)(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:[\\u261D\\u270A-\\u270D]|\\uD83C[\\uDF85\\uDFC2\\uDFC7]|\\uD83D[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66\\uDC67\\uDC6B-\\uDC6D\\uDC70\\uDC72\\uDC74-\\uDC76\\uDC78\\uDC7C\\uDC83\\uDC85\\uDCAA\\uDD74\\uDD7A\\uDD90\\uDD95\\uDD96\\uDE4C\\uDE4F\\uDEC0\\uDECC]|\\uD83E[\\uDD0F\\uDD18-\\uDD1C\\uDD1E\\uDD1F\\uDD30-\\uDD36\\uDDB5\\uDDB6\\uDDBB\\uDDD2-\\uDDD5])(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:[\\u231A\\u231B\\u23E9-\\u23EC\\u23F0\\u23F3\\u25FD\\u25FE\\u2614\\u2615\\u2648-\\u2653\\u267F\\u2693\\u26A1\\u26AA\\u26AB\\u26BD\\u26BE\\u26C4\\u26C5\\u26CE\\u26D4\\u26EA\\u26F2\\u26F3\\u26F5\\u26FA\\u26FD\\u2705\\u270A\\u270B\\u2728\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2795-\\u2797\\u27B0\\u27BF\\u2B1B\\u2B1C\\u2B50\\u2B55]|\\uD83C[\\uDC04\\uDCCF\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE1A\\uDE2F\\uDE32-\\uDE36\\uDE38-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF20\\uDF2D-\\uDF35\\uDF37-\\uDF7C\\uDF7E-\\uDF93\\uDFA0-\\uDFCA\\uDFCF-\\uDFD3\\uDFE0-\\uDFF0\\uDFF4\\uDFF8-\\uDFFF]|\\uD83D[\\uDC00-\\uDC3E\\uDC40\\uDC42-\\uDCFC\\uDCFF-\\uDD3D\\uDD4B-\\uDD4E\\uDD50-\\uDD67\\uDD7A\\uDD95\\uDD96\\uDDA4\\uDDFB-\\uDE4F\\uDE80-\\uDEC5\\uDECC\\uDED0-\\uDED2\\uDED5\\uDEEB\\uDEEC\\uDEF4-\\uDEFA\\uDFE0-\\uDFEB]|\\uD83E[\\uDD0D-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDD71\\uDD73-\\uDD76\\uDD7A-\\uDDA2\\uDDA5-\\uDDAA\\uDDAE-\\uDDCA\\uDDCD-\\uDDFF\\uDE70-\\uDE73\\uDE78-\\uDE7A\\uDE80-\\uDE82\\uDE90-\\uDE95])|(?:[#\\*0-9\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE\\u2600-\\u2604\\u260E\\u2611\\u2614\\u2615\\u2618\\u261D\\u2620\\u2622\\u2623\\u2626\\u262A\\u262E\\u262F\\u2638-\\u263A\\u2640\\u2642\\u2648-\\u2653\\u265F\\u2660\\u2663\\u2665\\u2666\\u2668\\u267B\\u267E\\u267F\\u2692-\\u2697\\u2699\\u269B\\u269C\\u26A0\\u26A1\\u26AA\\u26AB\\u26B0\\u26B1\\u26BD\\u26BE\\u26C4\\u26C5\\u26C8\\u26CE\\u26CF\\u26D1\\u26D3\\u26D4\\u26E9\\u26EA\\u26F0-\\u26F5\\u26F7-\\u26FA\\u26FD\\u2702\\u2705\\u2708-\\u270D\\u270F\\u2712\\u2714\\u2716\\u271D\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2763\\u2764\\u2795-\\u2797\\u27A1\\u27B0\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC04\\uDCCF\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE02\\uDE1A\\uDE2F\\uDE32-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF21\\uDF24-\\uDF93\\uDF96\\uDF97\\uDF99-\\uDF9B\\uDF9E-\\uDFF0\\uDFF3-\\uDFF5\\uDFF7-\\uDFFF]|\\uD83D[\\uDC00-\\uDCFD\\uDCFF-\\uDD3D\\uDD49-\\uDD4E\\uDD50-\\uDD67\\uDD6F\\uDD70\\uDD73-\\uDD7A\\uDD87\\uDD8A-\\uDD8D\\uDD90\\uDD95\\uDD96\\uDDA4\\uDDA5\\uDDA8\\uDDB1\\uDDB2\\uDDBC\\uDDC2-\\uDDC4\\uDDD1-\\uDDD3\\uDDDC-\\uDDDE\\uDDE1\\uDDE3\\uDDE8\\uDDEF\\uDDF3\\uDDFA-\\uDE4F\\uDE80-\\uDEC5\\uDECB-\\uDED2\\uDED5\\uDEE0-\\uDEE5\\uDEE9\\uDEEB\\uDEEC\\uDEF0\\uDEF3-\\uDEFA\\uDFE0-\\uDFEB]|\\uD83E[\\uDD0D-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDD71\\uDD73-\\uDD76\\uDD7A-\\uDDA2\\uDDA5-\\uDDAA\\uDDAE-\\uDDCA\\uDDCD-\\uDDFF\\uDE70-\\uDE73\\uDE78-\\uDE7A\\uDE80-\\uDE82\\uDE90-\\uDE95])\\uFE0F|(?:[\\u261D\\u26F9\\u270A-\\u270D]|\\uD83C[\\uDF85\\uDFC2-\\uDFC4\\uDFC7\\uDFCA-\\uDFCC]|\\uD83D[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66-\\uDC78\\uDC7C\\uDC81-\\uDC83\\uDC85-\\uDC87\\uDC8F\\uDC91\\uDCAA\\uDD74\\uDD75\\uDD7A\\uDD90\\uDD95\\uDD96\\uDE45-\\uDE47\\uDE4B-\\uDE4F\\uDEA3\\uDEB4-\\uDEB6\\uDEC0\\uDECC]|\\uD83E[\\uDD0F\\uDD18-\\uDD1F\\uDD26\\uDD30-\\uDD39\\uDD3C-\\uDD3E\\uDDB5\\uDDB6\\uDDB8\\uDDB9\\uDDBB\\uDDCD-\\uDDCF\\uDDD1-\\uDDDD]))|(^|[\\s\\(\\]])(#[0-9_a-z\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0100-\\u024f\\u0253\\u0254\\u0256\\u0257\\u0259\\u025b\\u0263\\u0268\\u026f\\u0272\\u0289\\u028b\\u02bb\\u0300-\\u036f\\u1e00-\\u1eff\\u0400-\\u04ff\\u0500-\\u0527\\u2de0-\\u2dff\\ua640-\\ua69f\\u0591-\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u05d0-\\u05ea\\u05f0-\\u05f4\\ufb1d-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufb4f\\u0610-\\u061a\\u0620-\\u065f\\u066e-\\u06d3\\u06d5-\\u06dc\\u06de-\\u06e8\\u06ea-\\u06ef\\u06fa-\\u06fc\\u06ff\\u0750-\\u077f\\u08a0\\u08a2-\\u08ac\\u08e4-\\u08fe\\ufb50-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\u200c\\u0e01-\\u0e3a\\u0e40-\\u0e4e\\u1100-\\u11ff\\u3130-\\u3185\\uA960-\\uA97F\\uAC00-\\uD7AF\\uD7B0-\\uD7FF\\u3003\\u3005\\u303b\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uff9f\\uffa1-\\uffdc]{2,64})|(^|\\s)\\/([a-zA-Z\\d_]{1,32})(?:@([a-zA-Z\\d_]{5,32}))?(\\b|$)","i"),h=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,u=/[`_*@]/,p=/(^|\s|\n)(````?)([\s\S]+?)(````?)([\s\n\.,:?!;]|$)|(^|\s)(`|\*\*|__)([^\n]+?)\7([\s\.,:?!;]|$)|@(\d+)\s*\((.+?)\)/m,g={Telegram:"tg://search_hashtag?hashtag={1}",Twitter:"https://twitter.com/hashtag/{1}",Instagram:"https://instagram.com/explore/tags/{1}/","Google Plus":"https://plus.google.com/explore/{1}"},m={Telegram:"#/im?p=%40{1}",Twitter:"https://twitter.com/{1}",Instagram:"https://instagram.com/{1}/",GitHub:"https://github.com/{1}"},_={"`":"messageEntityCode","**":"messageEntityBold",__:"messageEntityItalic"};function y(e){let t=l.emoji[e];if(!t)return null;let s=0,o="";l.splitted?(s=t[l.keyX]%6,o=1+(t[l.keyX]/6|0)):s=t[l.keyX];let r=s*l.multiplyX,a=100/l.side*t[l.keyY];return l.splitted&&(r=9==o?100*s/5:100*s/6),{row:a,column:r,sheetNo:o}}function f(e,t){var s;t=t||{};for(var o,r,a=e,n=[],l="",d=0;s=a.match(c);){if(r=d+s.index,s[3])n.push({_:"messageEntityMention",offset:r+s[1].length,length:s[2].length+s[3].length});else if(s[4])if(h.test(s[4]))n.push({_:"messageEntityEmail",offset:r,length:s[4].length});else{var u=!1,p=s[5],g=s[6];if(g){if(p||"xn--"!==g.substr(0,4)&&-1===i.a.TLD.indexOf(g.toLowerCase())||(p="http://"),p){var m=v(s[4]);m.length!==s[4].length&&(s[4].substring(m.length),s[4]=m),u=(s[5]?"":p)+s[4]}}else u=(s[5]?"":"http://")+s[4];u&&n.push({_:"messageEntityUrl",offset:r,length:s[4].length})}else s[7]?n.push({_:"messageEntityLinebreak",offset:r,length:1}):s[8]?(l&&(r-=s[8].length),(o=y(l+=s[8]))&&(n.push({_:"messageEntityEmoji",offset:r,length:l.length,coords:o}),l="")):s[10]?n.push({_:"messageEntityHashtag",offset:r+s[9].length,length:s[10].length}):s[12]&&n.push({_:"messageEntityBotCommand",offset:r+s[11].length,length:1+s[12].length+(s[13]?1+s[13].length:0)});a=a.substr(s.index+s[0].length),d+=s.index+s[0].length}return n}function b(e,t,s){return void 0===t?Object(r.encodeEntities)(e):(s.hasNested=!0,x(e,{entities:t,nested:!0}))}function x(e,t={}){if(!e||!e.length)return"";var s=t.entities,o=t.contextSite||"Telegram",a="Telegram"!=o;void 0===s&&(s=f(e,t));for(var i,n,c,h,u=s.length,p=[],_=0,y=(t.emojiIconSize,0);y<u;y++){if((i=s[y]).offset>_)p.push(Object(r.encodeEntities)(e.substr(_,i.offset-_)));else if(i.offset<_)continue;switch(c=!1,n=e.substr(i.offset,i.length),i._){case"messageEntityMention":if(!(w=!t.noLinks&&m[o])){c=!0;break}var x=n.substr(1),v="";t.highlightUsername&&t.highlightUsername.toLowerCase()==x.toLowerCase()&&(v='class="im_message_mymention"'),p.push("<a ",v,a?' target="_blank" rel="noopener noreferrer" ':"",' href="',w.replace("{1}",encodeURIComponent(x)),'">',Object(r.encodeEntities)(n),"</a>");break;case"messageEntityMentionName":if(t.noLinks){c=!0;break}p.push('<a href="#/im?p=u',encodeURIComponent(i.user_id),'">',Object(r.encodeEntities)(n),"</a>");break;case"messageEntityHashtag":var w;if(!(w=!t.noLinks&&g[o])){c=!0;break}var S=n.substr(1);p.push("<a ",a?' target="_blank" rel="noopener noreferrer" ':"",'href="',w.replace("{1}",encodeURIComponent(S)),'">',Object(r.encodeEntities)(n),"</a>");break;case"messageEntityEmail":if(t.noLinks){c=!0;break}p.push('<a href="',Object(r.encodeEntities)("mailto:"+n),'" target="_blank" rel="noopener noreferrer">',Object(r.encodeEntities)(n),"</a>");break;case"messageEntityUrl":case"messageEntityTextUrl":var E;"messageEntityTextUrl"==i._?(h=D(h=i.url,!0),E=b(n,i.nested,t)):(h=D(n,!1),E=Object(r.encodeEntities)(n.replace(/(%[A-Z\d]{2})+/g,(function(e){try{return decodeURIComponent(e)}catch(t){return e}})))),t.noLinks?p.push(E):p.push('<a href="',Object(r.encodeEntities)(h),'" target="_blank" rel="noopener noreferrer">',E,"</a>");break;case"messageEntityLinebreak":p.push(t.noLinebreaks?" ":"<br/>");break;case"messageEntityEmoji":E=`<img src="assets/img/blank.gif" alt="${Object(r.encodeEntities)(n)}" class="emoji" style="background: url(${l.sheetUrl}${i.coords.sheetNo}.png);\n        background-position:${i.coords.column}% ${i.coords.row}%;\n        background-size:${l.sizeX}% ${l.sizeY}%">`,p.push(d?`<span class="emoji" contenteditable="false">${Object(r.encodeEntities)(n)}</span>`:E),!0;break;case"messageEntityBotCommand":if(t.noLinks||t.noCommands||a){c=!0;break}var P,C,F=n.substr(1);-1!=(C=F.indexOf("@"))?(P=F.substr(C+1),F=F.substr(0,C)):P=t.fromBot,p.push('<a href="',Object(r.encodeEntities)("tg://bot_command?command="+encodeURIComponent(F)+(P?"&bot="+encodeURIComponent(P):"")),'">',Object(r.encodeEntities)(n),"</a>");break;case"messageEntityBold":if(t.noTextFormat){p.push(b(n,i.nested,t));break}p.push("<strong>",b(n,i.nested,t),"</strong>");break;case"messageEntityItalic":if(t.noTextFormat){p.push(b(n,i.nested,t));break}p.push("<em>",b(n,i.nested,t),"</em>");break;case"messageEntityHighlight":p.push("<i>",b(n,i.nested,t),"</i>");break;case"messageEntityCode":if(t.noTextFormat){p.push(Object(r.encodeEntities)(n));break}p.push("<code>",Object(r.encodeEntities)(n),"</code>");break;case"messageEntityPre":if(t.noTextFormat){p.push(Object(r.encodeEntities)(n));break}p.push("<pre><code",i.language?' class="language-'+Object(r.encodeEntities)(i.language)+'"':"",">",Object(r.encodeEntities)(n),"</code></pre>");break;default:c=!0}_=i.offset+(c?0:i.length)}return p.push(Object(r.encodeEntities)(e.substr(_))),e=p.join("")}function v(e){for(var t=e.length,s=e.split("(").length-1,o=e.split(")").length-1;o>s&&")"===e.charAt(t-1);)e=e.substr(0,t-1),o--,t--;return s>o&&(e=e.replace(/\)+$/,"")),e}function D(e,t){var s,o;if(e.match(/^https?:\/\//i)||(e="http://"+e),2==t)e="tg://unsafe_url?url="+encodeURIComponent(e);else if(s=e.match(/^https?:\/\/t(?:elegram)?\.me\/(.+)/)){var r=s[1].split("/");switch(r[0]){case"joinchat":e="tg://join?invite="+r[1];break;case"addstickers":e="tg://addstickers?set="+r[1];break;default:if(r[1]&&r[1].match(/^\d+$/))e="tg://resolve?domain="+r[0]+"&post="+r[1];else if(1==r.length){var a=r[0].split("?"),i=a[0],n=a[1];if("iv"==i){var l=(n||"").match(/url=([^&=]+)/);if(l){e=l[1];try{e=decodeURIComponent(e)}catch(e){}return D(e,t)}}e="tg://resolve?domain="+i+(n?"&"+n:"")}}}else(o=e.match(/^https?:\/\/telesco\.pe\/([^/?]+)\/(\d+)/))?e="tg://resolve?domain="+o[1]+"&post="+o[2]:t&&(e="tg://unsafe_url?url="+encodeURIComponent(e));return e}let w={wrapRichText:x,wrapPlainText:function(e,t={}){if(d)return e;if(!e||!e.length)return"";var s,r,a=e=e.replace(/\ufe0f/g,"",e);for(e=[];s=a.match(c);)e.push(a.substr(0,s.index)),s[8]&&(o=n.emojiMap[s[8]])&&(r=l[o][1][0])?e.push(":"+r+":"):e.push(s[0]),a=a.substr(s.index+s[0].length);return e.push(a),e.join("")},wrapDraftText:function(e,t){if(!e||!e.length)return"";var s=(t=t||{}).entities;void 0===s&&(s=f(e,t));var o,r,a,i=0,n=s.length,l=[],d=0;for(i=0;i<n;i++){if((o=s[i]).offset>d)l.push(e.substr(d,o.offset-d));else if(o.offset<d)continue;switch(a=!1,r=e.substr(o.offset,o.length),o._){case"messageEntityEmoji":l.push(":",o.title,":");break;case"messageEntityCode":l.push("`",r,"`");break;case"messageEntityBold":l.push("**",r,"**");break;case"messageEntityItalic":l.push("__",r,"__");break;case"messageEntityPre":l.push("```",r,"```");break;case"messageEntityMentionName":l.push("@",o.user_id," (",r,")");break;default:a=!0}d=o.offset+(a?0:o.length)}return l.push(e.substr(d)),l.join("")},wrapUrl:D,wrapEmojiText:function(e){return e?x(e,{entities:f(e).filter(e=>"messageEntityEmoji"==e._)}):""},parseEntities:f,parseMarkdown:function(e,t,s){if(!u.test(e))return s?e:e.trim();for(var o,r,a=e,i=[],n=0;o=a.match(p);){r=n+o.index,i.push(a.substr(0,o.index)),n-=(e=o[3]||o[8]||o[11]).length,n+=(e=e.replace(/^\s+|\s+$/g,"")).length,e.match(/^`*$/)?i.push(o[0]):o[3]?("\n"==o[5]&&(o[5]="",n-=1),i.push(o[1]+e+o[5]),t.push({_:"messageEntityPre",language:"",offset:r+o[1].length,length:e.length}),n-=o[2].length+o[4].length):o[7]?(i.push(o[6]+e+o[9]),t.push({_:_[o[7]],offset:r+o[6].length,length:e.length}),n-=2*o[7].length):o[11]&&(i.push(e),t.push({_:"messageEntityMentionName",user_id:o[10],offset:r,length:e.length}),n-=o[0].length-e.length),a=a.substr(o.index+o[0].length),n+=o.index+o[0].length}return i.push(a),(i=i.join("")).replace(/\s+/g,"").length||(i=e,t.splice(0,t.length)),t.length||s||(i=i.trim()),i},parseEmojis:function(e){return e.replace(/:([a-z0-9\-\+\*_]+?):/gi,(function(e,t){var s=n.shortcuts[t];return void 0!==s?n.emojis[s][0]:e}))},mergeEntities:function(e,t,s){var o,a,i,n,l,d,c,h,u,p=t.slice(),g=e.length,m=t.length,_=0;for(o=0;o<g;o++)if(i=e[o],!s||"messageEntityLinebreak"==i._||"messageEntityEmoji"==i._){for(d=(l=i.offset)+i.length,u=!1,a=_;a<m;a++){if(h=(c=(n=t[a]).offset)+n.length,c<=l&&(_=a),l>=c&&l<h||d>c&&d<=h){s&&l>=c&&d<=h&&(void 0===n.nested&&(n.nested=[]),i.offset-=c,n.nested.push(Object(r.copy)(i))),u=!0;break}if(c>=d)break}u||p.push(i)}return p.sort((function(e,t){return e.offset-t.offset})),p},getEmojiSpritesheetCoords:y,emojiSupported:d};window.RichTextProcessor=w},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(0),a=s(3),i=o(s(5)),n=o(s(1)),l=o(s(26)),d=s(2);class c{constructor(){this.users={},this.usernames={},this.userAccess={},this.cachedPhotoLocations={},this.contactsIndex=r.SearchIndexManager.createIndex(),n.default.getUserID().then(e=>{this.myID=e}),r.$rootScope.$on("user_auth",e=>{let t=e.detail;this.myID=t?t.id:0}),setInterval(this.updateUsersStatuses.bind(this),6e4),r.$rootScope.$on("stateSynchronized",this.updateUsersStatuses.bind(this)),r.$rootScope.$on("apiUpdate",e=>{let t=e.detail;switch(t._){case"updateUserStatus":var s=t.user_id;(o=this.users[s])&&(o.status=t.status,o.status&&(o.status.expires&&(o.status.expires-=l.default.serverTimeOffset),o.status.was_online&&(o.status.was_online-=l.default.serverTimeOffset)),o.sortStatus=this.getUserStatusForSort(o.status),r.$rootScope.$broadcast("user_update",s));break;case"updateUserPhoto":var o;s=t.user_id;(o=this.users[s])?(this.forceUserOnline(s),o.photo?r.safeReplaceObject(o.photo,t.photo):o.photo=t.photo,void 0!==this.cachedPhotoLocations[s]&&r.safeReplaceObject(this.cachedPhotoLocations[s],t.photo?t.photo:{empty:!0}),r.$rootScope.$broadcast("user_update",s)):console.warn("No user by id:",s);break;case"updateContactLink":this.onContactUpdated(t.user_id,"contactLinkContact"==t.my_link._)}})}fillContacts(){return this.contactsFillPromise?this.contactsFillPromise:this.contactsFillPromise=n.default.invokeApi("contacts.getContacts",{hash:0}).then(e=>{var t;return this.contactsList=[],this.saveApiUsers(e.users),e.contacts.forEach(e=>{t=e.user_id,this.contactsList.push(t),r.SearchIndexManager.indexObject(t,this.getUserSearchText(t),this.contactsIndex)}),this.contactsList})}getUserSearchText(e){var t=this.users[e];if(!t)return!1;var s="";return t.pFlags.self&&(s="user_name_saved_msgs_raw"),(t.first_name||"")+" "+(t.last_name||"")+" "+(t.phone||"")+" "+(t.username||"")+" "+s}getContacts(e){return this.fillContacts().then(t=>{if(e){const s=r.SearchIndexManager.search(e,this.contactsIndex),o=t.filter(e=>!!s[e]);t=o}return t.sort((e,t)=>{const s=(this.users[e]||{}).sortName||"",o=(this.users[t]||{}).sortName||"";return s.localeCompare(o)}),t})}resolveUsername(e){return this.usernames[e]||0}saveApiUsers(e){e.forEach(e=>this.saveApiUser(e))}saveApiUser(e,t){if(r.isObject(e)&&!(t&&r.isObject(this.users[e.id])&&this.users[e.id].first_name)){var s=e.id,o=this.users[s];if(void 0===e.pFlags&&(e.pFlags={}),!e.pFlags.min||void 0===o){if(e.phone&&(e.rPhone="+"+d.formatPhoneNumber(e.phone).formatted),e.first_name?(e.rFirstName=a.RichTextProcessor.wrapRichText(e.first_name,{noLinks:!0,noLinebreaks:!0}),e.rFullName=e.last_name?a.RichTextProcessor.wrapRichText(e.first_name+" "+(e.last_name||""),{noLinks:!0,noLinebreaks:!0}):e.rFirstName):(e.rFirstName=a.RichTextProcessor.wrapRichText(e.last_name,{noLinks:!0,noLinebreaks:!0})||e.rPhone||"user_first_name_deleted",e.rFullName=a.RichTextProcessor.wrapRichText(e.last_name,{noLinks:!0,noLinebreaks:!0})||e.rPhone||"user_name_deleted"),e.username){var i=r.SearchIndexManager.cleanUsername(e.username);this.usernames[i]=s}e.sortName=e.pFlags.deleted?"":r.SearchIndexManager.cleanSearchText(e.first_name+" "+(e.last_name||""),!1);var n=e.sortName.split(" "),c=n.shift(),h=n.pop();e.initials=c.charAt(0)+(h?h.charAt(0):c.charAt(1)),e.status&&(e.status.expires&&(e.status.expires-=l.default.serverTimeOffset),e.status.was_online&&(e.status.was_online-=l.default.serverTimeOffset)),e.pFlags.bot?e.sortStatus=-1:e.sortStatus=this.getUserStatusForSort(e.status),void 0===(o=this.users[s])?o=this.users[s]=e:r.safeReplaceObject(o,e),r.$rootScope.$broadcast("user_update",s),void 0!==this.cachedPhotoLocations[s]&&r.safeReplaceObject(this.cachedPhotoLocations[s],e&&e.photo?e.photo:{empty:!0})}}}saveUserAccess(e,t){this.userAccess[e]=t}getUserStatusForSort(e){if(e){var t=e.expires||e.was_online;if(t)return t;var s=r.tsNow(!0);switch(e._){case"userStatusRecently":return s-259200;case"userStatusLastWeek":return s-604800;case"userStatusLastMonth":return s-2592e3}}return 0}getUser(e){return r.isObject(e)?e:this.users[e]||{id:e,pFlags:{deleted:!0},access_hash:this.userAccess[e]}}getSelf(){return this.getUser(this.myID)}getUserStatusString(e){if(this.isBot(e))return"bot";let t=this.getUser(e);if(!t||!t.status)return"";let s="";switch(t.status._){case"userStatusRecently":s="last seen recently";break;case"userStatusLastWeek":s="last seen last week";break;case"userStatusLastMonth":s="last seen last month";break;case"userStatusOffline":{s="last seen ";let e=t.status.was_online,o=Date.now()/1e3;if(o-e<60)s+=" just now";else if(o-e<3600){let t=(o-e)/60|0;s+=t+" "+(1==t?"minute":"minutes")+" ago"}else if(o-e<86400){let t=(o-e)/3600|0;s+=t+" "+(1==t?"hour":"hours")+" ago"}else{let t=new Date(1e3*e);s+=("0"+t.getDate()).slice(-2)+"."+("0"+(t.getMonth()+1)).slice(-2)+" at "+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)}break}case"userStatusOnline":s="online"}return s}isBot(e){return this.users[e]&&this.users[e].pFlags.bot}hasUser(e,t){var s=this.users[e];return r.isObject(s)&&(t||!s.pFlags.min)}getUserPhoto(e){var t=this.getUser(e);return void 0===this.cachedPhotoLocations[e]&&(this.cachedPhotoLocations[e]=t&&t.photo?t.photo:{empty:!0}),this.cachedPhotoLocations[e]}getUserString(e){var t=this.getUser(e);return"u"+e+(t.access_hash?"_"+t.access_hash:"")}getUserInput(e){var t=this.getUser(e);return t.pFlags&&t.pFlags.self?{_:"inputUserSelf"}:{_:"inputUser",user_id:e,access_hash:t.access_hash||0}}updateUsersStatuses(){var e=r.tsNow(!0);for(let t in this.users){let s=this.users[t];s.status&&"userStatusOnline"==s.status._&&s.status.expires<e&&(s.status=s.status.wasStatus||{_:"userStatusOffline",was_online:s.status.expires},delete s.status.wasStatus,r.$rootScope.$broadcast("user_update",s.id))}}forceUserOnline(e){if(!this.isBot(e)){var t,s=this.getUser(e);if(s&&s.status&&"userStatusOnline"!=s.status._&&"userStatusEmpty"!=s.status._)"userStatusOffline"!=s.status._&&(delete s.status.wasStatus,t=r.copy(s.status)),s.status={_:"userStatusOnline",expires:r.tsNow(!0)+60,wasStatus:t},s.sortStatus=this.getUserStatusForSort(s.status),r.$rootScope.$broadcast("user_update",e)}}deleteContacts(e){var t=[];return e.forEach(e=>{t.push(this.getUserInput(e))}),n.default.invokeApi("contacts.deleteContacts",{id:t}).then(()=>{e.forEach(e=>{this.onContactUpdated(e,!1)})})}getTopPeers(){return n.default.invokeApi("contacts.getTopPeers",{flags:1,correspondents:!0,offset:0,limit:30,hash:0}).then(e=>(this.saveApiUsers(e.users),i.default.saveApiChats(e.chats),e.categories))}searchContacts(e,t=20){return n.default.invokeApi("contacts.search",{q:e,limit:t}).then(e=>(this.saveApiUsers(e.users),i.default.saveApiChats(e.chats),e))}onContactUpdated(e,t){if(e=parseInt(""+e),Array.isArray(this.contactsList)){var s=this.contactsList.indexOf(e);t!=(-1!=s)&&(t?(this.contactsList.push(e),r.SearchIndexManager.indexObject(e,this.getUserSearchText(e),this.contactsIndex)):this.contactsList.splice(s,1),r.$rootScope.$broadcast("contacts_update",e))}}setUserStatus(e,t){if(!this.isBot(e)){var s=this.users[e];if(s){var o=t?{_:"userStatusOffline",was_online:r.tsNow(!0)}:{_:"userStatusOnline",expires:r.tsNow(!0)+500};s.status=o,s.sortStatus=this.getUserStatusForSort(s.status),r.$rootScope.$broadcast("user_update",e)}}}}t.AppUsersManager=c,t.default=new c},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(0),a=s(3),i=o(s(4)),n=o(s(1)),l=o(s(18));class d{constructor(){this.chats={},this.usernames={},this.channelAccess={},this.megagroups={},this.cachedPhotoLocations={},r.$rootScope.$on("apiUpdate",e=>{let t=e.detail;switch(t._){case"updateChannel":var s=t.channel_id;r.$rootScope.$broadcast("channel_settings",{channelID:s})}})}saveApiChats(e){e.forEach(e=>this.saveApiChat(e))}saveApiChat(e){if(!r.isObject(e))return;e.rTitle=e.title||"chat_title_deleted",e.rTitle=a.RichTextProcessor.wrapRichText(e.title,{noLinks:!0,noLinebreaks:!0})||"chat_title_deleted";let t=this.chats[e.id],s=r.SearchIndexManager.cleanSearchText(e.title||"",!1).split(" "),o=s.shift(),i=s.pop();if(e.initials=o.charAt(0)+(i?i.charAt(0):o.charAt(1)),void 0===e.pFlags&&(e.pFlags={}),!e.pFlags.min||void 0===t){if("channel"==e._&&void 0===e.participants_count&&void 0!==t&&t.participants_count&&(e.participants_count=t.participants_count),e.username){let t=r.SearchIndexManager.cleanUsername(e.username);this.usernames[t]=e.id}void 0===t?t=this.chats[e.id]=e:(r.safeReplaceObject(t,e),r.$rootScope.$broadcast("chat_update",e.id)),void 0!==this.cachedPhotoLocations[e.id]&&r.safeReplaceObject(this.cachedPhotoLocations[e.id],e&&e.photo?e.photo:{empty:!0})}}getChat(e){return e<0&&(e=-e),this.chats[e]||{id:e,deleted:!0,access_hash:this.channelAccess[e]}}hasRights(e,t){if(!(e in this.chats))return!1;var s=this.getChat(e);if("chatForbidden"==s._||"channelForbidden"==s._||s.pFlags.kicked||s.pFlags.left)return!1;if(s.pFlags.creator)return!0;switch(t){case"send":if("channel"==s._&&!s.pFlags.megagroup&&!s.pFlags.editor)return!1;break;case"edit_title":case"edit_photo":case"invite":if("channel"==s._){if(!s.pFlags.megagroup)return!1;if(!(s.pFlags.editor||"invite"==t&&s.pFlags.democracy))return!1}else if(s.pFlags.admins_enabled&&!s.pFlags.admin)return!1}return!0}resolveUsername(e){return this.usernames[e]||0}saveChannelAccess(e,t){this.channelAccess[e]=t}saveIsMegagroup(e){this.megagroups[e]=!0}isChannel(e){var t=this.chats[e];return!((!t||"channel"!=t._&&"channelForbidden"!=t._)&&!this.channelAccess[e])}isMegagroup(e){if(this.megagroups[e])return!0;var t=this.chats[e];return!(!t||"channel"!=t._||!t.pFlags.megagroup)}isBroadcast(e){return this.isChannel(e)&&!this.isMegagroup(e)}getChannelInput(e){return e?{_:"inputChannel",channel_id:e,access_hash:this.getChat(e).access_hash||this.channelAccess[e]||0}:{_:"inputChannelEmpty"}}getChatInputPeer(e){return{_:"inputPeerChat",chat_id:e}}getChannelInputPeer(e){return e?{_:"inputPeerChannel",channel_id:e,access_hash:this.getChat(e).access_hash||this.channelAccess[e]||0}:{_:"inputPeerEmpty"}}hasChat(e,t){var s=this.chats[e];return r.isObject(s)&&(t||!s.pFlags.min)}getChatPhoto(e){var t=this.getChat(e);return void 0===this.cachedPhotoLocations[e]&&(this.cachedPhotoLocations[e]=t&&t.photo?t.photo:{empty:!0}),this.cachedPhotoLocations[e]}getChatString(e){var t=this.getChat(e);return this.isChannel(e)?(this.isMegagroup(e)?"s":"c")+e+"_"+t.access_hash:"g"+e}getChatMembersString(e){let t=this.getChat(e),s=this.isChannel(e)&&!this.isMegagroup(e),o=t.participants_count||t.participants.participants.length;return r.numberWithCommas(o)+" "+(s?"subscribers":"members")}wrapForFull(e,t){var s=r.copy(t),o=this.getChat(e);return s.participants_count||(s.participants_count=o.participants_count),s.participants&&"chatParticipants"==s.participants._&&(s.participants.participants=this.wrapParticipants(e,s.participants.participants)),s.about&&(s.rAbout=a.RichTextProcessor.wrapRichText(s.about,{noLinebreaks:!0})),s.peerString=this.getChatString(e),s.chat=o,s}wrapParticipants(e,t){var s=this.getChat(e),o=i.default.getSelf().id;if(this.isChannel(e)){var r=s.pFlags.creator||s.pFlags.editor||s.pFlags.moderator;t.forEach(e=>{e.canLeave=o==e.user_id,e.canKick=r&&"channelParticipant"==e._,e.user=i.default.getUser(e.user_id)})}else{r=s.pFlags.creator||s.pFlags.admins_enabled&&s.pFlags.admin;t.forEach(e=>{e.canLeave=o==e.user_id,e.canKick=!e.canLeave&&(s.pFlags.creator||"chatParticipant"==e._&&(r||o==e.inviter_id)),e.user=i.default.getUser(e.user_id)})}return t}createChannel(e,t){return n.default.invokeApi("channels.createChannel",{flags:1,broadcast:!0,title:e,about:t}).then(e=>(l.default.processUpdateMessage(e),e.chats[0].id))}inviteToChannel(e,t){let s=this.getChannelInput(e),o=t.map(e=>i.default.getUserInput(e));return n.default.invokeApi("channels.inviteToChannel",{channel:s,users:o}).then(e=>{l.default.processUpdateMessage(e)})}createChat(e,t){return n.default.invokeApi("messages.createChat",{users:t.map(e=>i.default.getUserInput(e)),title:e}).then(e=>(l.default.processUpdateMessage(e),e.chats[0].id))}editPhoto(e,t){let s={_:"inputChatUploadedPhoto",file:t};return this.isChannel(e)?n.default.invokeApi("channels.editPhoto",{channel:this.getChannelInputPeer(e),photo:s}).then(e=>{l.default.processUpdateMessage(e)}):n.default.invokeApi("messages.editChatPhoto",{chat_id:e,photo:s}).then(e=>{l.default.processUpdateMessage(e)})}}t.AppChatsManager=d,t.default=new d},function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function n(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,n)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(0),i=r(s(23)),n=r(s(5)),l=r(s(4)),d=s(3),c=s(10),h=s(71),u=r(s(18)),p=r(s(8)),g=r(s(12)),m=r(s(7)),_=r(s(26)),y=r(s(16)),f=r(s(11)),b=r(s(15)),x=r(s(24)),v=r(s(26)),D=r(s(1)),w=r(s(40)),S=s(13),E=r(s(41));class P{constructor(){this.messagesStorage={},this.messagesForDialogs={},this.groupedMessagesStorage={},this.historiesStorage={},this.dialogsStorage={count:null,dialogs:{}},this.pendingByRandomID={},this.pendingByMessageID={},this.pendingAfterMsgs={},this.pendingTopMsgs={},this.sendFilePromise=Promise.resolve(),this.tempID=-1,this.tempFinalizeCallbacks={},this.dialogsIndex=a.SearchIndexManager.createIndex(),this.cachedResults={query:!1},this.lastSearchFilter={},this.lastSearchResults=[],this.needSingleMessages=[],this.fetchSingleMessagesTimeout=0,this.fetchSingleMessagesPromise=null,this.incrementedMessageViews={},this.needIncrementMessageViews=[],this.incrementMessageViewsTimeout=!1,this.maxSeenID=0,this.allDialogsLoaded={},this.dialogsOffsetDate={},this.pinnedIndex=0,this.dialogsNum=0,this.migratedFromTo={},this.migratedToFrom={},this.newMessagesHandlePromise=0,this.newMessagesToHandle={},this.newDialogsHandlePromise=0,this.newDialogsToHandle={},this.newUpdatesAfterReloadToHandle={},this.fwdMessagesPluralize=a._("conversation_forwarded_X_messages"),this.gameScorePluralize=a._("conversation_scored_X"),g.default.get("max_seen_msg").then(e=>{e&&!i.default.getMessageIDInfo(e)[1]&&(this.maxSeenID=e)}),a.$rootScope.$on("apiUpdate",e=>{let t=e.detail;this.handleUpdate(t)}),a.$rootScope.$on("webpage_updated",e=>{let t=e.detail;t.msgs.forEach(e=>{let s=this.getMessage(e);s.webpage=w.default.getWebPage(t.id),a.$rootScope.$broadcast("message_edit",{peerID:this.getMessagePeer(s),id:s.id,mid:e,justMedia:!0})})}),a.$rootScope.$on("draft_updated",e=>{let t=e.detail;var s=t.peerID,o=t.draft,r=this.getDialogByPeerID(s)[0];if(r){if(o&&o.date)l=o.date;else{var i=m.default.isChannel(s)?-s:0,l=this.getMessage(r.top_message).date;if(i){var d=n.default.getChat(i);(!l||d.date&&d.date>l)&&(l=d.date)}}r.pFlags.pinned||(r.index=this.generateDialogIndex(l)),this.pushDialogToStorage(r),a.$rootScope.$broadcast("dialog_draft",{peerID:s,draft:o,index:r.index})}})}getInputEntities(e){var t=a.copy(e);return t.forEach(e=>{"messageEntityMentionName"==e._&&(e._="inputMessageEntityMentionName",e.user_id=l.default.getUserInput(e.user_id))}),t}editMessage(e,t,s={}){if("string"!=typeof t||!this.canEditMessage(e))return Promise.reject();if(e<0){return void 0===this.tempFinalizeCallbacks[e]&&(this.tempFinalizeCallbacks[e]={}),new Promise((s,o)=>{this.tempFinalizeCallbacks[e].edit=e=>{console.log("invoke callback",e),this.editMessage(e,t).then(s,o)}})}var o=[];t=d.RichTextProcessor.parseMarkdown(t,o);var r=this.getMessage(e),a=this.getMessagePeer(r),n=0;let l=s.noWebPage||!1;return l&&(n|=2),t&&(n|=2056),D.default.invokeApi("messages.editMessage",{flags:n,peer:m.default.getInputPeerByID(a),id:i.default.getMessageLocalID(e),message:t,media:r.media,entities:this.getInputEntities(o),no_webpage:l}).then(e=>{u.default.processUpdateMessage(e)},e=>{if(!e||"MESSAGE_NOT_MODIFIED"!=e.type)return e&&"MESSAGE_EMPTY"==e.type&&(e.handled=!0),Promise.reject(e);e.handled=!0})}sendText(e,t,s={}){if("string"!=typeof t)return;e=m.default.getPeerMigratedTo(e)||e;var o=s.entities||[];if(s.viaBotID||(t=d.RichTextProcessor.parseMarkdown(t,o)),!t.length)return;var r,n=this.getInputEntities(o),h=this.tempID--,p=[c.nextRandomInt(4294967295),c.nextRandomInt(4294967295)],g=c.bigint(p[0]).shiftLeft(32).add(c.bigint(p[1])).toString(),_=this.historiesStorage[e],y=0,f={},b=s.replyToMsgID,x=m.default.isChannel(e),w=x&&m.default.isMegagroup(e),S=!(!x||w);let E=s.noWebPage||!1;void 0===_&&(_=this.historiesStorage[e]={count:null,history:[],pending:[]});var P=l.default.getSelf().id;e!=P&&(y|=2,f.out=!0,x||l.default.isBot(e)||(y|=1,f.unread=!0)),b&&(y|=8),S?(P=0,f.post=!0):y|=256,r={_:"message",id:h,from_id:P,to_id:m.default.getOutputPeer(e),flags:y,pFlags:f,date:a.tsNow(!0)+v.default.serverTimeOffset,message:t,random_id:g,reply_to_msg_id:b,via_bot_id:s.viaBotID,reply_markup:s.reply_markup,entities:o,views:S&&1,pending:!0},s.webPage&&(r.media={_:"messageMediaWebPage",webpage:s.webPage});var C=e=>{e?r.error=!0:delete r.error,a.$rootScope.$broadcast("messages_pending")};r.send=()=>{C(!1);var o={};this.pendingAfterMsgs[e]&&(o.afterMessageID=this.pendingAfterMsgs[e].messageID);var a,l=0;b&&(l|=1),S&&(l|=16),s.clearDraft&&(l|=128),E&&(l|=2),s.viaBotID?a=D.default.invokeApi("messages.sendInlineBotResult",{flags:l,peer:m.default.getInputPeerByID(e),random_id:p,reply_to_msg_id:i.default.getMessageLocalID(b),query_id:s.queryID,id:s.resultID},o):(n.length&&(l|=8),a=D.default.invokeApi("messages.sendMessage",{flags:l,no_webpage:E,peer:m.default.getInputPeerByID(e),message:t,random_id:p,reply_to_msg_id:i.default.getMessageLocalID(b),entities:n},o)),a.then(e=>{"updateShortSentMessage"==e._?(r.flags=e.flags,r.date=e.date,r.id=e.id,r.media=e.media,r.entities=e.entities,e={_:"updates",users:[],chats:[],seq:0,updates:[{_:"updateMessageID",random_id:g,id:e.id},{_:x?"updateNewChannelMessage":"updateNewMessage",message:r,pts:e.pts,pts_count:e.pts_count}]}):e.updates&&e.updates.forEach(e=>{"updateDraftMessage"==e._&&(e.local=!0)}),u.default.processUpdateMessage(e)},()=>{C(!0)}).finally(()=>{this.pendingAfterMsgs[e]===o&&delete this.pendingAfterMsgs[e]}),this.pendingAfterMsgs[e]=o},this.saveMessages([r]),_.pending.unshift(h),a.$rootScope.$broadcast("history_append",{peerID:e,messageID:h,my:!0}),setTimeout(()=>r.send(),0),this.pendingByRandomID[g]=[e,h]}sendFile(e,t,s={}){var o;e=m.default.getPeerMigratedTo(e)||e;var r,n,h=this.tempID--,g=[c.nextRandomInt(4294967295),c.nextRandomInt(4294967295)],v=c.bigint(g[0]).shiftLeft(32).add(c.bigint(g[1])).toString(),w=null!==(o=this.historiesStorage[e])&&void 0!==o?o:this.historiesStorage[e]={count:null,history:[],pending:[]},E=0,P={},C=s.replyToMsgID,F=m.default.isChannel(e),k=F&&m.default.isMegagroup(e),M=!(!F||k);let A="mime_type"in t?t.mime_type:t.type,T=t instanceof File?t.name:"",X=!(t instanceof File||t instanceof Blob),L=s.caption||"",I=a.tsNow(!0)+_.default.serverTimeOffset;if(L){let e=s.entities||[];L=d.RichTextProcessor.parseMarkdown(L,e)}let B=[],j="";if(s.isMedia)if(X)r="document",n="";else if(["image/jpeg","image/png","image/bmp"].indexOf(A)>=0){r="photo",n="photo."+A.split("/")[1],j="sendMessageUploadPhotoAction";let e={_:"photo",id:""+h,sizes:[{_:"photoSize",w:s.width,h:s.height,type:"m",size:t.size}],w:s.width,h:s.height,downloaded:t.size,url:s.objectURL||""};p.default.savePhoto(e)}else if(0===A.indexOf("audio/")||["video/ogg"].indexOf(A)>=0)r="audio",n="audio."+("ogg"==A.split("/")[1]?"ogg":"mp3"),j="sendMessageUploadAudioAction";else if(0===A.indexOf("video/")){r="video",n="video.mp4",j="sendMessageUploadVideoAction";let e=1;s.isRoundMessage&&(e|=2);let o={_:"documentAttributeVideo",flags:e,pFlags:{supports_streaming:!0,round_message:s.isRoundMessage},round_message:s.isRoundMessage,supports_streaming:!0,duration:s.duration,w:s.width,h:s.height};B.push(o);let a={_:"document",id:""+h,duration:s.duration,attributes:B,w:s.width,h:s.height,downloaded:t.size,thumbs:[],mime_type:A,url:s.objectURL||"",size:t.size};f.default.saveDoc(a)}else r="document",n="document."+A.split("/")[1],j="sendMessageUploadDocumentAction";else r="document",n="document."+A.split("/")[1],j="sendMessageUploadDocumentAction";console.log("AMM: sendFile",r,n,t.type,s);var O=l.default.getSelf().id;e!=O&&(E|=2,P.out=!0,F||l.default.isBot(e)||(E|=1,P.unread=!0)),C&&(E|=8),M?(O=0,P.post=!0):E|=256;let R=new x.default(null,!0);var N={_:"messageMediaPending",type:r,file_name:T||n,size:t.size,file:t,preloader:R,w:s.width,h:s.height,url:s.objectURL,progress:{percent:1,total:t.size,done:0,cancel:()=>{}}};B.push({_:"documentAttributeFilename",file_name:N.file_name}),R.preloader.onclick=()=>{console.log("cancelling upload",N),b.default.setTyping("sendMessageCancelAction"),N.progress.cancel()};var U={_:"message",id:h,from_id:O,to_id:m.default.getOutputPeer(e),flags:E,pFlags:P,date:I,message:L,media:X?{_:"messageMediaDocument",pFlags:{},flags:1,document:t}:N,random_id:v,reply_to_msg_id:C,views:M&&1,pending:!0},z=e=>{e?U.error=!0:delete U.error,a.$rootScope.$broadcast("messages_pending")},H=!1,q=null;let $=(t,o)=>(b.default.setTyping("sendMessageCancelAction"),D.default.invokeApi("messages.sendMedia",{flags:t,background:s.background,clear_draft:!0,peer:m.default.getInputPeerByID(e),media:o,message:L,random_id:g,reply_to_msg_id:i.default.getMessageLocalID(C)}).then(e=>{u.default.processUpdateMessage(e)},e=>{if("photo"==r&&400==e.code&&("PHOTO_INVALID_DIMENSIONS"==e.type||"PHOTO_SAVE_FILE_INVALID"==e.type))return e.handled=!0,r="document",void U.send();z(!0)}));U.send=()=>{let o=0;if(C&&(o|=1),s.background&&(o|=64),o|=128,X){let{id:e,access_hash:s,file_reference:r}=t;$(o,{_:"inputMediaDocument",flags:0,id:{_:"inputDocument",id:e,access_hash:s,file_reference:r}})}else if(t instanceof File||t instanceof Blob){let s=S.deferredPromise();this.sendFilePromise.then(()=>{H&&!U.error||(H=!1,q=y.default.uploadFile(t)),q&&q.then(e=>{var t;switch(console.log("appMessagesManager: sendFile uploaded:",e),e.name=n,H=!0,r){case"photo":t={_:"inputMediaUploadedPhoto",flags:0,file:e};break;default:t={_:"inputMediaUploadedDocument",file:e,mime_type:A,attributes:B}}$(o,t)},()=>{z(!0)}),q.notify=t=>{console.log("upload progress",t),N.progress.done=t.done,N.progress.percent=Math.max(1,Math.floor(100*t.done/t.total)),b.default.setTyping({_:j,progress:0|N.progress.percent}),R.setProgress(N.progress.percent),a.$rootScope.$broadcast("history_update",{peerID:e})},N.progress.cancel=()=>{H||(s.resolve(),q.cancel(),this.cancelPendingMessage(v))},q.finally(()=>{s.resolve(),R.detach()})}),this.sendFilePromise=s}},this.saveMessages([U]),w.pending.unshift(h),a.$rootScope.$broadcast("history_append",{peerID:e,messageID:h,my:!0}),setTimeout(U.send.bind(this),0),this.pendingByRandomID[v]=[e,h]}sendAlbum(e,t,s={}){var r;return o(this,void 0,void 0,(function*(){let o;e=m.default.getPeerMigratedTo(e)||e;let n=null!==(r=this.historiesStorage[e])&&void 0!==r?r:this.historiesStorage[e]={count:null,history:[],pending:[]},h=0,g={},v=s.replyToMsgID,w=m.default.isChannel(e),E=w&&m.default.isMegagroup(e),P=!(!w||E),C=s.caption||"",F=a.tsNow(!0)+_.default.serverTimeOffset;if(C){let e=s.entities||[];C=d.RichTextProcessor.parseMarkdown(C,e)}console.log("AMM: sendAlbum",t,s);let k=l.default.getSelf().id;e!=k&&(g.out=!0,w||l.default.isBot(e)||(g.unread=!0)),v&&(h|=1),P?(k=0,g.post=!0):h|=128;let M=t.map(()=>this.tempID--).reverse();o=M[M.length-1];let A=t.map((t,r)=>{let a=M[r],i=[c.nextRandomInt(4294967295),c.nextRandomInt(4294967295)],l=c.bigint(i[0]).shiftLeft(32).add(c.bigint(i[1])).toString(),d=new x.default(null,!0),u=s.sendFileDetails[r],_={_:"messageMediaPending",type:"album",preloader:d,progress:{percent:1,total:t.size,done:0,cancel:()=>{}},document:void 0,photo:void 0};if(0===t.type.indexOf("video/")){let e={_:"document",id:""+a,attributes:[{_:"documentAttributeVideo",flags:1,pFlags:{supports_streaming:!0,round_message:!1},round_message:!1,supports_streaming:!0,duration:u.duration,w:u.width,h:u.height}],downloaded:t.size,thumbs:[],mime_type:t.type,url:u.objectURL||"",size:t.size};f.default.saveDoc(e),_.document=e}else{let e={_:"photo",id:""+a,sizes:[{_:"photoSize",w:u.width,h:u.height,type:"m",size:t.size}],w:u.width,h:u.height,downloaded:t.size,url:u.objectURL||""};p.default.savePhoto(e),_.photo=e}d.preloader.onclick=()=>{console.log("cancelling upload",_),b.default.setTyping("sendMessageCancelAction"),_.progress.cancel()};let y={_:"message",id:a,from_id:k,grouped_id:o,to_id:m.default.getOutputPeer(e),flags:h,pFlags:g,date:F,message:C,media:_,random_id:l,randomID:i,reply_to_msg_id:v,views:P&&1,pending:!0,error:!1};return this.saveMessages([y]),n.pending.unshift(a),this.pendingByRandomID[l]=[e,a],y});a.$rootScope.$broadcast("history_append",{peerID:e,messageID:A[A.length-1].id,my:!0});let T=(e,t)=>{t?e.error=!0:delete e.error,a.$rootScope.$broadcast("messages_pending")},X=!1,L=null,I=m.default.getInputPeerByID(e),B=[];for(let o=0,r=t.length;o<r;++o){let r=t[o],i=A[o],n=i.media,l=n.preloader,d=0===r.type.indexOf("video/")?"sendMessageUploadVideoAction":"sendMessageUploadPhotoAction",c=S.deferredPromise();yield this.sendFilePromise,this.sendFilePromise=c,X&&!i.error||(X=!1,L=y.default.uploadFile(r)),L.notify=t=>{console.log("upload progress",t),n.progress.percent=Math.max(1,Math.floor(100*t.done/t.total)),b.default.setTyping({_:d,progress:0|n.progress.percent}),l.setProgress(n.progress.percent),a.$rootScope.$broadcast("history_update",{peerID:e})},yield L.then(e=>{let t;console.log("appMessagesManager: sendAlbum file uploaded:",e);let a=s.sendFileDetails[o];return t=a.duration?{_:"inputMediaUploadedDocument",flags:0,file:e,mime_type:r.type,attributes:[{_:"documentAttributeVideo",flags:2,supports_streaming:!0,duration:a.duration,w:a.width,h:a.height}]}:{_:"inputMediaUploadedPhoto",flags:0,file:e},D.default.invokeApi("messages.uploadMedia",{peer:I,media:t}).then(e=>{let t;if(e.photo){let s=e.photo;p.default.savePhoto(s),t=p.default.getInputByID(s.id)}else{let s=e.document;f.default.saveDoc(s),t=f.default.getInputByID(s.id)}B.push({_:"inputSingleMedia",flags:0,media:t,random_id:i.randomID,message:C,entities:[]}),C=""},()=>{T(i,!0)})},()=>{T(i,!0)}),console.log("appMessagesManager: sendAlbum uploadPromise.finally!"),c.resolve(),l.detach()}var j;X=!0,j=B,b.default.setTyping("sendMessageCancelAction"),D.default.invokeApi("messages.sendMultiMedia",{flags:h,peer:I,multi_media:j,reply_to_msg_id:i.default.getMessageLocalID(v)}).then(e=>{u.default.processUpdateMessage(e)},e=>{A.forEach(e=>T(e,!0))})}))}cancelPendingMessage(e){var t=this.pendingByRandomID[e];if(console.log("cancelPendingMessage",e,t),t){var s=t[0],o=t[1],r=this.historiesStorage[s],a=r.pending.indexOf(o);return u.default.processUpdateMessage({_:"updateShort",update:{_:"updateDeleteMessages",messages:[o]}}),-1!=a&&r.pending.splice(a,1),delete this.messagesStorage[o],!0}return!1}getConversations(e,t=20,s=0){var o;let r=null!==(o=this.dialogsStorage.dialogs[s])&&void 0!==o?o:this.dialogsStorage.dialogs[s]=[];this.cachedResults.query=!1;let a=0;if(e>0)for(;a<r.length&&!(e>r[a].index);a++);return this.allDialogsLoaded[s]||r.length>=a+t?Promise.resolve({dialogs:r.slice(a,a+t),count:r.length}):this.getTopMessages(t,s).then(o=>{let r=this.dialogsStorage.dialogs[s];if(a=0,e>0)for(;a<r.length&&!(e>r[a].index);a++);return{dialogs:r.slice(a,a+t),count:o}})}getTopMessages(e,t){var s=this.dialogsStorage.dialogs[t],o=0,r=0,d=0;this.dialogsOffsetDate[t]&&(o=this.dialogsOffsetDate[t]+v.default.serverTimeOffset,r=65536*this.dialogsOffsetDate[t],d|=1),t>0&&(d|=1,d|=2);return D.default.invokeApi("messages.getDialogs",{flags:d,folder_id:t,offset_date:o,offset_id:i.default.getMessageLocalID(0),offset_peer:m.default.getInputPeerByID(0),limit:e,hash:0},{timeout:0}).then(e=>{o||h.telegramMeWebService.setAuthorized(!0),l.default.saveApiUsers(e.users),n.default.saveApiChats(e.chats),this.saveMessages(e.messages);var i=!!o,d=!1;let c=e.dialogs.length,u={};for(let t=c-1;t>=0;--t){let s=e.dialogs[t];this.saveConversation(s),r&&s.index>r&&(this.newDialogsToHandle[s.peerID]=s,d=!0),s.read_inbox_max_id||s.read_outbox_max_id||(u[s.peerID]=s),i||m.default.isChannel(m.default.getPeerID(s.peer))||(this.incrementMaxSeenID(s.top_message),i=!0)}return Object.keys(u).length&&this.reloadConversation(Object.keys(u).map(e=>+e)).then(()=>{a.$rootScope.$broadcast("dialogs_multiupdate",u);for(let e in u)a.$rootScope.$broadcast("dialog_unread",{peerID:+e})}),(!e.dialogs.length||!e.count||s.length>=e.count)&&(this.allDialogsLoaded[t]=!0),d?this.scheduleHandleNewDialogs():a.$rootScope.$broadcast("dialogs_multiupdate",{}),e.count})}forwardMessages(e,t,s={}){e=m.default.getPeerMigratedTo(e)||e,t=t.sort((e,t)=>e-t);var o=0;s.withMyScore&&(o|=256);let r=i.default.splitMessageIDsByChannels(t),a=[];for(let t in r.msgIDs){let s=r.msgIDs[t],i=s.length,n=[];for(let e=0;e<i;e++)n.push([c.nextRandomInt(4294967295),c.nextRandomInt(4294967295)]);let l={};this.pendingAfterMsgs[e]&&(l.afterMessageID=this.pendingAfterMsgs[e].messageID);let d=D.default.invokeApi("messages.forwardMessages",{flags:o,from_peer:m.default.getInputPeerByID(-t),id:s,random_id:n,to_peer:m.default.getInputPeerByID(e)},l).then(e=>{u.default.processUpdateMessage(e)},()=>{}).then(()=>{this.pendingAfterMsgs[e]===l&&delete this.pendingAfterMsgs[e]});this.pendingAfterMsgs[e]=l,a.push(d)}return Promise.all(a)}generateDialogIndex(e){return void 0===e&&(e=a.tsNow(!0)+v.default.serverTimeOffset),65536*e+(65535&++this.dialogsNum)}generateIndexForDialog(e){let t=m.default.isChannel(e.peerID)?-e.peerID:0,s=i.default.getFullMessageID(e.top_message,t),o=this.getMessage(s).date;if(t){let e=n.default.getChat(t);(!o||e.date&&e.date>o)&&(o=e.date)}let r={};r&&r.date>o&&(o=r.date),e.pFlags.pinned&&0==e.folder_id&&(o=this.generateDialogPinnedDate(e)),e.index=this.generateDialogIndex(o)}pushDialogToStorage(e,t){var s;let o=null!==(s=this.dialogsStorage.dialogs[e.folder_id])&&void 0!==s?s:this.dialogsStorage.dialogs[e.folder_id]=[],r=o.findIndex(t=>t.peerID==e.peerID);if(-1!==r&&o.splice(r,1),t&&!e.pFlags.pinned&&(!this.dialogsOffsetDate[e.folder_id]||t<this.dialogsOffsetDate[e.folder_id])){if(-1!==r)return!1;this.dialogsOffsetDate[e.folder_id]=t}let a=e.index,i=o.length;if(!i||a<o[i-1].index)o.push(e);else if(a>=o[0].index)o.unshift(e);else for(let t=0;t<i;t++)if(a>o[t].index){o.splice(t,0,e);break}}getMessage(e){return this.messagesStorage[e]||{_:"messageEmpty",deleted:!0,pFlags:{out:!1,unread:!1}}}getMessagePeer(e){var t=e.to_id&&m.default.getPeerID(e.to_id)||0;return t<0||e.pFlags&&e.pFlags.out||2&e.flags?t:e.from_id}getDialogByPeerID(e){let t=this.dialogsStorage.dialogs;for(let s in t){let o=t[s].findIndex(t=>t.peerID==e);if(-1!==o)return[t[s][o],o]}return[]}reloadConversation(e){let t=[].concat(e).map(e=>m.default.getInputPeerByID(e));return console.log("will reloadConversation",e),D.default.invokeApi("messages.getPeerDialogs",{peers:t}).then(this.applyConversations.bind(this))}doFlushHistory(e,t){let s=0;return t&&(s|=1),D.default.invokeApi("messages.deleteHistory",{flags:s,peer:e,max_id:0}).then(s=>(u.default.processUpdateMessage({_:"updateShort",update:{_:"updatePts",pts:s.pts,pts_count:s.pts_count}}),!s.offset||this.doFlushHistory(e,t)))}flushHistory(e,t){return o(this,void 0,void 0,(function*(){if(m.default.isChannel(e)){let t=this.getHistory(e,0,1),s=t instanceof Promise?yield t:t,o=-e,r=i.default.getMessageLocalID(s.history[0]||0);return D.default.invokeApi("channels.deleteHistory",{channel:n.default.getChannelInput(o),max_id:r}).then(()=>(u.default.processUpdateMessage({_:"updateShort",update:{_:"updateChannelAvailableMessages",channel_id:o,available_min_id:r}}),!0))}return this.doFlushHistory(m.default.getInputPeerByID(e),t).then(()=>{delete this.historiesStorage[e];for(let t in this.messagesStorage){this.messagesStorage[t].peerID==e&&delete this.messagesStorage[t]}if(t)a.$rootScope.$broadcast("dialog_flush",{peerID:e});else{let t=this.getDialogByPeerID(e);t[0]&&this.dialogsStorage.dialogs[t[0].folder_id].splice(t[1],1),a.$rootScope.$broadcast("dialog_drop",{peerID:e})}})}))}saveMessages(e,t={}){e.forEach(e=>{var s;if(void 0===e.pFlags&&(e.pFlags={}),e.pFlags.out||(e.pFlags.out=!1),e.pFlags.unread||(e.pFlags.unread=!1),"messageEmpty"!=e._){var o=this.getMessagePeer(e),r="peerChannel"==e.to_id._,a=r?-o:0,c=r&&n.default.isBroadcast(a),h=i.default.getFullMessageID(e.id,a);if(e.mid=h,e.grouped_id){(null!==(s=this.groupedMessagesStorage[e.grouped_id])&&void 0!==s?s:this.groupedMessagesStorage[e.grouped_id]={})[h]=e}var u=this.getDialogByPeerID(o)[0];u&&h>0?e.pFlags.unread=h>u[e.pFlags.out?"read_outbox_max_id":"read_inbox_max_id"]:t.isNew&&(e.pFlags.unread=!0),e.reply_to_msg_id&&(e.reply_to_mid=i.default.getFullMessageID(e.reply_to_msg_id,a)),e.date-=v.default.serverTimeOffset,e.peerID=o,e.fromID=e.pFlags.post?o:e.from_id;var g=e.fwd_from;if(g){if(o==l.default.getSelf().id){if(g.saved_from_peer&&g.saved_from_msg_id){var _=m.default.getPeerID(g.saved_from_peer),y=i.default.getFullMessageID(g.saved_from_msg_id,m.default.isChannel(_)?-_:0);e.savedFrom=_+"_"+y}e.fromID=g.channel_id?-g.channel_id:g.from_id}else e.fwdPostID=g.channel_post;e.fwdFromID=g.channel_id?-g.channel_id:g.from_id,g.date-=v.default.serverTimeOffset}e.via_bot_id>0&&(e.viaBotID=e.via_bot_id);var b={user_id:e.fromID,date:e.date};if(e.media)switch(e.media._){case"messageMediaEmpty":delete e.media;break;case"messageMediaPhoto":e.media.ttl_seconds?e.media={_:"messageMediaUnsupportedWeb"}:e.media.photo=p.default.savePhoto(e.media.photo,b);break;case"messageMediaPoll":e.media.poll=E.default.savePoll(e.media.poll,e.media.results);break;case"messageMediaDocument":e.media.ttl_seconds?e.media={_:"messageMediaUnsupportedWeb"}:e.media.document=f.default.saveDoc(e.media.document,b);break;case"messageMediaWebPage":w.default.saveWebPage(e.media.webpage,e.mid,b);break;case"messageMediaInvoice":e.media={_:"messageMediaUnsupportedWeb"};break;case"messageMediaGeoLive":e.media._="messageMediaGeo"}if(e.action){var x,D;switch(e.action._){case"messageActionChatEditPhoto":e.action.photo=p.default.savePhoto(e.action.photo,b),c&&(e.action._="messageActionChannelEditPhoto");break;case"messageActionChatEditTitle":c&&(e.action._="messageActionChannelEditTitle");break;case"messageActionChatDeletePhoto":c&&(e.action._="messageActionChannelDeletePhoto");break;case"messageActionChatAddUser":1==e.action.users.length?(e.action.user_id=e.action.users[0],e.fromID==e.action.user_id&&(e.action._=r?"messageActionChatJoined":"messageActionChatReturn")):e.action.users.length>1&&(e.action._="messageActionChatAddUsers");break;case"messageActionChatDeleteUser":e.fromID==e.action.user_id&&(e.action._="messageActionChatLeave");break;case"messageActionChannelMigrateFrom":x=-e.action.chat_id,D=-a;break;case"messageActionChatMigrateTo":x=-a,D=-e.action.channel_id;break;case"messageActionHistoryClear":e.deleted=!0,e.clear_history=!0,e.pFlags.out=!1,e.pFlags.unread=!1;break;case"messageActionPhoneCall":delete e.fromID,e.action.type=(e.pFlags.out?"out_":"in_")+("phoneCallDiscardReasonMissed"==e.action.reason._||"phoneCallDiscardReasonBusy"==e.action.reason._?"missed":"ok")}x&&D&&!this.migratedFromTo[x]&&!this.migratedToFrom[D]&&this.migrateChecks(x,D)}if(e.rReply=this.getRichReplyText(e),e.message&&e.message.length){var S=d.RichTextProcessor.parseEntities(e.message),P=e.entities||[];e.totalEntities=d.RichTextProcessor.mergeEntities(S,P,!e.pending)}e.canBeEdited=this.canMessageBeEdited(e),t.isEdited||(this.messagesStorage[h]=e)}})}getRichReplyText(e,t=e.message){let s="";if(e.media)switch(e.media._){case"messageMediaPhoto":s+="<i>"+(e.grouped_id?"Album":"Photo")+(e.message?", ":"")+"</i>";break;case"messageMediaGeo":s+="<i>Geolocation</i>";break;case"messageMediaPoll":s+="<i>"+e.media.poll.rReply+"</i>";break;case"messageMediaContact":s+="<i>Contact</i>";break;case"messageMediaDocument":let t=e.media.document,o=!1;for(let e of t.attributes){if(o)break;switch(e._){case"documentAttributeSticker":s+=d.RichTextProcessor.wrapRichText(e.alt)+"<i>Sticker</i>",o=!0;break;case"documentAttributeFilename":s+="<i>"+e.file_name+"</i>",o=!0}}if("video"==t.type?(s="<i>Video"+(e.message?", ":"")+"</i>",o=!0):"voice"==t.type?(s="<i>Voice message</i>",o=!0):"gif"==t.type?(s="<i>GIF"+(e.message?", ":"")+"</i>",o=!0):"round"==t.type&&(s="<i>Video message"+(e.message?", ":"")+"</i>",o=!0),o)break}if(e.action){let t=e.action;console.log("message action:",t);let o="",r=t._;if("messageActionPhoneCall"==r){r+="."+t.type;let e=t.duration;if(e){let t=[];t.push(e%60+" s"),e>=60&&t.push((e/60|0)+" min"),o=" ("+t.reverse().join(" ")+")"}}s="<i>"+a.langPack[r]+o+"</i>"}let o="";if(t){let e=d.RichTextProcessor.parseEntities(t.replace(/\n/g," "),{noLinebreakers:!0});o=d.RichTextProcessor.wrapRichText(t,{noLinebreakers:!0,entities:e,noTextFormat:!0})}return s+o}editPeerFolders(e,t){D.default.invokeApi("folders.editPeerFolders",{folder_peers:e.map(e=>({_:"inputFolderPeer",peer:m.default.getInputPeerByID(e),folder_id:t}))}).then(e=>{console.log("editPeerFolders updates:",e),u.default.processUpdateMessage(e)})}toggleDialogPin(e){var t;let s=this.getDialogByPeerID(e)[0];if(!s)return Promise.reject();let o={_:"inputDialogPeer",peer:m.default.getInputPeerByID(e)},r=(null===(t=s.pFlags)||void 0===t?void 0:t.pinned)?0:1;return D.default.invokeApi("messages.toggleDialogPin",{flags:r,peer:o}).then(e=>{this.handleUpdate({_:"updateDialogPinned",peer:o,pFlags:{pinned:r}})})}markDialogUnread(e){var t;let s=this.getDialogByPeerID(e)[0];if(!s)return Promise.reject();let o={_:"inputDialogPeer",peer:m.default.getInputPeerByID(e)},r=(null===(t=s.pFlags)||void 0===t?void 0:t.unread_mark)?0:1;return D.default.invokeApi("messages.markDialogUnread",{flags:r,peer:o}).then(e=>{this.handleUpdate({_:"updateDialogUnreadMark",peer:o,pFlags:{unread:r}})})}migrateChecks(e,t){if(!this.migratedFromTo[e]&&!this.migratedToFrom[t]&&n.default.hasChat(-t)){var s=n.default.getChat(-e);s&&s.migrated_to&&s.migrated_to.channel_id==-t&&(this.migratedFromTo[e]=t,this.migratedToFrom[t]=e,setTimeout(()=>{var s=this.getDialogByPeerID(e);s.length&&(this.dialogsStorage.dialogs[s[0].folder_id].splice(s[1],1),a.$rootScope.$broadcast("dialog_drop",{peerID:e,dialog:s[0]})),a.$rootScope.$broadcast("dialog_migrate",{migrateFrom:e,migrateTo:t})},100))}}canMessageBeEdited(e){return!("message"!=e._||e.deleted||e.fwd_from||e.via_bot_id||e.media&&-1==["messageMediaPhoto","messageMediaDocument","messageMediaWebPage","messageMediaPending"].indexOf(e.media._)||e.fromID&&l.default.isBot(e.fromID))&&(!e.media||"messageMediaDocument"!=e.media._||!e.media.document.sticker)}canEditMessage(e){if(!this.messagesStorage[e])return!1;var t=this.messagesStorage[e];return!(!t||!t.canBeEdited)&&(this.getMessagePeer(t)==l.default.getSelf().id||!(t.date<a.tsNow(!0)-172800||!t.pFlags.out))}applyConversations(e){l.default.saveApiUsers(e.users),n.default.saveApiChats(e.chats),this.saveMessages(e.messages);var t={},s=!1;e.dialogs.forEach(e=>{var o=m.default.getPeerID(e.peer),r=e.top_message,i=this.pendingTopMsgs[o];if(i&&(!r||this.getMessage(i).date>this.getMessage(r).date)&&(e.top_message=r=i),r){let i=this.getDialogByPeerID(o)[0];i&&i.pFlags&&i.pFlags.pinned&&(e.pFlags||(e.pFlags={}),e.pFlags.pinned=!0,e.pinnedIndex=i.pinnedIndex),this.saveConversation(e),i?(this.clearDialogCache(r),a.$rootScope.$broadcast("dialog_top",e)):(t[o]=e,s=!0)}else{var n=this.getDialogByPeerID(o);n.length&&(this.dialogsStorage.dialogs[n[0].folder_id].splice(n[1],1),a.$rootScope.$broadcast("dialog_drop",{peerID:o,dialog:n[0]}))}if(void 0!==this.newUpdatesAfterReloadToHandle[o]){for(let e in this.newUpdatesAfterReloadToHandle[o]){let t=this.newUpdatesAfterReloadToHandle[o][e];this.handleUpdate(t)}delete this.newUpdatesAfterReloadToHandle[o]}}),s&&a.$rootScope.$broadcast("dialogs_multiupdate",t)}clearDialogCache(e){delete this.messagesForDialogs[e]}saveConversation(e){var t=m.default.getPeerID(e.peer);if(!t)return!1;var s=m.default.isChannel(t)?-t:0,o=m.default.getPeerSearchText(t);if(a.SearchIndexManager.indexObject(t,o,this.dialogsIndex),e.top_message)var r=i.default.getFullMessageID(e.top_message,s),d=this.getMessage(r);else{d={_:"message",id:r=this.tempID--,mid:r,from_id:l.default.getSelf().id,to_id:m.default.getOutputPeer(t),deleted:!0,flags:0,pFlags:{unread:!1,out:!0},date:0,message:""};this.saveMessages([d])}var c=d.date;if(!s&&t<0){var h=n.default.getChat(-t);if(h&&h.migrated_to&&h.pFlags.deactivated){var p=m.default.getPeerID(h.migrated_to);return this.migratedFromTo[t]=p,void(this.migratedToFrom[p]=t)}}if(e.top_message=r,e.read_inbox_max_id=i.default.getFullMessageID(e.read_inbox_max_id,s),e.read_outbox_max_id=i.default.getFullMessageID(e.read_outbox_max_id,s),e.hasOwnProperty("folder_id")||(e.folder_id=0),e.peerID=t,this.generateIndexForDialog(e),this.pushDialogToStorage(e,c),d.mid>0&&(d.mid>e[d.pFlags.out?"read_outbox_max_id":"read_inbox_max_id"]?d.pFlags.unread=!0:d.pFlags.unread=!1),void 0===this.historiesStorage[t]&&!d.deleted){var g={count:null,history:[],pending:[]};g[r>0?"history":"pending"].push(r),r<0&&d.pFlags.unread&&e.unread_count++,this.historiesStorage[t]=g,this.mergeReplyKeyboard(g,d)&&a.$rootScope.$broadcast("history_reply_markup",{peerID:t})}s&&e.pts&&u.default.addChannelState(s,e.pts)}mergeReplyKeyboard(e,t){if(!t.reply_markup&&!t.pFlags.out&&!t.action)return!1;if(t.reply_markup&&"replyInlineMarkup"==t.reply_markup._)return!1;var s=t.reply_markup,o=e.reply_markup;if(s)return!(o&&o.mid>=t.mid)&&(!(s.pFlags.selective&&!(16&t.flags))&&(e.maxOutID&&t.mid<e.maxOutID&&s.pFlags.single_use&&(s.pFlags.hidden=!0),"replyKeyboardHide"!=(s=Object.assign({mid:t.mid},s))._&&(s.fromID=t.from_id),e.reply_markup=s,!0));if(t.pFlags.out)if(o){if(o.pFlags.single_use&&!o.pFlags.hidden&&(t.mid>o.mid||t.mid<0)&&t.message)return o.pFlags.hidden=!0,!0}else(!e.maxOutID||t.mid>e.maxOutID)&&(e.maxOutID=t.mid);return!(!t.action||"messageActionChatDeleteUser"!=t.action._||!(o?t.action.user_id==o.fromID:l.default.isBot(t.action.user_id)))&&(e.reply_markup={_:"replyKeyboardHide",mid:t.mid,flags:0,pFlags:{}},!0)}getSearch(e=0,t="",s={_:"inputMessagesFilterEmpty"},o,r,d=0,c=0){var h,u=[],p=!t,g={peer:e,filter:s},y=p&&a.deepEqual(this.lastSearchFilter,g);if(p&&!y&&(this.lastSearchFilter=g,this.lastSearchResults=[]),e&&!o&&!t){var f=this.historiesStorage[e];if(void 0!==f&&f.history.length){var b,x,v={},w=r||20;switch(s._){case"inputMessagesFilterPhotos":v.messageMediaPhoto=!0;break;case"inputMessagesFilterPhotoVideo":v.messageMediaPhoto=!0,v.messageMediaDocument=!0,b="video";break;case"inputMessagesFilterVideo":v.messageMediaDocument=!0,b="video";break;case"inputMessagesFilterDocument":v.messageMediaDocument=!0,b=!1;break;case"inputMessagesFilterVoice":v.messageMediaDocument=!0,b="voice";break;case"inputMessagesFilterRoundVideo":v.messageMediaDocument=!0,b="round";break;case"inputMessagesFilterMusic":v.messageMediaDocument=!0,b="audio";break;case"inputMessagesFilterUrl":v.url=!0;break;case"inputMessagesFilterMyMentions":v.mentioned=!0;break;default:return Promise.resolve({count:0,next_rate:0,history:[]})}for(let e=0;e<f.history.length;e++)if((x=this.messagesStorage[f.history[e]]).media&&v[x.media._]){if(void 0!==b&&"messageMediaDocument"==x.media._&&x.media.document.type!=b)continue;if(u.push(x.mid),u.length>=w)break}}if(u.length<w&&this.lastSearchResults.length&&y){var S=!!u.length&&u[u.length-1];for(let e=0;e<this.lastSearchResults.length&&!((!1===S||this.lastSearchResults[e]<S)&&(u.push(this.lastSearchResults[e]),u.length>=w));e++);}}if(u.length||1e3==r)return p&&(this.lastSearchResults=a.listMergeSorted(this.lastSearchResults,u)),Promise.resolve({count:0,next_rate:0,history:u});if(e||!t)h=D.default.invokeApi("messages.search",{flags:0,peer:m.default.getInputPeerByID(e),q:t||"",filter:s||{_:"inputMessagesFilterEmpty"},min_date:0,max_date:0,limit:r,offset_id:i.default.getMessageLocalID(o)||0,add_offset:c?-c:0,max_id:0,min_id:0},{timeout:0,noErrorBox:!0});else{var E=0,P=0,C=o&&this.getMessage(o);C&&C.date&&(C.date+_.default.serverTimeOffset,P=C.id,E=this.getMessagePeer(C)),h=D.default.invokeApi("messages.searchGlobal",{q:t,offset_rate:d,offset_peer:m.default.getInputPeerByID(E),offset_id:i.default.getMessageLocalID(P),limit:r||20},{timeout:0,noErrorBox:!0})}return h.then(e=>{l.default.saveApiUsers(e.users),n.default.saveApiChats(e.chats),this.saveMessages(e.messages);var t=e.count||e.messages.length;return u=[],e.messages.forEach(e=>{var t=this.getMessagePeer(e);if(t<0){var s=n.default.getChat(-t);s.migrated_to&&this.migrateChecks(t,-s.migrated_to.channel_id)}u.push(e.mid)}),p&&(!o||y&&this.lastSearchResults.indexOf(o)>=0)&&(this.lastSearchResults=a.listMergeSorted(this.lastSearchResults,u)),{count:t,next_rate:e.next_rate,history:u}},e=>(400==e.code&&(e.handled=!0),Promise.reject(e)))}generateDialogPinnedDate(e){let t;return e?e.pinnedIndex?t=e.pinnedIndex:e.pinnedIndex=t=this.pinnedIndex++:t=this.pinnedIndex++,2147483392+(255&t)}handleNewMessages(){clearTimeout(this.newMessagesHandlePromise),this.newMessagesHandlePromise=0,a.$rootScope.$broadcast("history_multiappend",this.newMessagesToHandle),this.newMessagesToHandle={}}handleNewDialogs(){clearTimeout(this.newDialogsHandlePromise),this.newDialogsHandlePromise=0;let e=0;for(let t in this.newDialogsToHandle){let s=this.newDialogsToHandle[t];"reload"in s?(this.reloadConversation(+t),delete this.newDialogsToHandle[t]):(this.pushDialogToStorage(s),m.default.isChannel(+t)||(e=Math.max(e,s.top_message||0)))}console.log("after order:",this.dialogsStorage.dialogs[0].map(e=>e.peerID)),0!=e&&this.incrementMaxSeenID(e),a.$rootScope.$broadcast("dialogs_multiupdate",this.newDialogsToHandle),this.newDialogsToHandle={}}scheduleHandleNewDialogs(){this.newDialogsHandlePromise||(this.newDialogsHandlePromise=window.setTimeout(this.handleNewDialogs.bind(this),0))}readHistory(e,t=0,s=0){var o,r=m.default.isChannel(e),i=this.historiesStorage[e],l=this.getDialogByPeerID(e)[0];if(!l||!l.unread_count){if(!i||!i.history.length)return Promise.resolve(!1);let e,t,s=!1;for(let o=i.history.length;o>=0;o--)if(e=i.history[o],t=this.messagesStorage[e],t&&!t.pFlags.out&&t.pFlags.unread){s=!0;break}if(!s)return Promise.resolve(!1)}if(i.readPromise)return i.readPromise;if(o=r?D.default.invokeApi("channels.readHistory",{channel:n.default.getChannelInput(-e),max_id:t}):D.default.invokeApi("messages.readHistory",{peer:m.default.getInputPeerByID(e),max_id:t}).then(e=>{u.default.processUpdateMessage({_:"updateShort",update:{_:"updatePts",pts:e.pts,pts_count:e.pts_count}})}),i.readPromise=o.then(()=>{if(l){let s=-1;return 0!=t&&i&&i.history.length&&(s=i.history.findIndex(e=>e==t)),l.unread_count=-1==s?0:s,a.$rootScope.$broadcast("dialog_unread",{peerID:e,count:l.unread_count}),a.$rootScope.$broadcast("messages_read"),i&&i.history.length&&(l.read_inbox_max_id=i.history[-1!=s?s:0]),!0}return!1}).finally(()=>{delete i.readPromise}),i&&i.history.length){let e,t,o;for(o=0;o<i.history.length&&(e=i.history[o],t=this.messagesStorage[e],t&&!t.pFlags.out&&(t.pFlags.unread=!1,this.messagesForDialogs[e]&&(this.messagesForDialogs[e].pFlags.unread=!1)),e!=s);o++);}return i.readPromise}readMessages(e){var t=i.default.splitMessageIDsByChannels(e);Object.keys(t.msgIDs).forEach(e=>{e=+e;let s=t.msgIDs[e];e>0?D.default.invokeApi("channels.readMessageContents",{channel:n.default.getChannelInput(e),id:s}).then(()=>{u.default.processUpdateMessage({_:"updateShort",update:{_:"updateChannelReadMessagesContents",channel_id:e,messages:s}})}):D.default.invokeApi("messages.readMessageContents",{id:s}).then(e=>{u.default.processUpdateMessage({_:"updateShort",update:{_:"updateReadMessagesContents",messages:s,pts:e.pts,pts_count:e.pts_count}})})})}handleUpdate(e){switch(console.log("AMM: handleUpdate:",e._),e._){case"updateMessageID":var t=e.random_id,s=this.pendingByRandomID[t];if(s){var o=s[0],r=s[1],d=m.default.isChannel(o)?-o:0,c=i.default.getFullMessageID(e.id,d);if(u=this.messagesStorage[c]){var h=(p=this.historiesStorage[o]).pending.indexOf(r);-1!=h&&p.pending.splice(h,1),delete this.messagesStorage[r],this.finalizePendingMessageCallbacks(r,c)}else this.pendingByMessageID[c]=t}break;case"updateNewMessage":case"updateNewChannelMessage":var u=e.message,p=(o=this.getMessagePeer(u),this.historiesStorage[o]);if(!(P=this.getDialogByPeerID(o)).length){this.newDialogsToHandle[o]={reload:!0},this.scheduleHandleNewDialogs(),void 0===this.newUpdatesAfterReloadToHandle[o]&&(this.newUpdatesAfterReloadToHandle[o]=[]),this.newUpdatesAfterReloadToHandle[o].push(e);break}if("updateNewChannelMessage"==e._){var g=n.default.getChat(-o);if(g.pFlags&&(g.pFlags.left||g.pFlags.kicked))break}if(this.saveMessages([u],{isNew:!0}),void 0===p&&(p=this.historiesStorage[o]={count:null,history:[],pending:[]}),-1!=(T=u.mid>0?p.history:p.pending).indexOf(u.mid))return!1;var _,y=T[0];T.unshift(u.mid),u.mid>0&&u.mid<y&&T.sort((e,t)=>t-e),u.mid>0&&null!==p.count&&p.count++,this.mergeReplyKeyboard(p,u)&&a.$rootScope.$broadcast("history_reply_markup",{peerID:o}),!u.pFlags.out&&u.from_id&&l.default.forceUserOnline(u.from_id),(t=this.pendingByMessageID[u.mid])&&((_=this.finalizePendingMessage(t,u))&&a.$rootScope.$broadcast("history_update",{peerID:o,mid:u.mid}),delete this.pendingByMessageID[u.mid]),_||(void 0===this.newMessagesToHandle[o]&&(this.newMessagesToHandle[o]=[]),this.newMessagesToHandle[o].push(u.mid),this.newMessagesHandlePromise||(this.newMessagesHandlePromise=window.setTimeout(this.handleNewMessages.bind(this),0)));var f=!u.pFlags.out&&u.pFlags.unread;(b=P[0]).top_message=u.mid,f&&b.unread_count++,b.pFlags.pinned&&b.index||(b.index=this.generateDialogIndex(u.date)),this.newDialogsToHandle[o]=b,this.scheduleHandleNewDialogs();break;case"updateDialogUnreadMark":{console.log("updateDialogUnreadMark",e);let t=m.default.getPeerID(e.peer.peer),s=this.getDialogByPeerID(t);if(s.length){let t=s[0];e.pFlags.unread?t.pFlags.unread_mark=!0:delete t.pFlags.unread_mark,a.$rootScope.$broadcast("dialogs_multiupdate",{peerID:t})}else this.newDialogsToHandle[t]={reload:!0},this.scheduleHandleNewDialogs();break}case"updateFolderPeers":{console.log("updateFolderPeers",e);let t=e.folder_peers;this.scheduleHandleNewDialogs(),t.forEach(e=>{let{folder_id:t,peer:s}=e,o=m.default.getPeerID(s),r=this.getDialogByPeerID(o);if(r.length){let e=r[0];this.newDialogsToHandle[o]=e,this.dialogsStorage.dialogs[e.folder_id].splice(r[1],1),e.folder_id=t,this.generateIndexForDialog(e),this.pushDialogToStorage(e)}else this.newDialogsToHandle[o]={reload:!0}});break}case"updateDialogPinned":{console.log("updateDialogPinned",e);let t=m.default.getPeerID(e.peer.peer),s=this.getDialogByPeerID(t);if(this.scheduleHandleNewDialogs(),!s.length){this.newDialogsToHandle[t]={reload:!0};break}{let o=s[0];this.newDialogsToHandle[t]=o,e.pFlags.pinned?o.pFlags.pinned=!0:(delete o.pFlags.pinned,delete o.pinnedIndex),this.generateIndexForDialog(o)}break}case"updatePinnedDialogs":{console.log("updatePinnedDialogs",e);let t={};if(!e.order){D.default.invokeApi("messages.getPinnedDialogs",{}).then(e=>{e.dialogs.reverse(),this.applyConversations(e),e.dialogs.forEach(e=>{t[e.peerID]=!0}),this.dialogsStorage.dialogs[0].forEach(e=>{let s=e.peerID;e.pFlags.pinned&&!t[s]&&(this.newDialogsToHandle[s]={reload:!0},this.scheduleHandleNewDialogs())})});break}console.log("before order:",this.dialogsStorage.dialogs[0].map(e=>e.peerID)),this.pinnedIndex=0;let s=!1;e.order.reverse(),e.order.forEach(e=>{let o=m.default.getPeerID(e.peer);t[o]=!0;let r=this.getDialogByPeerID(o);if(!r.length)return this.newDialogsToHandle[o]={reload:!0},void(s=!0);let a=r[0];delete a.pinnedIndex,a.pFlags.pinned=!0,this.generateIndexForDialog(a),this.newDialogsToHandle[o]=a,s=!0}),this.dialogsStorage.dialogs[0].forEach(e=>{let o=e.peerID;e.pFlags.pinned&&!t[o]&&(this.newDialogsToHandle[o]={reload:!0},s=!0)}),s&&this.scheduleHandleNewDialogs();break}case"updateEditMessage":case"updateEditChannelMessage":u=e.message,o=this.getMessagePeer(u),d="peerChannel"==u.to_id._?-o:0,c=i.default.getFullMessageID(u.id,d);if(void 0===this.messagesStorage[c])break;this.saveMessages([u],{isEdited:!0}),a.safeReplaceObject(this.messagesStorage[c],u);var b,x=(b=this.getDialogByPeerID(o)[0])&&b.top_message==c;if(u.clear_history)x&&a.$rootScope.$broadcast("dialog_flush",{peerID:o});else if(a.$rootScope.$broadcast("message_edit",{peerID:o,id:u.id,mid:c,justMedia:!1}),x){var w={};w[o]=b,a.$rootScope.$broadcast("dialogs_multiupdate",w)}break;case"updateReadHistoryInbox":case"updateReadHistoryOutbox":case"updateReadChannelInbox":case"updateReadChannelOutbox":var S="updateReadHistoryOutbox"==e._||"updateReadChannelOutbox"==e._,E=(d=e.channel_id,i.default.getFullMessageID(e.max_id,d)),P=(o=d?-d:m.default.getPeerID(e.peer),this.getDialogByPeerID(o)),C=0,F=(T=(this.historiesStorage[o]||{}).history||[]).length,k=!1;for(o>0&&S&&l.default.forceUserOnline(o),L=0;L<F;L++)if(!((U=T[L])>E)&&(u=this.messagesStorage[U]).pFlags.out==S){if(!u.pFlags.unread)break;u&&u.pFlags.unread&&(u.pFlags.unread=!1,k||(k=!0),this.messagesForDialogs[U]&&(this.messagesForDialogs[U].pFlags.unread=!1),u.pFlags.out||P[0]&&(C=--P[0].unread_count))}P[0]&&(!S&&C&&P[0].top_message<=E&&(C=P[0].unread_count=0),P[0][S?"read_outbox_max_id":"read_inbox_max_id"]=E),a.$rootScope.$broadcast("dialog_unread",{peerID:o,count:C}),k&&a.$rootScope.$broadcast("messages_read");break;case"updateChannelReadMessagesContents":d=e.channel_id;var M=[];e.messages.forEach(e=>{M.push(i.default.getFullMessageID(e,d))}),e.messages=M;case"updateReadMessagesContents":var A=(X=e.messages).length;for(L=0;L<A;L++)U=X[L],(u=this.messagesStorage[U])&&delete u.pFlags.media_unread;break;case"updateChannelAvailableMessages":d=e.channel_id;var T,X=[];o=-d;(T=(this.historiesStorage[o]||{}).history||[]).length&&T.forEach(t=>{(!e.available_min_id||i.default.getMessageLocalID(t)<=e.available_min_id)&&X.push(t)}),e.messages=X;case"updateDeleteMessages":case"updateDeleteChannelMessages":{var L,I={};d=e.channel_id;let t;var B,j;for(L=0;L<e.messages.length;L++)U=i.default.getFullMessageID(e.messages[L],d),(u=this.messagesStorage[U])&&(o=this.getMessagePeer(u),t=I[o]||(I[o]={count:0,unread:0,msgs:{}}),!u.pFlags.out&&u.pFlags.unread&&t.unread++,t.count++,t.msgs[U]=!0,this.messagesForDialogs[U]&&(this.messagesForDialogs[U].deleted=!0,delete this.messagesForDialogs[U]),u.deleted=!0,this.messagesStorage[U]={deleted:!0,id:U,from_id:u.from_id,to_id:u.to_id,flags:u.flags,pFlags:u.pFlags,date:u.date},(B=this.newMessagesToHandle[o])&&B.length&&-1!=(j=B.indexOf(U))&&B.splice(j));Object.keys(I).forEach(e=>{let t=I[e];var s=this.historiesStorage[e];if(void 0!==s){for(var o=[],r=[],i=0;i<s.history.length;i++)t.msgs[s.history[i]]||o.push(s.history[i]);s.history=o,t.count&&null!==s.count&&s.count>0&&(s.count-=t.count,s.count<0&&(s.count=0));for(i=0;i<s.pending.length;i++)t.msgs[s.pending[i]]||r.push(s.pending[i]);s.pending=r,a.$rootScope.$broadcast("history_delete",{peerID:e,msgs:t.msgs})}var n=this.getDialogByPeerID(+e)[0];n&&(t.unread&&(n.unread_count-=t.unread,a.$rootScope.$broadcast("dialog_unread",{peerID:e,count:n.unread_count})),t.msgs[n.top_message]&&this.reloadConversation(+e))});break}case"updateChannel":o=-(d=e.channel_id);var O=n.default.getChat(d),R="channel"==O._&&!O.pFlags.left&&!O.pFlags.kicked,N=(P=this.getDialogByPeerID(o)).length>0;!("channel"!=O._||!O.username&&(O.pFlags.left||O.pFlags.kicked))!=(void 0!==this.historiesStorage[o])&&(delete this.historiesStorage[o],a.$rootScope.$broadcast("history_forbidden",o)),N!=R&&(R?this.reloadConversation(-d):P[0]&&(this.dialogsStorage.dialogs[P[0].folder_id].splice(P[1],1),a.$rootScope.$broadcast("dialog_drop",{peerID:o,dialog:P[0]})));break;case"updateChannelReload":{let t=e.channel_id,s=-t,o=this.getDialogByPeerID(s);o[0]&&this.dialogsStorage.dialogs[o[0].folder_id].splice(o[1],1),delete this.historiesStorage[s],this.reloadConversation(-t).then(()=>{a.$rootScope.$broadcast("history_reload",s)});break}case"updateChannelMessageViews":{let t=e.views,s=i.default.getFullMessageID(e.id,e.channel_id),o=this.getMessage(s);o&&o.views&&o.views<t&&(o.views=t,a.$rootScope.$broadcast("message_views",{mid:s,views:t}));break}case"updateServiceNotification":var U;o=777e3,u={_:"message",id:U=this.tempID--,from_id:777e3,to_id:m.default.getOutputPeer(o),flags:0,pFlags:{unread:!0},date:(e.inbox_date||a.tsNow(!0))+v.default.serverTimeOffset,message:e.message,media:e.media,entities:e.entities};l.default.hasUser(777e3)||l.default.saveApiUsers([{_:"user",id:777e3,pFlags:{verified:!0},access_hash:0,first_name:"Telegram",phone:"42777"}]),this.saveMessages([u]),e.inbox_date&&(this.pendingTopMsgs[o]=U,this.handleUpdate({_:"updateNewMessage",message:u})),e.pFlags.popup&&e.message}}finalizePendingMessage(e,t){var s=this.pendingByRandomID[e];if(s){var o,r=s[0],i=s[1],n=this.historiesStorage[r],l=n.pending.indexOf(i);return-1!=l&&n.pending.splice(l,1),(o=this.messagesStorage[i])&&(delete o.pending,delete o.error,delete o.random_id,delete o.send,a.$rootScope.$broadcast("messages_pending")),delete this.messagesStorage[i],this.finalizePendingMessageCallbacks(i,t.mid),o}return!1}finalizePendingMessageCallbacks(e,t){var s=this.tempFinalizeCallbacks[e];console.warn(a.dT(),s,e),void 0!==s&&(s.forEach(e=>{e(t)}),delete this.tempFinalizeCallbacks[e]),a.$rootScope.$broadcast("message_sent",{tempID:e,mid:t})}incrementMaxSeenID(e){if(!e||this.maxSeenID&&!(e>this.maxSeenID))return!1;g.default.set({max_seen_msg:e}),D.default.invokeApi("messages.receivedMessages",{max_id:e})}getHistory(e,t=0,s,o){var r;this.migratedFromTo[e]&&(e=this.migratedFromTo[e]);var a=null!==(r=this.historiesStorage[e])&&void 0!==r?r:this.historiesStorage[e]={count:null,history:[],pending:[]},n=0,l=!1,d=!1,c=e;if(this.migratedToFrom[e]&&(d=!0,t&&t<i.default.fullMsgIDModulus&&(c=this.migratedToFrom[e])),t>0)for(l=!0,n=0;n<a.history.length;n++)if(t>a.history[n]){l=!1;break}if(!l&&(null!==a.count&&a.history.length==a.count||a.history.length>=n+s)){o?(o=Math.min(n,o),n=Math.max(0,n-o),s+=o):s=s;var h=a.history.slice(n,n+s);return!t&&a.pending.length&&(h=a.pending.slice().concat(h)),this.wrapHistoryResult({count:a.count,history:h,unreadOffset:0,unreadSkip:!1})}return l&&(n=0),(o||t)&&-1==a.history.indexOf(t)?(o&&(n=-o,s+=o),this.requestHistory(c,t,s,n).then(e=>{a.count=e.count||e.messages.length,d&&a.count++;var s=[];return e.messages.forEach(e=>{s.push(e.mid)}),!t&&a.pending.length&&(s=a.pending.slice().concat(s)),this.wrapHistoryResult({count:a.count,history:s,unreadOffset:0,unreadSkip:!1})})):this.fillHistoryStorage(e,t,s,a).then(()=>{if(n=0,t>0)for(n=0;n<a.history.length&&!(t>a.history[n]);n++);var e=a.history.slice(n,n+s);return!t&&a.pending.length&&(e=a.pending.slice().concat(e)),this.wrapHistoryResult({count:a.count,history:e,unreadOffset:0,unreadSkip:!1})})}fillHistoryStorage(e,t,s,o){var r=this.migratedFromTo[e]&&!t?1:0;return this.requestHistory(e,t,s,r).then(r=>{o.count=r.count||r.messages.length;var i=0;if(!t&&r.messages.length&&(t=r.messages[0].mid+1),t>0)for(i=0;i<o.history.length&&!(t>o.history[i]);i++);var n=o.history.length;o.history.splice(i,o.history.length-i),r.messages.forEach(t=>{this.mergeReplyKeyboard(o,t)&&a.$rootScope.$broadcast("history_reply_markup",{peerID:e}),o.history.push(t.mid)});var l=o.history.length;s-=l-n;var d=this.migratedFromTo[e],c=this.migratedToFrom[e],h=void 0!==d||void 0!==c;if(h&&(o.count=Math.max(o.count,l)+1),s>0){if(t=o.history[l-1],h){if(!r.messages.length){if(!c)return o.count=l,!0;t=0,e=c}return this.fillHistoryStorage(e,t,s,o)}if(l<o.count)return this.fillHistoryStorage(e,t,s,o)}return!0})}wrapHistoryResult(e){var t,s;if(e.unreadOffset)for(t=e.history.length-1;t>=0;t--)if((s=this.messagesStorage[e.history[t]])&&!s.pFlags.out&&s.pFlags.unread){e.unreadOffset=t+1;break}return e}requestHistory(e,t,s,o=0){var r=m.default.isChannel(e);return a.$rootScope.$broadcast("history_request"),D.default.invokeApi("messages.getHistory",{peer:m.default.getInputPeerByID(e),offset_id:t?i.default.getMessageLocalID(t):0,offset_date:0,add_offset:o||0,limit:s||0,max_id:0,min_id:0,hash:0},{timeout:0,noErrorBox:!0}).then(a=>{console.log("requestHistory result:",a,t,s,o),l.default.saveApiUsers(a.users),n.default.saveApiChats(a.chats),this.saveMessages(a.messages),r&&u.default.addChannelState(-e,a.pts);var i=a.messages.length;i&&a.messages[i-1].deleted&&(a.messages.splice(i-1,1),i--,a.count--);let d=this.historiesStorage[e];return i&&a.messages[i-1].grouped_id&&d.history.length+a.messages.length<a.count?this.requestHistory(e,a.messages[i-1].mid,10,0).then(e=>a):a},t=>{switch(t.type){case"CHANNEL_PRIVATE":var s=n.default.getChat(-e);s={_:"channelForbidden",access_hash:s.access_hash,title:s.title},u.default.processUpdateMessage({_:"updates",updates:[{_:"updateChannel",channel_id:-e}],chats:[s],users:[]})}return Promise.reject(t)})}fetchSingleMessages(){if(this.fetchSingleMessagesPromise)return this.fetchSingleMessagesPromise;var e=this.needSingleMessages.slice();this.needSingleMessages.length=0;var t=i.default.splitMessageIDsByChannels(e);let s=[];return Object.keys(t.msgIDs).forEach(e=>{e=+e;let o=t.msgIDs[e].map(e=>({_:"inputMessageID",id:e}));var r;r=e>0?D.default.invokeApi("channels.getMessages",{channel:n.default.getChannelInput(e),id:o}):D.default.invokeApi("messages.getMessages",{id:o}),s.push(r.then(s=>{l.default.saveApiUsers(s.users),n.default.saveApiChats(s.chats),this.saveMessages(s.messages),a.$rootScope.$broadcast("messages_downloaded",t.mids[+e])}))}),this.fetchSingleMessagesPromise=Promise.all(s).then(()=>{this.fetchSingleMessagesTimeout=0,this.fetchSingleMessagesPromise=null,this.needSingleMessages.length&&this.fetchSingleMessages()}).catch(()=>{this.fetchSingleMessagesTimeout=0,this.fetchSingleMessagesPromise=null,this.needSingleMessages.length&&this.fetchSingleMessages()})}wrapSingleMessage(e){return this.messagesStorage[e]?(a.$rootScope.$broadcast("messages_downloaded",[e]),{mid:e,loading:!1}):-1==this.needSingleMessages.indexOf(e)?(this.needSingleMessages.push(e),0==this.fetchSingleMessagesTimeout&&(this.fetchSingleMessagesTimeout=window.setTimeout(this.fetchSingleMessages.bind(this),25)),{mid:e,loading:!0}):{mid:e,loading:!1}}}t.AppMessagesManager=P,t.default=new P},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(4)),a=o(s(5)),i=s(0),n=s(3),l=["#c03d33","#4fad2d","#d09306","#168acd","#8544d6","#cd4073","#2996ad","#ce671b"],d=["#e17076","#7bc862","#e5ca77","#65AADD","#a695e7","#ee7aae","#6ec9cb","#faa774"],c=[0,7,4,1,6,3,5],h={getPeerPhoto:e=>e>0?r.default.getUserPhoto(e):a.default.getChatPhoto(-e),getPeerMigratedTo:e=>{if(e>=0)return!1;let t=a.default.getChat(-e);return!!(t&&t.migrated_to&&t.pFlags.deactivated)&&h.getPeerID(t.migrated_to)},getPeerTitle:(e,t=!1,s=!1)=>{let o={};o=i.isObject(e)?e:h.getPeer(e);let r="";return e>0?(o.first_name&&(r+=o.first_name),o.last_name&&(r+=" "+o.last_name),r=r?r.trim():o.pFlags.deleted?"Deleted account":o.username):r=o.title,s&&(r=r.split(" ")[0]),t?r:n.RichTextProcessor.wrapEmojiText(r)},getOutputPeer:e=>{if(e>0)return{_:"peerUser",user_id:e};let t=-e;return a.default.isChannel(t)?{_:"peerChannel",channel_id:t}:{_:"peerChat",chat_id:t}},getPeerString:e=>e>0?r.default.getUserString(e):a.default.getChatString(-e),getPeerUsername:e=>e>0?r.default.getUser(e).username||"":a.default.getChat(-e).username||"",getPeer:e=>e>0?r.default.getUser(e):a.default.getChat(-e),getPeerID:e=>{if(i.isObject(e))return e.user_id?e.user_id:-(e.channel_id||e.chat_id);let t="u"==e.charAt(0),s=e.substr(1).split("_");return t?s[0]:-s[0]||0},isChannel:e=>e<0&&a.default.isChannel(-e),isMegagroup:e=>e<0&&a.default.isMegagroup(-e),isAnyGroup:e=>e<0&&!a.default.isBroadcast(-e),isBroadcast:e=>h.isChannel(e)&&!h.isMegagroup(e),isBot:e=>e>0&&r.default.isBot(e),getInputPeer:e=>{var t=e.charAt(0),s=e.substr(1).split("_");let o=+s[0];return"u"==t?(r.default.saveUserAccess(o,s[1]),{_:"inputPeerUser",user_id:o,access_hash:s[1]}):"c"==t||"s"==t?(a.default.saveChannelAccess(o,s[1]),"s"==t&&a.default.saveIsMegagroup(o),{_:"inputPeerChannel",channel_id:o,access_hash:s[1]||0}):{_:"inputPeerChat",chat_id:o}},getInputPeerByID:e=>{if(!e)return{_:"inputPeerEmpty"};if(e<0){let t=-e;return a.default.isChannel(t)?a.default.getChannelInputPeer(t):a.default.getChatInputPeer(t)}return{_:"inputPeerUser",user_id:e,access_hash:r.default.getUser(e).access_hash||0}},getPeerColorByID:(e,t=!0)=>(t?d:l)[c[(e<0?-e:e)%7]],getPeerSearchText:e=>{let t;if(e>0)t="%pu "+r.default.getUserSearchText(e);else if(e<0){t="%pg "+(a.default.getChat(-e).title||"")}return t}};t.default=h},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(4)),a=s(0),i=o(s(27)),n=s(10),l=o(s(16)),d=o(s(1));class c{constructor(){this.photos={},this.documentThumbsCache={},this.windowW=0,this.windowH=0,window.addEventListener("resize",e=>{this.windowW=document.body.scrollWidth,this.windowH=document.body.scrollHeight}),this.windowW=document.body.scrollWidth,this.windowH=document.body.scrollHeight}savePhoto(e,t){return this.photos[e.id]?this.photos[e.id]:(e.id?this.photos[e.id]=e:console.warn("no apiPhoto.id",e),e)}choosePhotoSize(e,t=0,s=0){window.devicePixelRatio>1&&(t*=2,s*=2);let o={_:"photoSizeEmpty"},r=e.sizes||e.thumbs;if(r)for(let e of r){if(!e.w||!e.h)continue;o=e;let{w:r,h:i}=a.calcImageInBox(e.w,e.h,t,s);if(r==t||i==s)break}return o}getUserPhotos(e,t,s){var o=r.default.getUserInput(e);return d.default.invokeApi("photos.getUserPhotos",{user_id:o,offset:0,limit:s||20,max_id:t||0}).then(t=>{r.default.saveApiUsers(t.users);for(var s=[],o={user_id:e},a=0;a<t.photos.length;a++)t.photos[a]=this.savePhoto(t.photos[a],o),s.push(t.photos[a].id);return{count:t.count||t.photos.length,photos:s}})}setAttachmentPreview(e,t,s=!1,o=!1){let r;s?r=e:(r=c.jf.concat(e.slice(3),c.Df),r[164]=e[1],r[166]=e[2]);let a=new Blob([r],{type:"image/jpeg"});if(o){let e=URL.createObjectURL(a),s=new Image;s.src=e,s.onload=()=>{t.style.backgroundImage="url("+e+")"}}else if(t instanceof SVGSVGElement){let e=t.firstElementChild||document.createElementNS("http://www.w3.org/2000/svg","image");e.setAttributeNS(null,"href",URL.createObjectURL(a)),t.append(e)}else{let e=new Image;e.src=URL.createObjectURL(a),e.style.width="100%",e.style.height="100%",t.append(e)}}setAttachmentSize(e,t,s=380,o=380,r=!1){let i=null;if("string"==typeof e){if(i=this.photos[e],!i)return{_:"photoEmpty"}}else i=e;let n,l,d=this.choosePhotoSize(i,s,o),c=i.sizes||i.thumbs;(!i.downloaded||r&&i.animated)&&c&&c[0].bytes&&this.setAttachmentPreview(c[0].bytes,t,r),"document"==i._?(n=i.w||512,l=i.h||512):(n=d.w||100,l=d.h||100);let{w:h,h:u}=a.calcImageInBox(n,l,s,o);if(t instanceof SVGSVGElement){if(t.setAttributeNS(null,"width",""+h),t.setAttributeNS(null,"height",""+u),t.firstElementChild){let e=t.firstElementChild;e.setAttributeNS(null,"width",""+h),e.setAttributeNS(null,"height",""+u)}}else t.style.width=h+"px",t.style.height=u+"px";return d}preloadPhoto(e,t){var s;let o=this.getPhoto(e);if(!t){let e=this.windowW,s=this.windowH;t=this.choosePhotoSize(o,e,s)}let r="document"==o._,a=r?null!==(s=this.documentThumbsCache[o.id])&&void 0!==s?s:this.documentThumbsCache[o.id]={downloaded:-1,url:""}:o;if(a.downloaded>=t.size&&a.url)return Promise.resolve();if(!t||"photoSizeEmpty"==t._)return console.error("no photoSize by photo:",o),Promise.reject("no photoSize");let i,n=t.size&&o.access_hash&&o.file_reference,d=n?{_:r?"inputDocumentFileLocation":"inputPhotoFileLocation",id:o.id,access_hash:o.access_hash,file_reference:o.file_reference,thumb_size:t.type}:t.location;return i=n?l.default.downloadFile(o.dc_id,d,t.size):l.default.downloadSmallFile(d),i.then(e=>{(!a.downloaded||a.downloaded<e.size)&&(a.downloaded=e.size,a.url=URL.createObjectURL(e))}),i}getDocumentCachedThumb(e){return this.documentThumbsCache[e]}getPhoto(e){return a.isObject(e)?e:this.photos[e]}getInputByID(e){let t=this.getPhoto(e);return{_:"inputMediaPhoto",flags:0,id:{_:"inputPhoto",id:t.id,access_hash:t.access_hash,file_reference:t.file_reference},ttl_seconds:0}}downloadPhoto(e){var t=this.photos[e],s="image/jpeg",o="photo"+e+".jpg",r=this.windowW,a=this.windowH,n=this.choosePhotoSize(t,r,a),d={_:"document"==t._?"inputDocumentFileLocation":"inputPhotoFileLocation",id:t.id,access_hash:t.access_hash,file_reference:t.file_reference,thumb_size:n.type};try{let e=i.default.chooseSaveFile(o,"jpg",s,n.size);e.ready.then(()=>{console.log("ready"),l.default.downloadFile(t.dc_id,d,n.size,{mimeType:s,toFileEntry:e}).then(()=>{e.close(),console.log("file save done",o,"jpg",s,e)},e=>{console.log("photo download failed",e)})})}catch(e){console.error("err",e);var c=l.default.getCachedFile(d);if(c)return i.default.download(c,s,o);l.default.downloadFile(t.dc_id,d,n.size,{mimeType:s}).then(e=>{i.default.download(e,s,o)},e=>{console.log("photo download failed",e)})}}}t.AppPhotosManager=c,c.jf=new Uint8Array(n.bytesFromHex("ffd8ffe000104a46494600010100000100010000ffdb004300281c1e231e19282321232d2b28303c64413c37373c7b585d4964918099968f808c8aa0b4e6c3a0aadaad8a8cc8ffcbdaeef5ffffff9bc1fffffffaffe6fdfff8ffdb0043012b2d2d3c353c76414176f8a58ca5f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8ffc00011080000000003012200021101031101ffc4001f0000010501010101010100000000000000000102030405060708090a0bffc400b5100002010303020403050504040000017d01020300041105122131410613516107227114328191a1082342b1c11552d1f02433627282090a161718191a25262728292a3435363738393a434445464748494a535455565758595a636465666768696a737475767778797a838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae1e2e3e4e5e6e7e8e9eaf1f2f3f4f5f6f7f8f9faffc4001f0100030101010101010101010000000000000102030405060708090a0bffc400b51100020102040403040705040400010277000102031104052131061241510761711322328108144291a1b1c109233352f0156272d10a162434e125f11718191a262728292a35363738393a434445464748494a535455565758595a636465666768696a737475767778797a82838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae2e3e4e5e6e7e8e9eaf2f3f4f5f6f7f8f9faffda000c03010002110311003f00")),c.Df=n.bytesFromHex("ffd9"),t.default=new c},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(13),a=o(s(65));window.__forceSmoothScrollPolyfill__=!0,a.default.polyfill();t.default=class{constructor(e,t="y",s=300,o="",a=e,i=s,n=15){if(this.el=e,this.splitOffset=s,this.appendTo=a,this.onScrollOffset=i,this.splitCount=n,this.scrollSize=-1,this.size=0,this.onScrolledTop=null,this.onScrolledBottom=null,this.onScrolledTopFired=!1,this.onScrolledBottomFired=!1,this.onScrollMeasure=null,this.lastScrollTop=0,this.scrollTopOffset=0,this.disableHoverTimeout=0,this.debug=!1,this.virtualTempIDTop=0,this.virtualTempIDBottom=0,this.lastTopID=0,this.lastBottomID=0,this.lastScrollDirection=0,this.scrollLocked=0,this.container=document.createElement("div"),this.container.classList.add("scrollable"),this.visible=new Set,this.observer=new IntersectionObserver(e=>{let t=e.filter(e=>e.isIntersecting);if(e.forEach(e=>{let t=e.target;if(e.isIntersecting)this.setVisible(t),this.debug&&this.log("intersection entry:",e,this.lastTopID,this.lastBottomID);else{let s=+t.dataset.virtual;e.boundingClientRect.top<0?this.lastTopID=s+1:this.lastBottomID=s-1}}),!t.length||0===this.lastScrollDirection)return;if(1===this.lastScrollDirection){let e=t[t.length-1].target;this.lastBottomID=+e.dataset.virtual;for(let t=0;t<this.splitCount&&(e=e.nextElementSibling,e);++t)this.setVisible(e)}else{let e=t[0].target;this.lastTopID=+e.dataset.virtual;for(let t=0;t<this.splitCount&&(e=e.previousElementSibling,e);++t)this.setVisible(e)}this.debug&&this.log("entries:",e,t,this.lastScrollDirection,this.lastTopID,this.lastBottomID);let s=this.lastTopID-this.splitCount,o=this.lastBottomID+this.splitCount;for(let e of this.visible){let t=+e.dataset.virtual;(t<s||t>o)&&this.setHidden(e)}}),a||(this.appendTo=this.container),this.log=r.logger("SCROLL"+(o?"-"+o:"")),this.measureMutex=r.deferredPromise(),this.measureMutex.resolve(),"x"==t){this.container.classList.add("scrollable-x"),this.type="width",this.side="left",this.translate="translateX",this.scrollType="scrollWidth",this.scrollSide="scrollLeft",this.clientAxis="clientX",this.clientSize="clientWidth";let e=e=>{e=window.event||e;var t=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));this.container.scrollLeft-=20*t,e.preventDefault()};this.container.addEventListener?(this.container.addEventListener("mousewheel",e,!1),this.container.addEventListener("DOMMouseScroll",e,!1)):this.container.attachEvent("onmousewheel",e)}else{if("y"!=t)throw new Error("no side for scroll");this.container.classList.add("scrollable-y"),this.type="height",this.side="top",this.translate="translateY",this.scrollType="scrollHeight",this.scrollSide="scrollTop",this.clientAxis="clientY",this.clientSize="clientHeight"}window.addEventListener("resize",()=>{window.requestAnimationFrame(()=>{this.onScroll()})}),this.container.addEventListener("scroll",()=>this.onScroll(),{passive:!0,capture:!0}),Array.from(e.children).forEach(e=>this.container.append(e)),e.append(this.container)}setVisible(e){this.visible.has(e)||(this.debug&&this.log("setVisible id:",e.dataset.virtual),e.firstElementChild.style.display="",this.visible.add(e))}setHidden(e){this.visible.has(e)&&(this.debug&&this.log("setHidden id:",e.dataset.virtual),e.firstElementChild.style.display="none",this.visible.delete(e))}setVirtualContainer(e){this.splitUp=e,this.onScrolledBottomFired=this.onScrolledTopFired=!1,this.lastScrollTop=0,this.log("setVirtualContainer:",e,this)}onScroll(){let e=this.splitUp||this.appendTo;clearTimeout(this.disableHoverTimeout),this.el!=this.appendTo&&this.appendTo!=this.container&&(e.classList.contains("disable-hover")||e.classList.add("disable-hover")),this.disableHoverTimeout=setTimeout(()=>{e.classList.remove("disable-hover"),this.lastScrollDirection=0,this.measureMutex.isFulfilled||this.measureMutex.resolve()},100),this.onScrollMeasure||(this.onScrollMeasure=window.requestAnimationFrame(()=>{let e=this.container[this.scrollSide];this.size=this.container[this.clientSize];let t=this.container[this.scrollType];this.scrollSize=t;let s=e-this.scrollTopOffset,o=this.scrollSize-this.scrollTopOffset-this.size;this.onScrolledBottom&&!this.scrollLocked&&(o-s<=this.onScrollOffset?(this.onScrolledBottomFired=!0,this.onScrolledBottom()):this.onScrolledBottomFired=!1),this.onScrolledTop&&!this.scrollLocked&&(s<=this.onScrollOffset?(this.onScrolledTopFired=!0,this.onScrolledTop()):this.onScrolledTopFired=!1),this.lastScrollTop!=s?(this.lastScrollDirection=this.lastScrollTop<s?1:-1,this.lastScrollTop=s):this.lastScrollDirection=0,this.onScrollMeasure=0}))}reorder(){Array.from(this.splitUp.children).forEach((e,t)=>{e.dataset.virtual=""+t})}updateElement(e){e.style.minHeight="",window.requestAnimationFrame(()=>{let t=e.scrollHeight;window.requestAnimationFrame(()=>{e.style.minHeight=t+"px"})})}prepareElement(e,t=!0){e.dataset.virtual=""+(t?this.virtualTempIDBottom++:this.virtualTempIDTop--),this.debug&&this.log("prepareElement: prepared"),window.requestAnimationFrame(()=>{let{scrollHeight:t}=e;this.debug&&this.log("prepareElement: first rAF"),window.requestAnimationFrame(()=>{e.style.minHeight=t+"px"}),this.visible.add(e),this.observer.observe(e)})}prepend(e,t=!0){t&&this.prepareElement(e,!1),this.splitUp?this.splitUp.prepend(e):this.appendTo.prepend(e)}append(e,t=!0){t&&this.prepareElement(e),this.splitUp?this.splitUp.append(e):this.appendTo.append(e)}contains(e){return this.splitUp?!!e.parentElement:this.appendTo.contains(e)}scrollIntoView(e,t=!0,s=!1){if(e.parentElement&&!this.scrollLocked){let o=this.scrollTop,r=e.offsetTop;if(r-=(this.container.clientHeight-e.scrollHeight)/2,e.dataset.timeout&&(clearTimeout(+e.dataset.timeout),e.classList.remove("is-selected"),e.offsetWidth),e.classList.add("is-selected"),e.dataset.timeout=""+setTimeout(()=>{e.classList.remove("is-selected"),delete e.dataset.timeout},2e3),o==Math.floor(r))return;this.scrollLocked&&clearTimeout(this.scrollLocked),this.scrollLocked=setTimeout(()=>{this.scrollLocked=0,this.onScroll()},468),s&&this.container.scrollTo({behavior:"auto",top:0}),this.container.scrollTo({behavior:t?"smooth":"auto",top:r})}}removeElement(e){e.remove()}set scrollTop(e){this.container.scrollTop=e}get scrollTop(){return this.container.scrollTop}get scrollHeight(){return this.container.scrollHeight}get length(){return this.appendTo.childElementCount}}},function(e,t,s){"use strict";
/*!
 * Webogram v0.7.0 - messaging web application for MTProto
 * https://github.com/zhukov/webogram
 * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>
 * https://github.com/zhukov/webogram/blob/master/LICENSE
 */Object.defineProperty(t,"__esModule",{value:!0});const o=s(39);var r=Date.now();function a(e){return new o.BigInteger(e.toString(16),16)}function i(e){return new o.BigInteger(e,10)}function n(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65}function l(e,t){for(var s=atob(e),o=s.length,r=Math.ceil(o/1024),a=new Array(r),i=0;i<r;++i){for(var n=1024*i,l=Math.min(n+1024,o),c=new Array(l-n),h=n,u=0;h<l;++u,++h)c[u]=s[h].charCodeAt(0);a[i]=new Uint8Array(c)}return d(a,t)}function d(e,t=""){var s,o=c(t);try{s=new Blob(e,{type:o})}catch(t){var r=new BlobBuilder;e.forEach((function(e){r.append(e)})),s=r.getBlob(o)}return s}function c(e){return-1===["image/jpeg","image/png","image/gif","image/webp","image/bmp","video/mp4","video/webm","video/quicktime","audio/ogg","audio/mpeg","audio/mp4"].indexOf(e)?"application/octet-stream":e}function h(e){return new Uint8Array(e).buffer}function u(e){return void 0!==e.buffer?e:new Uint8Array(e)}function p(e,t){var s=e.byteLength||e.length,o=t.byteLength||t.length,r=new Uint8Array(s+o);return r.set(e instanceof ArrayBuffer?new Uint8Array(e):e,0),r.set(t instanceof ArrayBuffer?new Uint8Array(t):t,s),r.buffer}function g(e){var t=i(e).divideAndRemainder(a(4294967296));return[t[0].intValue(),t[1].intValue()]}function m(e){for(var t=e.words,s=e.sigBytes,o=[],r=0;r<s;r++)o.push(t[r>>>2]>>>24-r%4*8&255);return o}t.dT=function(){return"["+((Date.now()-r)/1e3).toFixed(3)+"]"},t.isObject=function(e){return"object"==typeof e&&null!==e},t.bigint=a,t.bigStringInt=i,t.bytesToHex=function(e){e=e||[];for(var t=[],s=0;s<e.length;s++)t.push((e[s]<16?"0":"")+(e[s]||0).toString(16));return t.join("")},t.bytesFromHex=function(e){var t,s=e.length,o=0,r=[];for(e.length%2&&(r.push(parseInt(e.charAt(0),16)),o++),t=o;t<s;t+=2)r.push(parseInt(e.substr(t,2),16));return r},t.bytesToBase64=function(e){for(var t,s="",o=e.length,r=0,a=0;a<o;a++)t=a%3,r|=e[a]<<(16>>>t&24),2!==t&&o-a!=1||(s+=String.fromCharCode(n(r>>>18&63),n(r>>>12&63),n(r>>>6&63),n(63&r)),r=0);return s.replace(/A(?=A$|$)/g,"=")},t.uint6ToBase64=n,t.base64ToBlob=l,t.dataUrlToBlob=function(e){var t=e.split(",");return l(t[1],t[0].split(":")[1].split(";")[0])},t.blobConstruct=d,t.blobSafeMimeType=c,t.bytesCmp=function(e,t){var s=e.length;if(s!=t.length)return!1;for(var o=0;o<s;o++)if(e[o]!=t[o])return!1;return!0},t.bytesXor=function(e,t){for(var s=e.length,o=[],r=0;r<s;++r)o[r]=e[r]^t[r];return o},t.bytesFromBigInt=function(e,t){var s=e.toByteArray();if(t&&s.length<t){for(var o=[],r=0,a=t-s.length;r<a;r++)o[r]=0;s=s instanceof ArrayBuffer?p(o,s):o.concat(s)}else for(;!s[0]&&(!t||s.length>t);)s=s.slice(1);return s},t.bytesToArrayBuffer=h,t.convertToArrayBuffer=function(e){return e instanceof ArrayBuffer?e:void 0!==e.buffer&&e.buffer.byteLength==e.length*e.BYTES_PER_ELEMENT?e.buffer:h(e)},t.convertToUint8Array=u,t.convertToByteArray=function(e){if(Array.isArray(e))return e;for(var t=[],s=0,o=(e=u(e)).length;s<o;s++)t.push(e[s]);return t},t.bytesFromArrayBuffer=function(e){for(var t=e.byteLength,s=new Uint8Array(e),o=[],r=0;r<t;++r)o[r]=s[r];return o},t.bufferConcat=p,t.bufferConcats=function(...e){let t=0;e.forEach(e=>t+=e.byteLength||e.length);var s=new Uint8Array(t);let o=0;return e.forEach(e=>{s.set(e instanceof ArrayBuffer?new Uint8Array(e):e,o),o+=e.byteLength||e.length}),s},t.longToInts=g,t.bytesFromWords=m,t.bytesFromWordss=function(e){for(var t=[],s=0;s<4*e.length;s++)t.push(e[s>>>2]>>>24-s%4*8&255);return t},t.bytesToWordss=function(e){let t;t=e instanceof ArrayBuffer?new Uint8Array(e):e;var s,o=t.length,r=[];for(s=0;s<o;s++)r[s>>>2]|=t[s]<<24-s%4*8;return new Uint32Array(r)},t.longToBytes=function(e){return m({words:g(e),sigBytes:8}).reverse()},t.longFromInts=function(e,t){return a(e).shiftLeft(32).add(a(t)).toString(10)},t.intToUint=function(e){return"string"==typeof e&&(e=parseInt(e)),e},t.uintToInt=function(e){return e},t.addPadding=function(e,t=16,s,r=!1,a=!1){let i=t-(e.byteLength||e.length)%t;if(i>0&&(i<t||r)){let t=new Array(i);if(s)for(let e=0;e<i;e++)t[e]=0;else(new o.SecureRandom).nextBytes(t);if(e instanceof ArrayBuffer)e=a?p(t,e):p(e,t);else if(e instanceof Uint8Array){let s=new Uint8Array(e.length+t.length);a?(s.set(t),s.set(e,t.length)):(s.set(e),s.set(t,e.length)),e=s}else e=a?t.concat(e):e.concat(t)}return e},t.nextRandomInt=function(e){return Math.floor(Math.random()*e)}},function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function n(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,n)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(s(16)),i=r(s(27)),n=s(3),l=s(0);t.default=new class{constructor(){this.docs={}}saveDoc(e,t){if(this.docs[e.id]){let s=this.docs[e.id];return e.thumbs&&(s.thumbs?e.thumbs[0].bytes&&!s.thumbs[0].bytes&&s.thumbs.unshift(e.thumbs[0]):s.thumbs=e.thumbs),t?Object.assign(s,t):s}if(t&&Object.assign(e,t),this.docs[e.id]=e,e.thumb&&"photoCachedSize"==e.thumb._&&(console.warn("this will happen!!!"),a.default.saveSmallFile(e.thumb.location,e.thumb.bytes),e.thumb.size=e.thumb.bytes.length,delete e.thumb.bytes,e.thumb._="photoSize"),e.thumb&&"photoSizeEmpty"==e.thumb._&&delete e.thumb,e.attributes.forEach(t=>{switch(t._){case"documentAttributeFilename":e.file_name=n.RichTextProcessor.wrapPlainText(t.file_name);break;case"documentAttributeAudio":e.duration=t.duration,e.audioTitle=t.title,e.audioPerformer=t.performer,e.type=t.pFlags.voice?"voice":"audio";break;case"documentAttributeVideo":e.duration=t.duration,e.w=t.w,e.h=t.h,e.thumbs&&t.pFlags.round_message?e.type="round":e.type="video";break;case"documentAttributeSticker":e.sticker=!0,void 0!==t.alt&&(e.stickerEmojiRaw=t.alt,e.stickerEmoji=n.RichTextProcessor.wrapRichText(e.stickerEmojiRaw,{noLinks:!0,noLinebreaks:!0})),t.stickerset&&("inputStickerSetEmpty"==t.stickerset._?delete t.stickerset:"inputStickerSetID"==t.stickerset._&&(e.stickerSetInput=t.stickerset)),e.thumbs&&"image/webp"==e.mime_type?e.type="sticker":"application/x-tgsticker"==e.mime_type&&(e.type="sticker",e.animated=!0);break;case"documentAttributeImageSize":e.w=t.w,e.h=t.h;break;case"documentAttributeAnimated":"image/gif"!=e.mime_type&&"video/mp4"!=e.mime_type||!e.thumbs||(e.type="gif"),e.animated=!0}}),!e.mime_type)switch(e.type){case"gif":e.mime_type="video/mp4";break;case"video":case"round":e.mime_type="video/mp4";break;case"sticker":e.mime_type="image/webp";break;case"audio":e.mime_type="audio/mpeg";break;case"voice":e.mime_type="audio/ogg";break;default:e.mime_type="application/octet-stream"}return e.file_name||(e.file_name=""),"documentEmpty"==e._&&(e.size=0),e}getDoc(e){return l.isObject(e)?e:this.docs[e]}getInputByID(e){let t=this.getDoc(e);return{_:"inputMediaDocument",flags:0,id:{_:"inputDocument",id:t.id,access_hash:t.access_hash,file_reference:t.file_reference},ttl_seconds:0}}getFileName(e){if(e.file_name)return e.file_name;var t="."+e.mime_type.split("/")[1];return".octet-stream"==t&&(t=""),"t_"+(e.type||"file")+e.id+t}updateDocDownloaded(e){var t=this.docs[e],s={_:"inputDocumentFileLocation",id:e,access_hash:t.access_hash,version:t.version,file_name:this.getFileName(t)};void 0===t.downloaded&&a.default.getDownloadedFile(s,t.size).then(()=>{t.downloaded=!0},()=>{t.downloaded=!1})}downloadDoc(e,t){let s;s="string"==typeof e?this.docs[e]:e;var o={_:"inputDocumentFileLocation",id:s.id,access_hash:s.access_hash,file_reference:s.file_reference,thumb_size:"",version:s.version,file_name:this.getFileName(s)};if("documentEmpty"==s._)return Promise.reject();if(s.downloaded&&!t){if(s.url)return Promise.resolve(null);var r=a.default.getCachedFile(o);if(r)return Promise.resolve(r)}var n=a.default.downloadFile(s.dc_id,o,s.size,{mimeType:s.mime_type||"application/octet-stream",toFileEntry:t});return n.then(e=>(e&&(s.downloaded=!0,s.type&&"sticker"!=s.type&&(s.url=i.default.getFileCorrectUrl(e,s.mime_type))),e),e=>{console.log("document download failed",e)}),n}saveDocFile(e){return o(this,void 0,void 0,(function*(){var t=this.docs[e],s=this.getFileName(t),o=(s.split(".",2)||[])[1]||"";try{let r=i.default.chooseSaveFile(s,o,t.mime_type,t.size);yield r.ready;let a=this.downloadDoc(e,r);return a.then(()=>{r.close(),console.log("saved doc",t)}),{promise:a}}catch(o){let r=this.downloadDoc(e);return r.then(e=>{i.default.download(e,t.mime_type,s)}),{promise:r}}}))}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(21);const r=new class{constructor(){this.keyPrefix="",this.noPrefix=!1,this.cache={},this.useLs=!0}storageGetPrefix(){return this.noPrefix?(this.noPrefix=!1,""):this.keyPrefix}get(e,t){var s=!1;Array.isArray(e)||(t=(e=Array.prototype.slice.call(arguments)).pop(),s=1==e.length);var o,r,a,i=[],n=!0,l=this.storageGetPrefix();for(r=0;r<e.length;r++)if("xt_"!=(a=e[r]=l+e[r]).substr(0,3)&&void 0!==this.cache[a])i.push(this.cache[a]);else if(this.useLs){try{o=localStorage.getItem(a)}catch(e){this.useLs=!1}try{o=null!=o&&JSON.parse(o)}catch(e){o=!1}i.push(this.cache[a]=o)}else n=!1;if(n)return t(s?i[0]:i)}set(e,t){var s,o,r={},a=this.storageGetPrefix();for(s in e)if(e.hasOwnProperty(s))if(o=e[s],s=a+s,this.cache[s]=o,o=JSON.stringify(o),this.useLs)try{localStorage.setItem(s,o)}catch(e){this.useLs=!1}else r[s]=o;this.useLs&&t&&t()}remove(e,t){Array.isArray(e)||"function"==typeof(e=Array.prototype.slice.call(arguments))[e.length-1]&&(t=e.pop());var s,o,r=this.storageGetPrefix();for(s=0;s<e.length;s++)if(o=e[s]=r+e[s],delete this.cache[o],this.useLs)try{localStorage.removeItem(o)}catch(e){this.useLs=!1}t&&t()}clear(e){if(this.useLs)try{localStorage.clear()}catch(e){this.useLs=!1}this.cache={},e()}};t.default=new class{constructor(){this.taskID=0,this.tasks={},o.Modes.test&&this.setPrefix("t_"),this.isWebWorker="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}setPrefix(e){r.keyPrefix=e}noPrefix(){r.noPrefix=!0}finishTask(e,t){this.tasks[e](t),delete this.tasks[e]}proxy(e,...t){return new Promise((s,o)=>{if(this.isWebWorker)this.tasks[this.taskID]=s,self.postMessage({useLs:!0,task:e,taskID:this.taskID,args:t}),this.taskID++;else{let o=Array.prototype.slice.call(t);o.push(e=>{s(e)}),r[e].apply(r,o)}})}get(...e){return this.proxy("get",...e)}set(...e){return this.proxy("set",...e)}remove(...e){return this.proxy("remove",...e)}clear(...e){return this.proxy("clear",...e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(10),r=s(39);t.secureRandom=new r.SecureRandom,t.logger=function(e){function t(...t){return console.log(o.dT(),"["+e+"]:",...t)}return t.warn=function(...t){return console.warn(o.dT(),"["+e+"]:",...t)},t.info=function(...t){return console.info(o.dT(),"["+e+"]:",...t)},t.error=function(...t){return console.error(o.dT(),"["+e+"]:",...t)},t.trace=function(...t){return console.trace(o.dT(),"["+e+"]:",...t)},t},t.deferredPromise=function(){let e={notify:()=>{},isFulfilled:!1,isRejected:!1},t=new Promise((s,o)=>{e.resolve=e=>{t.isFulfilled||(t.isFulfilled=!0,s(e))},e.reject=(...e)=>{t.isRejected||(t.isRejected=!0,o(...e))}});return Object.assign(t,e),t},Object.defineProperty(Uint8Array.prototype,"hex",{get:function(){return o.bytesToHex([...this])},set:function(e){this.set(o.bytesFromHex(e))},enumerable:!0,configurable:!0}),Uint8Array.prototype.randomize=function(){return t.secureRandom.nextBytes(this),this},Uint8Array.prototype.concat=function(...e){return o.bufferConcats(this,...e)},Uint8Array.prototype.toString=function(){return String.fromCharCode.apply(null,[...this])},Array.prototype.forEachReverse=function(e){for(var t=this.length-1;t>=0;--t)e(this[t],t,this)},Array.prototype.findAndSplice=function(e){let t=this.findIndex(e);return-1!==t?this.splice(t,1)[0]:void 0},String.prototype.toHHMMSS=function(e=!1){let t=parseInt(this+"",10),s=Math.floor(t/3600),o=Math.floor((t-3600*s)/60),r=t-3600*s-60*o;return s<10&&(s="0"+s),o<10&&(o=e?"0"+o:o),r<10&&(r="0"+r),o+":"+r}},function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function n(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,n)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=s(0);const a=new class{constructor(){this.lottie=null,this.animations={},this.debug=!1,this.lastTimeLoad=0,this.waitingTimeouts=0}loadLottie(){return this.loaded?this.loaded:this.loaded=new Promise((e,t)=>{window.lottieLoaded=()=>{console.log("lottie loaded"),this.lottie=window.lottie,e()};let s=document.createElement("script");s.src="npm.lottie-web.chunk.js",s.async=!0,s.onload=window.lottieLoaded,document.body.appendChild(s)})}checkAnimations(e,t,s=!1){let o=t?[t]:Object.keys(this.animations);t&&!this.animations[t]&&(console.warn("no animation group:",t),this.animations[t]=[]);for(let t of o){let o=this.animations[t];for(let t=o.length-1;t>=0;--t){let{animation:a,container:i,paused:n,autoplay:l,canvas:d}=o[t];if(!s||r.isInDOM(i)){if(d){let e=i.firstElementChild;if(!e){console.warn("no canvas element for check!",i,o[t]);continue}e.height||e.width||!r.isElementInViewport(i)||a.resize()}l&&(e||!r.isElementInViewport(i)?n||(this.debug&&console.log("pause animation",r.isElementInViewport(i),i),a.pause(),o[t].paused=!0):n&&(this.debug&&console.log("play animation",i),a.play(),o[t].paused=!1))}else this.debug&&console.log("destroy animation"),a.destroy(),o.splice(t,1)}}}loadAnimation(e,t=""){return o(this,void 0,void 0,(function*(){e.renderer="canvas",e.rendererSettings={clearCanvas:!0,progressiveLoad:!0,hideOnTransparent:!0},this.lottie||(this.loaded||this.loadLottie(),yield this.loaded,this.lottie.setQuality("low"));let s=150;Date.now()-this.lastTimeLoad<s&&(s*=++this.waitingTimeouts,console.log("lottieloader delay:",s),this.waitingTimeouts--);let o=this.lottie.loadAnimation(e);return this.lastTimeLoad=Date.now(),this.animations[t]||(this.animations[t]=[]),this.animations[t].push({animation:o,container:e.container,paused:!e.autoplay,autoplay:e.autoplay,canvas:"canvas"==e.renderer}),e.autoplay&&this.checkAnimations(),o}))}getAnimation(e,t=""){let s=t?[t]:Object.keys(this.animations);for(let t of s){let s=this.animations[t].find(t=>t.container===e);if(s)return s.animation}return null}};window.LottieLoader=a,t.default=a},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(1)),a=s(0),i=o(s(4)),n=o(s(6)),l=o(s(7)),d=o(s(19)),c=o(s(25)),h=s(3),u=o(s(8)),p=o(s(34)),g=s(13),m=o(s(14)),_=o(s(35)),y=o(s(46)),f=o(s(5)),b=o(s(23)),x=o(s(18)),v=s(28),D=o(s(24)),w=s(2),S=s(75),E=o(s(9)),P=o(s(77)),C=o(s(36)),F=o(s(11)),k=o(s(78)),M=o(s(29)),A=o(s(33));console.log("appImManager included!"),y.default;class T{constructor(){this.pageEl=document.querySelector(".page-chats"),this.btnMute=this.pageEl.querySelector(".tool-mute"),this.btnMenuMute=this.pageEl.querySelector(".menu-mute"),this.avatarEl=document.getElementById("im-avatar"),this.titleEl=document.getElementById("im-title"),this.subtitleEl=document.getElementById("im-subtitle"),this.bubblesContainer=document.getElementById("bubbles"),this.chatInner=document.getElementById("bubbles-inner"),this.searchBtn=this.pageEl.querySelector(".chat-search-button"),this.goDownBtn=this.pageEl.querySelector("#bubbles-go-down"),this.chatInputC=null,this.myID=0,this.peerID=0,this.muted=!1,this.bubbles={},this.dateMessages={},this.unreadOut=new Set,this.needUpdate=[],this.offline=!1,this.updateStatusInterval=0,this.pinnedMsgID=0,this.pinnedMessageContainer=this.pageEl.querySelector(".pinned-message"),this.pinnedMessageContent=this.pinnedMessageContainer.querySelector(".pinned-message-subtitle"),this.lazyLoadQueue=new C.default,this.scroll=null,this.scrollable=null,this.preloader=null,this.typingTimeouts={},this.typingUsers={},this.topbar=document.getElementById("topbar"),this.chatInput=document.getElementById("chat-input"),this.contextMenu=document.getElementById("bubble-contextmenu"),this.contextMenuPin=this.contextMenu.querySelector(".menu-pin"),this.contextMenuEdit=this.contextMenu.querySelector(".menu-edit"),this.popupDeleteMessage={},this.setPeerPromise=null,this.bubbleGroups=new P.default,this.scrolledDown=!0,this.onScrollRAF=0,this.isScrollingTimeout=0,this.datesIntersectionObserver=null,this.lastDateMessageDiv=null,this.unreadedObserver=null,this.loadedTopTimes=0,this.loadedBottomTimes=0,this.log=g.logger("IM"),this.chatInputC=new S.ChatInput,this.preloader=new D.default(null,!1),this.popupDeleteMessage.popupEl=this.pageEl.querySelector(".popup-delete-message"),this.popupDeleteMessage.deleteBothBtn=this.popupDeleteMessage.popupEl.querySelector(".popup-delete-both"),this.popupDeleteMessage.deleteMeBtn=this.popupDeleteMessage.popupEl.querySelector(".popup-delete-me"),this.popupDeleteMessage.cancelBtn=this.popupDeleteMessage.popupEl.querySelector(".popup-close"),r.default.getUserID().then(e=>{this.myID=a.$rootScope.myID=e}),a.$rootScope.$on("user_auth",e=>{let t=e.detail;this.myID=a.$rootScope.myID=t?t.id:0}),a.$rootScope.$on("history_append",e=>{let t=e.detail;this.renderNewMessagesByIDs([t.messageID])}),a.$rootScope.$on("history_update",e=>{let t=e.detail;if(t.mid&&t.peerID==this.peerID){let e=t.mid,s=this.bubbles[e];if(!s)return;let o=n.default.getMessage(e);this.getDateContainerByMessage(o,!1).container.append(s),this.bubbleGroups.addBubble(s,o,!1)}}),a.$rootScope.$on("history_multiappend",e=>{let t=e.detail;if(!(this.peerID in t))return;let s=t[this.peerID];this.renderNewMessagesByIDs(s)}),a.$rootScope.$on("history_delete",e=>{let t=e.detail;this.deleteMessagesByIDs(Object.keys(t.msgs).map(e=>+e))}),a.$rootScope.$on("dialog_flush",e=>{let t=e.detail.peerID;this.peerID==t&&this.deleteMessagesByIDs(Object.keys(this.bubbles).map(e=>+e))}),a.$rootScope.$on("message_sent",e=>{let{tempID:t,mid:s}=e.detail;this.log("message_sent",e.detail);let o=n.default.getMessage(s);if(o.media)if(o.media.photo){let e=u.default.getPhoto(t);if(e){let t=o.media.photo;t.downloaded=e.downloaded,t.url=e.url}}else if(o.media.document){let e=F.default.getDoc(t);if(e&&e.type&&"sticker"!=e.type){let t=o.media.document;t.downloaded=e.downloaded,t.url=e.url}}let r=this.bubbles[t];if(r){if(this.bubbles[s]=r,o.grouped_id){let e=r.querySelectorAll(".album-item"),t=Object.keys(n.default.groupedMessagesStorage[o.grouped_id]).map(e=>+e).sort((e,t)=>e-t);Array.from(e).forEach((e,s)=>{e.dataset.mid=""+t[s]})}r.classList.remove("is-sending"),r.classList.add("is-sent"),r.dataset.mid=s,this.bubbleGroups.removeBubble(r,t),delete this.bubbles[t]}else this.log.warn("message_sent there is no bubble",e.detail);this.unreadOut.has(t)&&(this.unreadOut.delete(t),this.unreadOut.add(s))}),a.$rootScope.$on("message_edit",e=>{let{peerID:t,mid:s,id:o,justMedia:r}=e.detail;if(t!=this.peerID)return;let a=n.default.getMessage(s),i=this.bubbles[s];if(!i&&a.grouped_id){let e=this.getAlbumBubble(a.grouped_id);i=e.bubble,a=e.message}i&&this.renderMessage(a,!0,!1,i,!1)}),a.$rootScope.$on("messages_downloaded",e=>{e.detail.forEach(e=>{if(this.pinnedMsgID==e){let t=n.default.getMessage(e);this.pinnedMessageContainer.dataset.mid=""+e,this.pinnedMessageContainer.style.display="",this.pinnedMessageContent.innerHTML=t.rReply}this.needUpdate.forEachReverse((t,s)=>{if(t.replyMid==e){let{mid:e,replyMid:t}=this.needUpdate.splice(s,1)[0],o=this.bubbles[e];if(!o)return;let r=n.default.getMessage(e);n.default.getMessage(t).deleted&&delete r.reply_to_mid,this.renderMessage(r,!0,!1,o,!1)}})})}),a.$rootScope.$on("apiUpdate",e=>{let t=e.detail;this.handleUpdate(t)}),window.addEventListener("blur",()=>{m.default.checkAnimations(!0),this.offline=!0,this.updateStatus(),clearInterval(this.updateStatusInterval),window.addEventListener("focus",()=>{m.default.checkAnimations(!1),this.offline=!1,this.updateStatus(),this.updateStatusInterval=window.setInterval(()=>this.updateStatus(),5e4)},{once:!0})}),this.pageEl.querySelector(".person").addEventListener("click",e=>{p.default.toggleSidebar(!0)}),this.chatInner.addEventListener("click",e=>{var t;let s=e.target,o=null;try{o=a.findUpClassName(s,"bubble")}catch(e){}if(!o)return;let r=a.findUpClassName(s,"contact");if(r)this.setPeer(+r.dataset.peerID);else if("SPAN"!=s.tagName){if("IMG"==s.tagName&&!s.classList.contains("emoji")&&"AVATAR-ELEMENT"!=s.parentElement.tagName||"image"==s.tagName||s.classList.contains("album-item")||"VIDEO"==s.tagName&&!o.classList.contains("round")){let e=+(null===(t=a.findUpClassName(s,"album-item"))||void 0===t?void 0:t.dataset.mid)||+o.dataset.mid,r=n.default.getMessage(e);if(!r)return void this.log.warn("no message by messageID:",e);let i=[],l=Object.keys(this.bubbles).map(e=>+e).filter(e=>{let t=n.default.getMessage(e);return t.media&&(t.media.photo||t.media.document&&("video"==t.media.document.type||"gif"==t.media.document.type)||t.media.webpage&&(t.media.webpage.document||t.media.webpage.photo))}).sort((e,t)=>e-t);l.forEach(e=>{this.bubbles[e];let t=this.bubbles[e].querySelectorAll(".attachment img, .preview img, video, .bubble__media-container");Array.from(t).forEach(t=>{let s=a.findUpClassName(t,"album-item");i.push({element:t,mid:+(null==s?void 0:s.dataset.mid)||e})})});let d=i.findIndex(t=>t.mid==e);this.log("open mediaViewer single with ids:",l,d,i),_.default.openMedia(r,i[d].element,!0,this.scroll.parentElement,i.slice(0,d),i.slice(d+1))}if(-1===["IMG","DIV"].indexOf(s.tagName)&&(s=a.findUpTag(s,"DIV")),"DIV"==s.tagName||"AVATAR-ELEMENT"==s.tagName){if(s.classList.contains("forward")){let e=o.dataset.savedFrom.split("_"),t=+e[0],s=+e[1];return void this.setPeer(t,s)}if("AVATAR-ELEMENT"==s.tagName||s.classList.contains("name")){let e=+s.dataset.peerID;return void(isNaN(e)||this.setPeer(e))}let t=!1;try{t=!!a.findUpClassName(e.target,"reply")}catch(e){}if(t&&o.classList.contains("is-reply")){let e=+o.getAttribute("data-original-mid");this.setPeer(this.peerID,e)}}else if("IMG"==s.tagName&&"AVATAR-ELEMENT"==s.parentElement.tagName){let e=+s.parentElement.dataset.peerID;isNaN(e)||this.setPeer(e)}}else s.parentElement.querySelector("video").click()}),this.searchBtn.addEventListener("click",e=>{this.peerID&&p.default.beginSearch()}),this.pinnedMessageContainer.addEventListener("click",e=>{e.preventDefault(),e.cancelBubble=!0;let t=+this.pinnedMessageContainer.getAttribute("data-mid");this.setPeer(this.peerID,t)}),this.btnMenuMute.addEventListener("click",()=>this.mutePeer(this.peerID)),this.btnMute.addEventListener("click",()=>this.mutePeer(this.peerID));document.body.addEventListener("keydown",e=>{let t=e.target;if(this.chatInputC.attachMediaPopUp.container.classList.contains("active"))return"INPUT"!=t.tagName&&this.chatInputC.attachMediaPopUp.captionInput.focus(),void("Enter"==e.key?this.chatInputC.attachMediaPopUp.sendBtn.click():"Escape"==e.key&&this.chatInputC.attachMediaPopUp.container.classList.remove("active"));if("Escape"==e.key&&0!=this.peerID)this.setPeer(0);else{if("Meta"==e.key||"Control"==e.key)return;if("c"==e.key&&(e.ctrlKey||e.metaKey)&&"INPUT"!=t.tagName)return}e.target!=this.chatInputC.messageInput&&"INPUT"!=t.tagName&&(this.chatInputC.messageInput.focus(),a.placeCaretAtEnd(this.chatInputC.messageInput))}),this.chatInner.addEventListener("contextmenu",e=>{let t=null;try{t=a.findUpClassName(e.target,"bubble__container")}catch(e){}if(t){t=t.parentElement,e.preventDefault(),e.cancelBubble=!0;let s=0;for(let e in this.bubbles)if(this.bubbles[e]===t){s=+e;break}if(!s)return;this.myID==this.peerID||this.peerID<0&&!l.default.isChannel(this.peerID)&&!l.default.isMegagroup(this.peerID)?this.contextMenuPin.style.display="":this.contextMenuPin.style.display="none",this.contextMenuMsgID=s;let o=t.classList.contains("is-in")?"left":"right";this.contextMenuEdit.style.display="right"==o?"":"none",w.positionMenu(e,this.contextMenu,o),w.openBtnMenu(this.contextMenu)}}),this.contextMenu.querySelector(".menu-copy").addEventListener("click",()=>{let e=n.default.getMessage(this.contextMenuMsgID),t=e?e.message:"";var s=document.createElement("textarea");s.value=t,s.style.position="fixed",document.body.appendChild(s),s.focus(),s.select();try{document.execCommand("copy")}catch(e){console.error("Oops, unable to copy",e)}document.body.removeChild(s)}),this.contextMenu.querySelector(".menu-delete").addEventListener("click",()=>{if(this.peerID==this.myID)this.popupDeleteMessage.deleteBothBtn.style.display="none",this.popupDeleteMessage.deleteMeBtn.innerText="DELETE";else if(this.popupDeleteMessage.deleteBothBtn.style.display="",this.popupDeleteMessage.deleteMeBtn.innerText="DELETE JUST FOR ME",this.peerID>0){let e=l.default.getPeerTitle(this.peerID);this.popupDeleteMessage.deleteBothBtn.innerHTML="DELETE FOR ME AND "+e}else this.popupDeleteMessage.deleteBothBtn.innerText="DELETE FOR ALL";this.popupDeleteMessage.popupEl.classList.add("active")}),this.contextMenu.querySelector(".menu-reply").addEventListener("click",()=>{let e=n.default.getMessage(this.contextMenuMsgID);this.chatInputC.setTopInfo(l.default.getPeerTitle(e.fromID,!0),e.message,void 0,e),this.chatInputC.replyToMsgID=this.contextMenuMsgID,this.chatInputC.editMsgID=0}),this.contextMenu.querySelector(".menu-forward").addEventListener("click",()=>{k.default.init([this.contextMenuMsgID])}),this.contextMenuEdit.addEventListener("click",()=>{let e=n.default.getMessage(this.contextMenuMsgID);this.chatInputC.setTopInfo("Editing",e.message,e.message,e),this.chatInputC.replyToMsgID=0,this.chatInputC.editMsgID=this.contextMenuMsgID}),this.contextMenuPin.addEventListener("click",()=>{r.default.invokeApi("messages.updatePinnedMessage",{flags:0,peer:l.default.getInputPeerByID(this.peerID),id:this.contextMenuMsgID}).then(e=>{x.default.processUpdateMessage(e)})}),this.popupDeleteMessage.deleteBothBtn.addEventListener("click",()=>{this.deleteMessages(!0),this.popupDeleteMessage.cancelBtn.click()}),this.popupDeleteMessage.deleteMeBtn.addEventListener("click",()=>{this.deleteMessages(!1),this.popupDeleteMessage.cancelBtn.click()}),this.goDownBtn.addEventListener("click",()=>{let e=n.default.getDialogByPeerID(this.peerID)[0];e?this.setPeer(this.peerID,e.top_message):(this.log("will scroll down 3"),this.scroll.scrollTop=this.scroll.scrollHeight)}),this.updateStatusInterval=window.setInterval(()=>this.updateStatus(),5e4),this.updateStatus(),setInterval(()=>this.setPeerStatus(),6e4),this.setScroll(),x.default.attach(),this.datesIntersectionObserver=new IntersectionObserver(e=>{let t=e.filter(e=>e.boundingClientRect.top<0).sort((e,t)=>t.boundingClientRect.top-e.boundingClientRect.top)[0];if(!t)return;let s=t.isIntersecting?t.target:t.target.nextElementSibling;for(let e in this.dateMessages){let t=this.dateMessages[e];if(t.container==s){this.lastDateMessageDiv&&this.lastDateMessageDiv.classList.remove("is-sticky"),t.div.classList.add("is-sticky"),this.lastDateMessageDiv=t.div;break}}}),this.unreadedObserver=new IntersectionObserver(e=>{let t=[];if(e.forEach(e=>{if(e.isIntersecting){let s=e.target,o=+s.dataset.mid;t.push(o),this.unreadedObserver.unobserve(s)}}),t.length){let e=Math.max(...t),s=Math.min(...t);this.peerID<0&&(e=b.default.getMessageIDInfo(e)[0],s=b.default.getMessageIDInfo(s)[0]),n.default.readHistory(this.peerID,e,s).catch(t=>{this.log.error("readHistory err:",t),n.default.readHistory(this.peerID,e,s)})}})}deleteMessages(e=!1){let t=e?1:0,s=[this.contextMenuMsgID];r.default.invokeApi("messages.deleteMessages",{flags:t,revoke:e,id:s}).then(e=>{x.default.processUpdateMessage({_:"updateShort",update:{_:"updatePts",pts:e.pts,pts_count:e.pts_count}}),x.default.processUpdateMessage({_:"updateShort",update:{_:"updateDeleteMessages",messages:s}})})}updateStatus(){return this.myID?(i.default.setUserStatus(this.myID,this.offline),r.default.invokeApi("account.updateStatus",{offline:this.offline})):Promise.resolve()}getAlbumBubble(e){let t=n.default.groupedMessagesStorage[e];for(let e in t){let t=+e;if(this.bubbles[t])return{bubble:this.bubbles[t],message:n.default.getMessage(t)}}return null}loadMoreHistory(e){if(this.log("loadMoreHistory",e),!this.peerID||this.setPeerPromise||e&&this.getHistoryTopPromise||!e&&this.getHistoryBottomPromise)return;let t=Object.keys(this.bubbles).map(e=>+e).sort((e,t)=>e-t);if(!t.length)return;let s=-1;for(let e=0;e<t.length&&t[e]<=0;++e)s=e;if(-1!=s&&(t=t.slice(s+1)),e&&!this.scrolledAll&&(this.log("Will load more (up) history by id:",t[0],"maxID:",t[t.length-1],t),this.getHistory(t[0],!0)),this.scrolledAllDown)return;let o=n.default.getDialogByPeerID(this.peerID)[0];e||o&&-1!==t.indexOf(o.top_message)||(this.log("Will load more (down) history by maxID:",t[t.length-1],t),this.getHistory(t[t.length-1],!1,!0))}onScroll(){this.onScrollRAF&&window.cancelAnimationFrame(this.onScrollRAF),this.onScrollRAF=window.requestAnimationFrame(()=>{m.default.checkAnimations(!1,"chat"),this.isScrollingTimeout?clearTimeout(this.isScrollingTimeout):this.chatInner.classList.add("is-scrolling"),this.isScrollingTimeout=setTimeout(()=>{this.chatInner.classList.remove("is-scrolling"),this.isScrollingTimeout=0},300),this.scroll.scrollHeight-Math.round(this.scroll.scrollTop+this.scroll.offsetHeight)<=1?(this.scroll.parentElement.classList.add("scrolled-down"),this.scrolledDown=!0):this.scroll.parentElement.classList.contains("scrolled-down")&&(this.scroll.parentElement.classList.remove("scrolled-down"),this.scrolledDown=!1),this.onScrollRAF=0})}setScroll(){this.scrollable=new E.default(this.bubblesContainer,"y",750,"IM",this.chatInner,300),this.scroll=this.scrollable.container,this.bubblesContainer.append(this.goDownBtn),this.scrollable.onScrolledTop=()=>this.loadMoreHistory(!0),this.scrollable.onScrolledBottom=()=>this.loadMoreHistory(!1),this.scroll.addEventListener("scroll",this.onScroll.bind(this)),this.scroll.parentElement.classList.add("scrolled-down")}setPeerStatus(e=!1){if(this.myID)if(this.peerID<0){let t=l.default.getPeer(this.peerID),s=l.default.isChannel(this.peerID)&&!l.default.isMegagroup(this.peerID);this.subtitleEl.classList.remove("online"),p.default.profileElements.subtitle.classList.remove("online"),e&&(this.subtitleEl.innerText=p.default.profileElements.subtitle.innerText=""),Promise.all([l.default.isMegagroup(this.peerID)?r.default.invokeApi("messages.getOnlines",{peer:l.default.getInputPeerByID(this.peerID)}):Promise.resolve(),d.default.getChatFull(t.id)]).then(e=>{let[t,o]=e,r=t?t.onlines:1;if("chatFull"==o._&&o.participants&&o.participants.participants){r=o.participants.participants.reduce((e,t)=>{let s=i.default.getUser(t.user_id);return s&&s.status&&"userStatusOnline"==s.status._?e+1:e},0)}this.log("chatInfo res:",o),o.pinned_msg_id&&(this.pinnedMsgID=o.pinned_msg_id,n.default.wrapSingleMessage(o.pinned_msg_id));let l=o.participants_count||o.participants&&o.participants.participants&&o.participants.participants.length;if(l){let e=a.numberWithCommas(l)+" "+(s?"subscribers":"members");r>1&&(e+=", "+a.numberWithCommas(r)+" online"),this.subtitleEl.innerText=p.default.profileElements.subtitle.innerText=e}})}else if(i.default.isBot(this.peerID))this.subtitleEl.innerText="bot",p.default.profileElements.subtitle.innerText="bot";else{let e=i.default.getUser(this.peerID);if(this.myID==this.peerID)this.subtitleEl.innerText=p.default.profileElements.subtitle.innerText="";else if(e&&e.status){let t=i.default.getUserStatusString(e.id);"online"==t&&(this.subtitleEl.classList.add("online"),p.default.profileElements.subtitle.classList.add("online")),p.default.profileElements.subtitle.innerText=t,this.typingUsers[this.peerID]==this.peerID?(this.subtitleEl.innerText="typing...",this.subtitleEl.classList.add("online")):(this.subtitleEl.innerText=t,"online"!=t&&(this.subtitleEl.classList.remove("online"),p.default.profileElements.subtitle.classList.remove("online")))}}}cleanup(){this.peerID=a.$rootScope.selectedPeerID=0,this.scrolledAll=!1,this.scrolledAllDown=!1,this.muted=!1,this.bubbles={},this.dateMessages={},this.bubbleGroups.cleanup(),this.unreadOut.clear(),this.needUpdate.length=0,this.lazyLoadQueue.clear(),this.chatInputC.messageInput.innerHTML="",this.chatInputC.replyElements.cancelBtn.click(),this.chatInner.innerHTML="",m.default.checkAnimations(!1,"chat",!0),this.getHistoryTopPromise=this.getHistoryBottomPromise=void 0,this.scrollable.setVirtualContainer(null),this.datesIntersectionObserver.disconnect(),this.lastDateMessageDiv=null,this.unreadedObserver.disconnect(),this.loadedTopTimes=this.loadedBottomTimes=0}setPeer(e,t=0,s=!1){if(console.time("appImManager setPeer"),console.time("appImManager setPeer pre promise"),0==e)return p.default.toggleSidebar(!1),this.topbar.style.display=this.chatInput.style.display=this.goDownBtn.style.display="none",this.cleanup(),c.default.lastActiveListElement&&(c.default.lastActiveListElement.classList.remove("active"),c.default.lastActiveListElement=null),!1;let o=this.peerID==e;if(this.setPeerPromise&&o)return this.setPeerPromise;if(t&&n.default.readHistory(e,t),o){if(!t)return!0;if(this.bubbles[t]){let s=n.default.getDialogByPeerID(e)[0];return s&&t==s.top_message?(this.log("will scroll down",this.scroll.scrollTop,this.scroll.scrollHeight),this.scroll.scrollTop=this.scroll.scrollHeight):this.scrollable.scrollIntoView(this.bubbles[t]),!0}}else p.default.searchCloseBtn.click();const r=Math.max(...Object.keys(this.bubbles).map(e=>+e));this.cleanup(),this.peerID=a.$rootScope.selectedPeerID=e;let i=n.default.getDialogByPeerID(this.peerID)[0]||null;this.avatarEl.setAttribute("peer",""+this.peerID);const d=l.default.isChannel(e),h=d&&f.default.hasRights(-e,"send");h?this.chatInner.classList.add("has-rights"):this.chatInner.classList.remove("has-rights"),this.chatInput.style.display=!d||h?"":"none",this.chatInner.style.visibility="hidden",this.topbar.style.display="",l.default.isAnyGroup(e)?this.chatInner.classList.add("is-chat"):this.chatInner.classList.remove("is-chat"),d?this.chatInner.classList.add("is-channel"):this.chatInner.classList.remove("is-channel"),this.pinnedMessageContainer.style.display="none",window.requestAnimationFrame(()=>{let e="";if(e=this.peerID==this.myID?"Saved Messages":l.default.getPeerTitle(this.peerID),this.titleEl.innerHTML=p.default.profileElements.name.innerHTML=e,this.goDownBtn.style.display="",!s){!o&&c.default.lastActiveListElement&&c.default.lastActiveListElement.classList.remove("active");let e=c.default.getDialogDom(this.peerID);e&&(c.default.lastActiveListElement=e.listEl,e.listEl.classList.add("active"))}this.setPeerStatus(!0)});const u=t!=(null==i?void 0:i.top_message),g=u?0:i.top_message;return console.timeEnd("appImManager setPeer pre promise"),this.preloader.attach(this.bubblesContainer),this.setPeerPromise=Promise.all([this.getHistory(t,!0,u,g).then(()=>{if(t)if(i&&t==i.top_message)this.log("will scroll down 2"),this.scroll.scrollTop=this.scroll.scrollHeight;else{let e=this.bubbles[t],s=r&&r<t;e?(this.scrollable.scrollLocked&&(clearTimeout(this.scrollable.scrollLocked),this.scrollable.scrollLocked=0),this.scrollable.scrollIntoView(e,o,s)):this.log.warn("no bubble by lastMsgID:",t)}return(!t||i&&i.top_message==t)&&(this.scrolledAllDown=!0),this.preloader.detach(),this.chatInner.style.visibility="",console.timeEnd("appImManager setPeer"),!0}),p.default.fillProfileElements()]).catch(e=>(this.log.error("setPeer promises error:",e),this.preloader.detach(),!1)).then(t=>(this.peerID==e&&(this.setPeerPromise=null),!!t))}setTyping(e){if(!this.peerID)return Promise.resolve(!1);"string"==typeof e&&(e={_:e});let t=l.default.getInputPeerByID(this.peerID);return r.default.invokeApi("messages.setTyping",{peer:t,action:e})}updateUnreadByDialog(e){let t=this.peerID==this.myID?e.read_inbox_max_id:e.read_outbox_max_id;for(let e of this.unreadOut)if(e>0&&e<=t){let t=this.bubbles[e];t&&(t.classList.remove("is-sent"),t.classList.add("is-read")),this.unreadOut.delete(e)}}deleteMessagesByIDs(e){e.forEach(e=>{if(!(e in this.bubbles))return;let t=this.bubbles[e];delete this.bubbles[e],this.bubbleGroups.removeBubble(t,e),this.unreadedObserver.unobserve(t),this.scrollable.removeElement(t)}),m.default.checkAnimations(),this.deleteEmptyDateGroups()}renderNewMessagesByIDs(e){if(!this.scrolledAllDown)return;let t=this.scrolledDown;e.forEach(e=>{let t=n.default.getMessage(e);this.renderMessage(t)}),t&&(this.scrollable.scrollTop=this.scrollable.scrollHeight)}getDateContainerByMessage(e,t){let s=new Date(1e3*e.date),o=new Date(s.getFullYear(),s.getMonth(),s.getDate()),r=o.getTime();if(!(r in this.dateMessages)){let e="",a=new Date;if(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a<s)e="Today";else{const t=["January","February","March","April","May","June","July","August","September","October","November","December"];e=o.getFullYear()==(new Date).getFullYear()?t[o.getMonth()]+" "+o.getDate():o.toISOString().split("T")[0].split("-").reverse().join(".")}let i=document.createElement("div");i.className="bubble service is-date",i.innerHTML=`<div class="bubble__container"><div class="service-msg">${e}</div></div>`;let n=document.createElement("div");n.className="bubbles-date-group",this.dateMessages[r]={div:i,container:n,firstTimestamp:s.getTime()},n.append(i),t?this.scrollable.prepend(n,!1):this.scrollable.append(n,!1),this.datesIntersectionObserver.observe(n)}return this.dateMessages[r]}renderMessage(e,t=!1,s=!1,o=null,r=!0){if(this.log("message to render:",e),e.deleted)return;if(e.grouped_id){let t=n.default.groupedMessagesStorage[e.grouped_id],s=Math.max(...Object.keys(t).map(e=>+e));if(e.mid<s)return}let i,d=this.peerID,c=e.fromID==this.myID,p=document.createElement("div");if(p.classList.add("message"),o?(o.className="bubble",i=o.firstElementChild,i.innerHTML=""):(i=document.createElement("div"),i.classList.add("bubble__container"),(o=document.createElement("div")).classList.add("bubble"),o.appendChild(i),this.bubbles[+e.mid]=o),o.dataset.mid=e.mid,"messageService"==e._){o.className="bubble service";let s=e.action,n=l.default.getPeerTitle(e.fromID),d=document.createElement("div");d.classList.add("name"),d.dataset.peerID=e.fromID,d.innerHTML=n;let c=s._;"messageActionPhoneCall"==c&&(c+="."+s.type);let h=a.langPack[c];h||(h="["+c+"]");let u=h[0].toUpperCase()==h[0]?h:(d.innerText?d.outerHTML+" ":"")+h;i.innerHTML=`<div class="service-msg">${u}</div>`;let p=this.getDateContainerByMessage(e,t);return r&&(t?p.container.insertBefore(o,p.div.nextSibling):p.container.append(o)),o}let g=new Date(1e3*e.date),m=("0"+g.getHours()).slice(-2)+":"+("0"+g.getMinutes()).slice(-2);e.views&&(o.classList.add("channel-post"),m=a.formatNumber(e.views,1)+' <i class="tgico-channelviews"></i> '+m),e.edit_date&&(o.classList.add("is-edited"),m='<i class="edited">edited</i> '+m);let _=document.createElement("span");_.classList.add("time");let y,f,b=document.createElement("div");if(b.classList.add("inner","tgico"),b.innerHTML=m,e.grouped_id){let t=n.default.groupedMessagesStorage[e.grouped_id],s=0;for(let e in t){let o=t[e];if(o.message){if(++s>1)break;y=o.message,f=o.totalEntities}}s>1&&(y=void 0,f=void 0)}y||f||(y=e.message,f=e.totalEntities);let x=h.RichTextProcessor.wrapRichText(y,{entities:f}),D=e.media;if(f){let e=f.filter(e=>"messageEntityEmoji"==e._),t=y.length;if(e.reduce((e,t)=>e+t.length,0)==t&&e.length<=3){let t=M.default.getAnimatedEmojiSticker(y);if(1==e.length&&!D&&t)D={_:"messageMediaDocument",document:t};else{let t=document.createElement("div");t.classList.add("attachment"),t.innerHTML=x,o.classList.add("emoji-"+e.length+"x"),i.append(t)}o.classList.add("is-message-empty","emoji-big")}else p.innerHTML=x}else p.innerHTML=x;if(_.appendChild(b),p.append(_),i.prepend(p),c){(e.pFlags.unread||e.mid<0)&&this.unreadOut.add(e.mid);let t="";t=e.mid<0?"is-sending":e.pFlags.unread?"is-sent":"is-read",o.classList.add(t)}else e.pFlags.unread&&this.unreadedObserver.observe(o);if(D){let t=document.createElement("div");t.classList.add("attachment"),y||o.classList.add("is-message-empty");let r=!1;switch(D._){case"messageMediaPending":{let s=D,a=s.preloader;switch(s.type){case"album":this.log("will wrap pending album"),o.classList.add("hide-name","photo","is-album"),v.wrapAlbum({groupID:""+e.id,attachmentDiv:t,uploading:!0,isOut:!0});break;case"photo":this.log("will wrap pending photo:",s,e,u.default.getPhoto(e.id)),v.wrapPhoto(e.id,e,t,void 0,void 0,!0,!0,this.lazyLoadQueue,null),o.classList.add("hide-name","photo");break;case"video":{let r=F.default.getDoc(e.id);this.log("will wrap pending video:",s,e,r),v.wrapVideo({doc:r,container:t,message:e,boxWidth:380,boxHeight:380,withTail:"round"!=r.type,isOut:c,lazyLoadQueue:this.lazyLoadQueue,middleware:null}),a.attach(t,!1),o.classList.add("hide-name","video");break}case"audio":case"document":{let e=v.wrapDocument(s,!1,!0),t=e.querySelector(".document-ico");a.attach(t,!1),o.classList.remove("is-message-empty"),p.classList.add((s.type||"document")+"-message"),p.append(e),r=!0;break}}break}case"messageMediaPhoto":{let s=D.photo;o.classList.add("hide-name","photo"),e.grouped_id?(o.classList.add("is-album"),v.wrapAlbum({groupID:e.grouped_id,attachmentDiv:t,middleware:()=>this.peerID==d,isOut:c,lazyLoadQueue:this.lazyLoadQueue})):v.wrapPhoto(s.id,e,t,void 0,void 0,!0,c,this.lazyLoadQueue,()=>this.peerID==d);break}case"messageMediaWebPage":{r=!0;let t=D.webpage;if("webPageEmpty"==t._)break;o.classList.add("webpage");let s=document.createElement("div");s.classList.add("box","web");let a=document.createElement("div");a.classList.add("quote");let n=document.createElement("a");n.classList.add("name");let l=document.createElement("div");l.classList.add("title");let c=document.createElement("div");c.classList.add("text");let u=null;(t.photo||t.document)&&(u=document.createElement("div"),u.classList.add("preview"));let p=null;t.document&&(p=t.document,"gif"==p.type||"video"==p.type?(o.classList.add("video"),v.wrapVideo({doc:p,container:u,message:e,boxWidth:380,boxHeight:300,lazyLoadQueue:this.lazyLoadQueue,middleware:()=>this.peerID==d})):p=null),t.photo&&!p&&(o.classList.add("photo"),v.wrapPhoto(t.photo.id,e,u,380,300,!1,null,this.lazyLoadQueue,()=>this.peerID==d)),u&&a.append(u),n.setAttribute("target","_blank"),n.href=t.url||"#",n.innerHTML=t.site_name?h.RichTextProcessor.wrapEmojiText(t.site_name):"",t.description&&(c.innerHTML=h.RichTextProcessor.wrapRichText(t.description)),t.title&&(l.innerHTML=h.RichTextProcessor.wrapRichText(t.title)),a.append(n,l,c),s.append(a),i.prepend(_,s);break}case"messageMediaDocument":{let a=D.document;if(a.sticker){o.classList.add("sticker"),a.animated&&o.classList.add("sticker-animated"),u.default.setAttachmentSize(a,t,void 0,void 0,!0),i.style.height=t.style.height,i.style.width=t.style.width,v.wrapSticker(a,t,()=>this.peerID==d||(this.log.warn("peer changed, canceling sticker attach"),!1),this.lazyLoadQueue,"chat",!1,!!e.pending||!s);break}if("video"==a.type||"gif"==a.type||"round"==a.type){"round"==a.type&&o.classList.add("round"),o.classList.add("hide-name","video"),e.grouped_id?(o.classList.add("is-album"),v.wrapAlbum({groupID:e.grouped_id,attachmentDiv:t,middleware:()=>this.peerID==d,isOut:c,lazyLoadQueue:this.lazyLoadQueue})):v.wrapVideo({doc:a,container:t,message:e,boxWidth:380,boxHeight:380,withTail:"round"!=a.type,isOut:c,lazyLoadQueue:this.lazyLoadQueue,middleware:()=>this.peerID==d});break}if("audio/ogg"==a.mime_type){let e=v.wrapDocument(a);o.classList.remove("is-message-empty"),o.classList.add("bubble-audio"),p.append(e),r=!0;break}{let e=v.wrapDocument(a);o.classList.remove("is-message-empty"),p.append(e),p.classList.add((a.type||"document")+"-message"),r=!0;break}}case"messageMediaContact":{let t=document.createElement("div");t.classList.add("contact"),t.dataset.peerID=""+D.user_id,p.classList.add("contact-message"),r=!0;let s=[];e.media.first_name&&s.push(h.RichTextProcessor.wrapEmojiText(e.media.first_name)),e.media.last_name&&s.push(h.RichTextProcessor.wrapEmojiText(e.media.last_name)),t.innerHTML=`\n            <div class="contact-details">\n              <div class="contact-name">${s.join(" ")}</div>\n              <div class="contact-number">${e.media.phone_number?"+"+w.formatPhoneNumber(e.media.phone_number).formatted:"Unknown phone number"}</div>\n            </div>`;let a=new A.default;a.setAttribute("peer",""+e.media.user_id),a.classList.add("contact-avatar"),t.prepend(a),o.classList.remove("is-message-empty"),p.append(t);break}case"messageMediaPoll":{o.classList.remove("is-message-empty");let t=v.wrapPoll(e.media.poll.id,e.mid);p.prepend(t);break}default:o.classList.remove("is-message-empty"),p.innerHTML="unrecognized media type: "+e.media._,p.append(_),this.log.warn("unrecognized media type:",e.media._,e)}r||i.append(t)}if(this.peerID<0&&!c||e.fwd_from||e.reply_to_mid){let t=l.default.getPeerTitle(e.fwdFromID||e.fromID);if(e.fwd_from&&!e.fwd_from.from_id&&!e.fwd_from.channel_id&&(t=e.fwd_from.from_name,o.classList.add("hidden-profile")),e.fwdFromID||e.fwd_from){if(o.classList.add("forwarded"),e.savedFrom){let t=document.createElement("div");t.classList.add("forward"),t.innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24">\n          <defs><path d="M13.55 3.24L13.64 3.25L13.73 3.27L13.81 3.29L13.9 3.32L13.98 3.35L14.06 3.39L14.14 3.43L14.22 3.48L14.29 3.53L14.36 3.59L14.43 3.64L22.23 10.85L22.36 10.99L22.48 11.15L22.57 11.31L22.64 11.48L22.69 11.66L22.72 11.85L22.73 12.04L22.71 12.22L22.67 12.41L22.61 12.59L22.53 12.76L22.42 12.93L22.29 13.09L22.23 13.15L14.43 20.36L14.28 20.48L14.12 20.58L13.95 20.66L13.77 20.72L13.58 20.76L13.4 20.77L13.22 20.76L13.03 20.73L12.85 20.68L12.68 20.61L12.52 20.52L12.36 20.4L12.22 20.27L12.16 20.2L12.1 20.13L12.05 20.05L12.01 19.98L11.96 19.9L11.93 19.82L11.89 19.73L11.87 19.65L11.84 19.56L11.83 19.47L11.81 19.39L11.81 19.3L11.8 19.2L11.8 16.42L11 16.49L10.23 16.58L9.51 16.71L8.82 16.88L8.18 17.09L7.57 17.33L7.01 17.6L6.48 17.91L5.99 18.26L5.55 18.64L5.14 19.05L4.77 19.51L4.43 19.99L4.29 20.23L4.21 20.35L4.11 20.47L4 20.57L3.88 20.65L3.75 20.72L3.62 20.78L3.48 20.82L3.33 20.84L3.19 20.84L3.04 20.83L2.9 20.79L2.75 20.74L2.62 20.68L2.53 20.62L2.45 20.56L2.38 20.5L2.31 20.43L2.25 20.36L2.2 20.28L2.15 20.19L2.11 20.11L2.07 20.02L2.04 19.92L2.02 19.83L2.01 19.73L2 19.63L2.04 17.99L2.19 16.46L2.46 15.05L2.85 13.75L3.35 12.58L3.97 11.53L4.7 10.6L5.55 9.8L6.51 9.12L7.59 8.56L8.77 8.13L10.07 7.83L11.48 7.65L11.8 7.63L11.8 4.8L11.91 4.56L12.02 4.35L12.14 4.16L12.25 3.98L12.37 3.82L12.48 3.68L12.61 3.56L12.73 3.46L12.85 3.38L12.98 3.31L13.11 3.27L13.24 3.24L13.37 3.23L13.46 3.23L13.55 3.24Z" id="b13RmHDQtl"></path></defs><use xlink:href="#b13RmHDQtl" opacity="1" fill="#fff" fill-opacity="1"></use></svg>',i.append(t),o.dataset.savedFrom=e.savedFrom}if(!o.classList.contains("sticker")){let s=document.createElement("div");s.classList.add("name"),s.innerHTML="Forwarded from "+t,s.dataset.peerID=e.fwdFromID,i.append(s)}}else{if(e.reply_to_mid){let t=n.default.getMessage(e.reply_to_mid),s=l.default.getPeerTitle(t.fromID,!0)||"";"messageEmpty"==t._&&(n.default.wrapSingleMessage(e.reply_to_mid),this.needUpdate.push({replyMid:e.reply_to_mid,mid:e.mid}),s="Loading..."),t.mid?o.setAttribute("data-original-mid",t.mid):o.setAttribute("data-original-mid",e.reply_to_mid),i.append(v.wrapReply(s,t.message||"",t)),o.classList.add("is-reply")}if(!o.classList.contains("sticker")&&d<0&&d!=e.fromID){let s=document.createElement("div");s.classList.add("name"),s.innerHTML=t,s.style.color=l.default.getPeerColorByID(e.fromID,!1),s.dataset.peerID=e.fromID,i.append(s)}else o.classList.add("hide-name")}if(!c&&this.peerID<0&&(!l.default.isChannel(this.peerID)||l.default.isMegagroup(this.peerID))){let t=new A.default;t.classList.add("user-avatar"),t.setAttribute("peer",""+(e.fromID||0)),i.append(t)}}else o.classList.add("hide-name");if(o.classList.add(c?"is-out":"is-in"),r){this.bubbleGroups.addBubble(o,e,t);let s=this.getDateContainerByMessage(e,t);t?s.container.insertBefore(o,s.div.nextSibling):s.container.append(o)}else this.bubbleGroups.updateGroupByMessageID(e.mid);return o}performHistoryResult(e,t,s,o,r=!1){e.length||(s?this.scrolledAllDown=!0:this.scrolledAll=!0),o&&e.unshift(o),console.time("appImManager render history");let a=!!this.setPeerPromise&&!1,i=this.peerID;return new Promise((s,o)=>{let l=!1,d=this.scrollable.scrollTop,c=d>0?0:Object.keys(this.bubbles).length>0?1:this.scrollable.container.clientHeight,h=this.scrollable.scrollHeight-d;this.log("start performHistoryResult, scrollTop:",d,c);let u=(t?e.shift:e.pop).bind(e),p=!!this.scrollable.scrollTop,g=()=>{if(this.peerID!=i)return o("peer changed");let e=u();if(!e)return r&&(t?this.getHistoryTopPromise=void 0:this.getHistoryBottomPromise=void 0),void(l||s(!0));let d=n.default.getMessage(e);this.renderMessage(d,t,!0)&&t&&(p||(p=!0,s(),l=!0)),a?window.requestAnimationFrame(g):g()};a?window.requestAnimationFrame(g):g(),t&&(this.scrollable.scrollTop=this.scrollable.scrollHeight-h)}).then(()=>(console.timeEnd("appImManager render history"),!0))}getHistory(e=0,t=!1,s=!1,o=0){let r=this.peerID,a=n.default.getDialogByPeerID(r)[0];!e&&a&&a.top_message&&(e=a.top_message);let i=this.bubblesContainer.clientHeight/38|0,l=Object.keys(this.bubbles).length>0?Math.max(40,i):i,d=l;let c=0;s&&(c=d,t||(d=0,e+=1));let h,u=n.default.getHistory(this.peerID,e,d,c);return u instanceof Promise?(h=u.then(a=>(this.log("getHistory result by maxID:",e,t,s,a),this.peerID!=r?(this.log.warn("peer changed"),Promise.reject()):this.performHistoryResult(a.history||[],t,s,o,!0)),e=>(this.log.error("getHistory error:",e),t?this.getHistoryTopPromise=void 0:this.getHistoryBottomPromise=void 0,!1)),t?this.getHistoryTopPromise=h:this.getHistoryBottomPromise=h):h=this.performHistoryResult(u.history||[],t,s,o,!0),h.then(()=>{let e;t?(this.loadedTopTimes++,this.loadedBottomTimes=Math.max(0,--this.loadedBottomTimes)):(this.loadedBottomTimes++,this.loadedTopTimes=Math.max(0,--this.loadedTopTimes)),(t&&this.loadedTopTimes>2||!t&&this.loadedBottomTimes>2)&&(e=Object.keys(this.bubbles).map(e=>+e).sort((e,t)=>e-t));let s=2*l;this.log("getHistory: slice loadedTimes:",t,i,this.loadedTopTimes,this.loadedBottomTimes,e&&e.length,s),e&&e.length>s&&(t?(e=e.slice(s),this.scrolledAllDown=!1):(e=e.slice(0,e.length-s),this.scrolledAll=!1,this.log("getHistory: slice bottom: to:",e.length,d)),this.log("getHistory: will slice ids:",e,t),this.deleteMessagesByIDs(e))}),h}deleteEmptyDateGroups(){for(let e in this.dateMessages){let t=this.dateMessages[e];1==t.container.childElementCount&&(t.container.remove(),this.datesIntersectionObserver.unobserve(t.container),delete this.dateMessages[e])}}setMutedState(e=!1){p.default.profileElements.notificationsCheckbox.checked=!e,p.default.profileElements.notificationsStatus.innerText=e?"Disabled":"Enabled";let t=this.peerID;if(this.muted=e,t<0){l.default.isChannel(t)&&!l.default.isMegagroup(t)?(this.btnMute.classList.remove("tgico-mute","tgico-unmute"),this.btnMute.classList.add(e?"tgico-unmute":"tgico-mute"),this.btnMute.style.display=""):this.btnMute.style.display="none"}else this.btnMute.style.display="none";this.btnMenuMute.classList.remove("tgico-mute","tgico-unmute"),this.btnMenuMute.classList.add(e?"tgico-unmute":"tgico-mute");let s=this.btnMenuMute.firstElementChild;this.btnMenuMute.innerText=e?"Unmute":"Mute",this.btnMenuMute.appendChild(s)}mutePeer(e){let t={_:"inputNotifyPeer",peer:l.default.getInputPeerByID(e)},s={_:"inputPeerNotifySettings",flags:0,mute_until:0},o=n.default.getDialogByPeerID(e)[0],a=!0;o&&o.notify_settings&&(a=o.notify_settings.mute_until>(Date.now()/1e3|0)),a?s.flags|=2:(s.flags|=4,s.mute_until=2147483647),r.default.invokeApi("account.updateNotifySettings",{peer:t,settings:s}).then(e=>{this.handleUpdate({_:"updateNotifySettings",peer:t,notify_settings:s})})}handleUpdate(e){switch(e._){case"updateUserTyping":case"updateChatUserTyping":{if(this.myID==e.user_id)return;var t="updateUserTyping"==e._?e.user_id:-e.chat_id;this.typingUsers[e.user_id]=t,i.default.hasUser(e.user_id)||e.chat_id&&f.default.hasChat(e.chat_id)&&!f.default.isChannel(e.chat_id)&&d.default.getChatFull(e.chat_id),i.default.forceUserOnline(e.user_id);let s=n.default.getDialogByPeerID(t)[0],o=this.peerID==t;this.typingTimeouts[t]?clearTimeout(this.typingTimeouts[t]):s&&(c.default.setTyping(s,i.default.getUser(e.user_id)),o&&this.setPeerStatus()),this.typingTimeouts[t]=setTimeout(()=>{this.typingTimeouts[t]=0,delete this.typingUsers[e.user_id],s&&c.default.unsetTyping(s),this.setPeerStatus()},6e3);break}case"updateNotifySettings":{let{peer:t,notify_settings:s}=e;t=t.peer;let o=l.default.getPeerID(t),r=n.default.getDialogByPeerID(o)[0];if(r&&(r.notify_settings=s),o==this.peerID){let e=!!s.mute_until&&new Date(1e3*s.mute_until)>new Date;this.setMutedState(e)}break}case"updateChatPinnedMessage":case"updateUserPinnedMessage":{let{id:t}=e;this.pinnedMsgID=t,(e.user_id||-e.chat_id||-e.channel_id)==this.peerID&&n.default.wrapSingleMessage(t);break}}}}t.AppImManager=T;const X=new T;window.appImManager=X,t.default=X},function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function n(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,n)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(10),i=r(s(72)),n=r(s(27)),l=r(s(1)),d=s(13);class c{constructor(){this.cachedSavePromises={},this.cachedDownloadPromises={},this.cachedDownloads={},this.downloadPulls={},this.downloadActives={},this.index=0,this.log=d.logger("AFM")}downloadRequest(e,t,s){void 0===this.downloadPulls[e]&&(this.downloadPulls[e]=[],this.downloadActives[e]=0);var o=this.downloadPulls[e];let r=new Promise((e,r)=>{o.push({cb:t,deferred:{resolve:e,reject:r},activeDelta:s})}).catch(()=>{});return setTimeout(()=>{this.downloadCheck(e)},0),r}downloadCheck(e){var t=this.downloadPulls[e],s="upload"==e?11:5;if(this.downloadActives[e]>=s||!t||!t.length)return!1;var o=t.shift(),r=o.activeDelta||1;this.downloadActives[e]+=r,this.index++,o.cb().then(t=>{this.downloadActives[e]-=r,this.downloadCheck(e),o.deferred.resolve(t)},t=>{t&&this.log.error("downloadCheck error:",t),this.downloadActives[e]-=r,this.downloadCheck(e),o.deferred.reject(t)})}getFileName(e){switch(e._){case"inputDocumentFileLocation":var t=(e.file_name||"").split("."),s=t[t.length-1]||"",o=e.version?"v"+e.version:"";return(t[0]?t[0]+"_":"")+e.id+o+(s?"."+s:s);default:return e.volume_id||e.file_reference||this.log.trace("Empty location",e),e.volume_id?e.volume_id+"_"+e.local_id+"."+s:e.id+"_"+e.access_hash+"."+s}}getTempFileName(e){var t=e.size||-1;return"_temp"+a.nextRandomInt(4294967295)+"_"+t}getCachedFile(e){if(!e)return!1;var t=this.getFileName(e);return this.cachedDownloads[t]||!1}getFileStorage(){return i.default}saveSmallFile(e,t){var s=this.getFileName(e);return this.cachedSavePromises[s]||(this.cachedSavePromises[s]=this.getFileStorage().saveFile(s,t).then(e=>this.cachedDownloads[s]=e,e=>{delete this.cachedSavePromises[s]})),this.cachedSavePromises[s]}downloadSmallFile(e,t={}){if(!n.default.isAvailable())return Promise.reject({type:"BROWSER_BLOB_NOT_SUPPORTED"});let s=t.dcID||e.dc_id,o=t.mimeType||"image/jpeg";var r=this.getFileName(e),a=this.cachedSavePromises[r]||this.cachedDownloadPromises[r];if(a)return a;var i=this.getFileStorage();return this.cachedDownloadPromises[r]=i.getFile(r).then(e=>this.cachedDownloads[r]=e,()=>{var t=this.downloadRequest(s,()=>{var t=e;t._&&"fileLocation"!=t._||(t=Object.assign({},e,{_:"inputFileLocation"}));let o={flags:0,location:t,offset:0,limit:1048576};return l.default.invokeApi("upload.getFile",o,{dcID:s,fileDownload:!0,noErrorBox:!0})},s);return i.getFileWriter(r,o).then(e=>t.then(t=>{return(s=t.bytes,Promise.resolve(s)).then(t=>n.default.write(e,t).then(()=>this.cachedDownloads[r]=e.finalize()));var s}))})}getDownloadedFile(e,t){var s=this.getFileStorage(),o="string"!=typeof e?this.getFileName(e):e;return s.getFile(o,t)}downloadFile(e,t,s,r={}){if(!n.default.isAvailable())return Promise.reject({type:"BROWSER_BLOB_NOT_SUPPORTED"});var a=this.getFileName(t),i=r.toFileEntry||null,c=this.cachedSavePromises[a]||this.cachedDownloadPromises[a],h=this.getFileStorage();if(c)return i?c.then(e=>n.default.copy(e,i)):s?c.then(o=>o.size<s?(this.log("downloadFile need to deleteFile, wrong size:",o.size,s),this.deleteFile(t).then(()=>this.downloadFile(e,t,s,r)).catch(()=>this.downloadFile(e,t,s,r))):o):c;let u=d.deferredPromise();var p,g=!1,m=!1,_=r.mimeType||"image/jpeg",y=e=>{u.reject(e),y=()=>{},!p||e&&"DOWNLOAD_CANCELED"==e.type||p.truncate(0)};return h.getFile(a,s).then(e=>o(this,void 0,void 0,(function*(){if(e.size<s)throw this.log("downloadFile need to deleteFile 2, wrong size:",e.size,s),yield this.deleteFile(t),!1;i?n.default.copy(e,i).then(()=>{u.resolve()},y):u.resolve(this.cachedDownloads[a]=e)}))).catch(()=>{var o=i?Promise.resolve(i):h.getFileWriter(a,_);o.then(o=>{p=o;var d,c,h=r.limitPart||524288,_=0,f=Promise.resolve();if(o.length){if((_=o.length)>=s)return void(i?u.resolve():u.resolve(this.cachedDownloads[a]=o.finalize()));o.seek(_),u.notify({done:_,total:s})}for(d=_;d<s;d+=h){let r={};c=new Promise((e,t)=>{r.resolve=e,r.reject=t}),Object.assign(c,r),((r,d,c,p)=>{this.downloadRequest(e,()=>g?Promise.resolve():l.default.invokeApi("upload.getFile",{flags:0,location:t,offset:d,limit:h},{dcID:e,fileDownload:!0,singleInRequest:"safari"in window}),e).then(e=>{p.then(()=>{return g?Promise.resolve():(t=e.bytes,Promise.resolve(t)).then(e=>n.default.write(o,e).then(()=>{c.resolve()},y).then(()=>{r?(m=!0,i?u.resolve():u.resolve(this.cachedDownloads[a]=o.finalize())):u.notify({done:d+h,total:s})}));var t})})})(d+h>=s,d,c,f),f=c}})}),u.cancel=()=>{g||m||(g=!0,delete this.cachedDownloadPromises[a],y({type:"DOWNLOAD_CANCELED"}),i&&i.abort())},i||(this.cachedDownloadPromises[a]=u),u}deleteFile(e){return e="string"==typeof e?e:this.getFileName(e),this.log("will delete file:",e),delete this.cachedDownloadPromises[e],delete this.cachedDownloads[e],delete this.cachedSavePromises[e],this.getFileStorage().deleteFile(e)}uploadFile(e){var t=e.size,s=t>=10485760,o=!1,r=!1,i=0,n=262144,d=2;t>67108864?(n=524288,d=4):t<102400&&(n=32768,d=1);var c=Math.ceil(t/n),h=[a.nextRandomInt(4294967295),a.nextRandomInt(4294967295)],u=0,p={_:s?"inputFileBig":"inputFile",id:h,parts:c,name:e instanceof File?e.name:"",md5_checksum:""};let g={notify:e=>{}},m=new Promise((e,t)=>{if(c>3e3)return t({type:"FILE_TOO_BIG"});g.resolve=e,g.reject=t});if(Object.assign(m,g),c>3e3)return m;let _=e=>{this.log.error("Up Error",e),m.reject(e),o=!0,_=()=>{}},y=s?"upload.saveBigFilePart":"upload.saveFilePart";for(let s=0;s<t;s+=n){let a=u++;this.downloadRequest("upload",()=>new Promise((d,u)=>{var g=new FileReader,f=e.slice(s,s+n);g.onloadend=e=>{o?u():e.target.readyState==FileReader.DONE?l.default.invokeApi(y,{file_id:h,file_part:a,file_total_parts:c,bytes:e.target.result},{startMaxLength:n+256,fileUpload:!0,singleInRequest:!0}).then(e=>{i++,d(),i>=c?(m.resolve(p),r=!0):m.notify({done:i*n,total:t})},_):this.log.error("wrong readyState!")},g.readAsArrayBuffer(f)}),d)}return m.cancel=()=>{this.log("cancel upload",o,r),o||r||(o=!0,_({type:"UPLOAD_CANCELED"}))},m}}t.ApiFileManager=c,t.default=new c},function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function n(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,n)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(s(68));t.default=class{constructor(e,t,s,o){this.isAuthPage=t,this.onFirstMount=s,this.onMount=o,this.installed=!1,this.pageEl=document.body.getElementsByClassName(e)[0]}mount(...e){return o(this,void 0,void 0,(function*(){if(this.onMount&&this.onMount(...e),!this.installed){if(this.onFirstMount){let t=this.onFirstMount(...e);t instanceof Promise&&(yield t)}this.installed=!0}a.default.setPage(this)}))}}},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(1)),a=s(0),i=o(s(7)),n=o(s(4)),l=o(s(5));class d{constructor(){this.updatesState={pendingPtsUpdates:[],pendingSeqUpdates:{},syncPending:!1,syncLoading:!0},this.channelStates={},this.myID=0,this.attached=!1,r.default.getUserID().then(e=>{this.myID=e})}popPendingSeqUpdate(){var e=this.updatesState.seq+1,t=this.updatesState.pendingSeqUpdates[e];if(!t)return!1;for(var s=t.updates,o=0,r=s.length;o<r;o++)this.saveUpdate(s[o]);return this.updatesState.seq=t.seq,t.date&&this.updatesState.date<t.date&&(this.updatesState.date=t.date),delete this.updatesState.pendingSeqUpdates[e],!this.popPendingSeqUpdate()&&this.updatesState.syncPending&&this.updatesState.syncPending.seqAwaiting&&this.updatesState.seq>=this.updatesState.syncPending.seqAwaiting&&(this.updatesState.syncPending.ptsAwaiting?delete this.updatesState.syncPending.seqAwaiting:(clearTimeout(this.updatesState.syncPending.timeout),this.updatesState.syncPending=!1)),!0}popPendingPtsUpdate(e){var t=e?this.getChannelState(e):this.updatesState;if(!t.pendingPtsUpdates.length)return!1;t.pendingPtsUpdates.sort((e,t)=>e.pts-t.pts);for(var s,o=t.pts,r=!1,i=0,n=0,l=t.pendingPtsUpdates.length;n<l;n++)(o+=(s=t.pendingPtsUpdates[n]).pts_count)>=s.pts&&(r=s.pts,i=n);if(!r)return!1;for(console.log(a.dT(),"pop pending pts updates",r,t.pendingPtsUpdates.slice(0,i+1)),t.pts=r,n=0;n<=i;n++)s=t.pendingPtsUpdates[n],this.saveUpdate(s);return t.pendingPtsUpdates.splice(0,i+1),!t.pendingPtsUpdates.length&&t.syncPending&&(t.syncPending.seqAwaiting?delete t.syncPending.ptsAwaiting:(clearTimeout(t.syncPending.timeout),t.syncPending=!1)),!0}forceGetDifference(){this.updatesState.syncLoading||this.getDifference()}processUpdateMessage(e){var t={date:e.date,seq:e.seq,seqStart:e.seq_start};switch(e._){case"updatesTooLong":case"new_session_created":this.forceGetDifference();break;case"updateShort":this.processUpdate(e.update,t);break;case"updateShortMessage":case"updateShortChatMessage":var s=2&e.flags,o=e.from_id||(s?this.myID:e.user_id),r=e.chat_id?-e.chat_id:s?e.user_id:this.myID;this.processUpdate({_:"updateNewMessage",message:{_:"message",flags:e.flags,pFlags:e.pFlags,id:e.id,from_id:o,to_id:i.default.getOutputPeer(r),date:e.date,message:e.message,fwd_from:e.fwd_from,reply_to_msg_id:e.reply_to_msg_id,entities:e.entities},pts:e.pts,pts_count:e.pts_count},t);break;case"updatesCombined":case"updates":n.default.saveApiUsers(e.users),l.default.saveApiChats(e.chats),e.updates.forEach(e=>{this.processUpdate(e,t)});break;default:console.warn(a.dT(),"Unknown update message",e)}}getDifference(){let e=this.updatesState;e.syncLoading||(e.syncLoading=!0,e.pendingSeqUpdates={},e.pendingPtsUpdates=[]),e.syncPending&&(clearTimeout(e.syncPending.timeout),e.syncPending=!1),r.default.invokeApi("updates.getDifference",{pts:e.pts,date:e.date,qts:-1},{timeout:2147483647}).then(t=>{if("updates.differenceEmpty"==t._)return console.log(a.dT(),"apply empty diff",t.seq),e.date=t.date,e.seq=t.seq,e.syncLoading=!1,a.$rootScope.$broadcast("stateSynchronized"),!1;n.default.saveApiUsers(t.users),l.default.saveApiChats(t.chats),t.other_updates.forEach(e=>{switch(e._){case"updateChannelTooLong":case"updateNewChannelMessage":case"updateEditChannelMessage":return void this.processUpdate(e)}this.saveUpdate(e)}),t.new_messages.forEach(t=>{this.saveUpdate({_:"updateNewMessage",message:t,pts:e.pts,pts_count:0})});var s=t.intermediate_state||t.state;e.seq=s.seq,e.pts=s.pts,e.date=s.date,"updates.differenceSlice"==t._?this.getDifference():(a.$rootScope.$broadcast("stateSynchronized"),e.syncLoading=!1)},()=>{e.syncLoading=!1})}getChannelDifference(e){var t=this.getChannelState(e);t.syncLoading||(t.syncLoading=!0,t.pendingPtsUpdates=[]),t.syncPending&&(clearTimeout(t.syncPending.timeout),t.syncPending=!1),r.default.invokeApi("updates.getChannelDifference",{channel:l.default.getChannelInput(e),filter:{_:"channelMessagesFilterEmpty"},pts:t.pts,limit:30},{timeout:2147483647}).then(s=>(t.pts=s.pts,"updates.channelDifferenceEmpty"==s._?(console.log(a.dT(),"apply channel empty diff",s),t.syncLoading=!1,a.$rootScope.$broadcast("stateSynchronized"),!1):"updates.channelDifferenceTooLong"==s._?(console.log(a.dT(),"channel diff too long",s),t.syncLoading=!1,delete this.channelStates[e],this.saveUpdate({_:"updateChannelReload",channel_id:e}),!1):(n.default.saveApiUsers(s.users),l.default.saveApiChats(s.chats),console.log(a.dT(),"applying",s.other_updates.length,"channel other updates"),s.other_updates.forEach(e=>{this.saveUpdate(e)}),console.log(a.dT(),"applying",s.new_messages.length,"channel new messages"),s.new_messages.forEach(e=>{this.saveUpdate({_:"updateNewChannelMessage",message:e,pts:t.pts,pts_count:0})}),console.log(a.dT(),"apply channel diff",t.pts),void("updates.channelDifference"!=s._||s.pFlags.final?(console.log(a.dT(),"finished channel get diff"),a.$rootScope.$broadcast("stateSynchronized"),t.syncLoading=!1):this.getChannelDifference(e)))),()=>{t.syncLoading=!1})}addChannelState(e,t){if(!t)throw new Error("Add channel state without pts "+e);return!(e in this.channelStates)&&(this.channelStates[e]={pts:t,pendingPtsUpdates:[],syncPending:!1,syncLoading:!1},!0)}getChannelState(e,t){return void 0===this.channelStates[e]&&this.addChannelState(e,t),this.channelStates[e]}processUpdate(e,t={}){var s=!1;switch(e._){case"updateNewChannelMessage":case"updateEditChannelMessage":s=-i.default.getPeerID(e.message.to_id);break;case"updateDeleteChannelMessages":s=e.channel_id;break;case"updateChannelTooLong":if(!((s=e.channel_id)in this.channelStates))return!1}var o,r,d=s?this.getChannelState(s,e.pts):this.updatesState;if(d.syncLoading)return!1;if("updateChannelTooLong"==e._)return(!d.lastPtsUpdateTime||d.lastPtsUpdateTime<a.tsNow()-1e4)&&this.getChannelDifference(s),!1;if("updateNewMessage"==e._||"updateEditMessage"==e._||"updateNewChannelMessage"==e._||"updateEditChannelMessage"==e._){var c=e.message,h=i.default.getPeerID(c.to_id),u=c.fwd_from||{},p=!1;if(c.from_id&&!n.default.hasUser(c.from_id,c.pFlags.post)&&(p="author")||u.from_id&&!n.default.hasUser(u.from_id,!!u.channel_id)&&(p="fwdAuthor")||u.channel_id&&!l.default.hasChat(u.channel_id,!0)&&(p="fwdChannel")||h>0&&!n.default.hasUser(h)&&(p="toPeer User")||h<0&&!l.default.hasChat(-h)&&(p="toPeer Chat"))return console.warn(a.dT(),"Not enough data for message update",h,p,c),s&&l.default.hasChat(s)?this.getChannelDifference(s):this.forceGetDifference(),!1}else if(s&&!l.default.hasChat(s))return!1;if(e.pts){if(d.pts+(e.pts_count||0)<e.pts)return console.warn(a.dT(),"Pts hole",d,e,s&&l.default.getChat(s)),d.pendingPtsUpdates.push(e),d.syncPending||(d.syncPending={timeout:setTimeout(()=>{s?this.getChannelDifference(s):this.getDifference()},5e3)}),d.syncPending.ptsAwaiting=!0,!1;if(e.pts>d.pts)d.pts=e.pts,o=!0,d.lastPtsUpdateTime=a.tsNow();else if(e.pts_count)return!1;s&&t.date&&this.updatesState.date<t.date&&(this.updatesState.date=t.date)}else if(!s&&t.seq>0){var g=t.seq,m=t.seqStart||g;if(m!=d.seq+1&&m>d.seq)return console.warn(a.dT(),"Seq hole",d,d.syncPending&&d.syncPending.seqAwaiting),void 0===d.pendingSeqUpdates[m]&&(d.pendingSeqUpdates[m]={seq:g,date:t.date,updates:[]}),d.pendingSeqUpdates[m].updates.push(e),d.syncPending||(d.syncPending={timeout:setTimeout(()=>{this.getDifference()},5e3)}),(!d.syncPending.seqAwaiting||d.syncPending.seqAwaiting<m)&&(d.syncPending.seqAwaiting=m),!1;d.seq!=g&&(d.seq=g,t.date&&d.date<t.date&&(d.date=t.date),r=!0)}this.saveUpdate(e),o?this.popPendingPtsUpdate(s):r&&this.popPendingSeqUpdate()}saveUpdate(e){a.$rootScope.$broadcast("apiUpdate",e)}attach(){this.attached||(this.attached=!0,r.default.setUpdatesProcessor(this.processUpdateMessage.bind(this)),r.default.invokeApi("updates.getState",{},{noErrorBox:!0}).then(e=>{this.updatesState.seq=e.seq,this.updatesState.pts=e.pts,this.updatesState.date=e.date,setTimeout(()=>{this.updatesState.syncLoading=!1},1e3)}))}}t.ApiUpdatesManager=d,t.default=new d},function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function n(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,n)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(0),i=r(s(23)),n=r(s(5)),l=r(s(8)),d=r(s(4)),c=s(3),h=r(s(7)),u=r(s(18)),p=r(s(12)),g=r(s(1)),m=r(s(16)),_=s(2);class y{constructor(){this.botInfos={},this.usersFull={},this.chatsFull={},this.chatFullPromises={},this.chatParticipantsPromises={},this.savedAvatarURLs={},a.$rootScope.$on("apiUpdate",e=>{let t=e.detail;switch(t._){case"updateChatParticipants":var s=t.participants;void 0!==(n=this.chatsFull[s.id])&&(n.participants=t.participants,a.$rootScope.$broadcast("chat_full_update",t.chat_id));break;case"updateChatParticipantAdd":if(void 0!==(n=this.chatsFull[t.chat_id])){for(var o=0,r=(s=n.participants.participants||[]).length;o<r;o++)if(s[o].user_id==t.user_id)return;s.push({_:"chatParticipant",user_id:t.user_id,inviter_id:t.inviter_id,date:a.tsNow(!0)}),n.participants.version=t.version,a.$rootScope.$broadcast("chat_full_update",t.chat_id)}break;case"updateChatParticipantDelete":var n;if(void 0!==(n=this.chatsFull[t.chat_id]))for(o=0,r=(s=n.participants.participants||[]).length;o<r;o++)if(s[o].user_id==t.user_id)return s.splice(o,1),n.participants.version=t.version,void a.$rootScope.$broadcast("chat_full_update",t.chat_id);break;case"updateChannelPinnedMessage":var l=t.channel_id,d=this.chatsFull[l];void 0!==d&&(d.pinned_msg_id=i.default.getFullMessageID(t.id,l),a.$rootScope.$broadcast("peer_pinned_message",-l))}}),a.$rootScope.$on("chat_update",e=>{let t=e.detail;var s=this.chatsFull[t],o=n.default.getChat(t);if(o.photo&&s){var r="chatPhotoEmpty"==o.photo._;if(s.chat_photo&&r!=("photoEmpty"==s.chat_photo._))return delete this.chatsFull[t],void a.$rootScope.$broadcast("chat_full_update",t);if(!r){var i=o.photo.photo_small,d=l.default.choosePhotoSize(s.chat_photo,0,0);JSON.stringify(i)!==JSON.stringify(d.location)&&(delete this.chatsFull[t],a.$rootScope.$broadcast("chat_full_update",t))}}})}saveBotInfo(e){var t=e&&e.user_id;if(!t)return!1;var s={};return e.commands.forEach(e=>{s[e.command]=e.description}),this.botInfos[t]={id:t,version:e.version,shareText:e.share_text,description:e.description,commands:s}}getProfile(e,t){return this.usersFull[e]?Promise.resolve(this.usersFull[e]):g.default.invokeApi("users.getFullUser",{id:d.default.getUserInput(e)}).then(s=>(t&&t.phone_number?(s.user.phone=t.phone_number,(t.first_name||t.last_name)&&(s.user.first_name=t.first_name,s.user.last_name=t.last_name),d.default.saveApiUser(s.user)):d.default.saveApiUser(s.user,!0),s.profile_photo&&(s.profile_photo=l.default.savePhoto(s.profile_photo,{user_id:e})),void 0!==s.about&&(s.rAbout=c.RichTextProcessor.wrapRichText(s.about,{noLinebreaks:!0})),s.bot_info&&(s.bot_info=this.saveBotInfo(s.bot_info)),this.usersFull[e]=s))}getPeerBots(e){var t=[];return e>=0&&!d.default.isBot(e)||h.default.isChannel(e)&&!h.default.isMegagroup(e)?Promise.resolve(t):e>=0?this.getProfile(e).then(e=>{var s=e.bot_info;return s&&"botInfoEmpty"!=s._&&t.push(s),t}):this.getChatFull(-e).then(e=>(e.bot_info.forEach(e=>{t.push(this.saveBotInfo(e))}),t))}getChatFull(e){if(n.default.isChannel(e))return this.getChannelFull(e);if(void 0!==this.chatsFull[e]){var t=n.default.getChat(e);if(t.version==this.chatsFull[e].participants.version||t.pFlags.left)return Promise.resolve(this.chatsFull[e])}return void 0!==this.chatFullPromises[e]?this.chatFullPromises[e]:this.chatFullPromises[e]=g.default.invokeApi("messages.getFullChat",{chat_id:e}).then(t=>{n.default.saveApiChats(t.chats),d.default.saveApiUsers(t.users);var s=t.full_chat;return s&&s.chat_photo&&s.chat_photo.id&&(s.chat_photo=l.default.savePhoto(s.chat_photo)),delete this.chatFullPromises[e],this.chatsFull[e]=s,a.$rootScope.$broadcast("chat_full_update",e),s})}getChatInviteLink(e,t){return this.getChatFull(e).then(s=>!t&&s.exported_invite&&"chatInviteExported"==s.exported_invite._?s.exported_invite.link:(n.default.isChannel(e)?g.default.invokeApi("channels.exportInvite",{channel:n.default.getChannelInput(e)}):g.default.invokeApi("messages.exportChatInvite",{chat_id:e})).then(t=>(void 0!==this.chatsFull[e]&&(this.chatsFull[e].exported_invite=t),t.link)))}getChannelParticipants(e,t,s,o){s=s||200,o=o||0;var r=[e,(t=t||{_:"channelParticipantsRecent"})._,o,s].join("_"),i=this.chatParticipantsPromises[r];if("channelParticipantsRecent"==t._){var l=n.default.getChat(e);if(l&&l.pFlags&&(l.pFlags.kicked||l.pFlags.broadcast&&!l.pFlags.creator&&!l.admin_rights))return Promise.reject()}var c=r=>{var a=0;if(r){var i=[];r.forEach(e=>{i.push(e.user_id)}),i.sort((e,t)=>e-t),i.forEach(e=>{a=(20261*a+2147483648+e)%2147483648})}return g.default.invokeApi("channels.getParticipants",{channel:n.default.getChannelInput(e),filter:t,offset:o,limit:s,hash:a}).then(e=>"channels.channelParticipantsNotModified"==e._?r:(d.default.saveApiUsers(e.users),e.participants))},h=s=>{var r=n.default.getChat(e);if("channelParticipantsRecent"==t._&&!o&&!r.pFlags.kicked&&!r.pFlags.left){s=a.copy(s);for(var i,l=d.default.getSelf().id,c=!1,h=0,u=s.length;h<u;h++)if(s[h].user_id==l){c=h;break}!1!==c?(i=s[h],s.splice(h,1)):i={_:"channelParticipantSelf",user_id:l},s.unshift(i)}return s},u=a.tsNow();if(void 0!==i){var p=i[1];if(i[0]>u-6e4)return p;let e=p.then(e=>c(e).then(h));return this.chatParticipantsPromises[r]=[u,e],e}var m=c().then(h);return this.chatParticipantsPromises[r]=[u,m],m}getChannelFull(e,t){return void 0===this.chatsFull[e]||t?void 0!==this.chatFullPromises[e]?this.chatFullPromises[e]:this.chatFullPromises[e]=g.default.invokeApi("channels.getFullChannel",{channel:n.default.getChannelInput(e)}).then(t=>{n.default.saveApiChats(t.chats),d.default.saveApiUsers(t.users);var s=t.full_chat;return s&&s.chat_photo.id&&(s.chat_photo=l.default.savePhoto(s.chat_photo)),s.pinned_msg_id&&(s.pinned_msg_id=i.default.getFullMessageID(s.pinned_msg_id,e)),delete this.chatFullPromises[e],this.chatsFull[e]=s,a.$rootScope.$broadcast("chat_full_update",e),s},t=>{switch(t.type){case"CHANNEL_PRIVATE":var s=n.default.getChat(e);s={_:"channelForbidden",access_hash:s.access_hash,title:s.title},u.default.processUpdateMessage({_:"updates",updates:[{_:"updateChannel",channel_id:e}],chats:[s],users:[]})}return Promise.reject(t)}):Promise.resolve(this.chatsFull[e])}invalidateChannelParticipants(e){delete this.chatsFull[e],delete this.chatFullPromises[e];for(let t in this.chatParticipantsPromises)+t.split("_")[0]==e&&delete this.chatParticipantsPromises[t];a.$rootScope.$broadcast("chat_full_update",e)}getChannelPinnedMessage(e){return this.getChannelFull(e).then(t=>{var s=t&&t.pinned_msg_id;return!!s&&p.default.get("pinned_hidden"+e).then(e=>i.default.getMessageLocalID(s)!=e&&s)})}hideChannelPinnedMessage(e,t){var s={};s["pinned_hidden"+e]=i.default.getMessageLocalID(t),p.default.set(s),a.$rootScope.$broadcast("peer_pinned_message",-e)}updateProfile(e,t,s){return g.default.invokeApi("account.updateProfile",{flags:7,first_name:e,last_name:t,about:s}).then(e=>{d.default.saveApiUser(e)})}uploadProfilePhoto(e){return g.default.invokeApi("photos.uploadProfilePhoto",{file:e}).then(e=>{d.default.saveApiUsers(e.users),g.default.getUserID().then(t=>{l.default.savePhoto(e.photo,{user_id:t}),u.default.processUpdateMessage({_:"updateShort",update:{_:"updateUserPhoto",user_id:t,date:a.tsNow(!0),photo:d.default.getUser(t).photo,previous:!0}})})})}updateUsername(e){return g.default.invokeApi("account.updateUsername",{username:e}).then(e=>{d.default.saveApiUser(e)})}putPhoto(e,t,s=!1){var r;return o(this,void 0,void 0,(function*(){let o,i;t&&(o=h.default.getInputPeerByID(t),i=h.default.getPeerPhoto(t));let n=a.$rootScope.myID;if(t==n&&s)return e.firstChild&&e.firstChild.remove(),e.style.backgroundColor="",e.classList.add("tgico-savedmessages"),e.classList.remove("tgico-avatar_deletedaccount"),!0;if(t>0){let s=d.default.getUser(t);if(s&&s.pFlags&&s.pFlags.deleted)return e.firstChild&&e.firstChild.remove(),e.style.backgroundColor="",e.classList.add("tgico-avatar_deletedaccount"),!0}e.firstChild&&e.firstChild.remove();let l="";t&&t!=n&&(l=h.default.getPeerColorByID(t)),e.classList.remove("tgico-savedmessages","tgico-avatar_deletedaccount"),e.style.backgroundColor=l;let c=null!==(r=h.default.getPeer(t).initials)&&void 0!==r?r:"";if(e.innerText=c.toUpperCase(),!i||i.empty||!i.photo_small)return!0;if(!this.savedAvatarURLs[t]){let e=yield m.default.downloadSmallFile({_:"inputPeerPhotoFileLocation",dc_id:i.dc_id,flags:0,peer:o,volume_id:i.photo_small.volume_id,local_id:i.photo_small.local_id});this.savedAvatarURLs[t]=URL.createObjectURL(e)}let u=new Image;return _.renderImageFromUrl(u,this.savedAvatarURLs[t])?(e.innerHTML="",e.append(u)):(u.classList.add("fade-in"),u.onload=()=>{e.innerHTML="",e.append(u)}),!0}))}}t.AppProfileManager=y,t.default=new y},function(e,t,s){"use strict";
/*!
 * Webogram v0.7.0 - messaging web application for MTProto
 * https://github.com/zhukov/webogram
 * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>
 * https://github.com/zhukov/webogram/blob/master/LICENSE
 */Object.defineProperty(t,"__esModule",{value:!0});{let e=64,t=56,s=t*(e+2),r=t*(e+2);var o={img_size:e,sheetUrl:"assets/img/sheet_apple_"+e,multiplyX:100/t,sheetSizeX:s,sheetSizeY:r,sizeX:s/e*100,sizeY:r/e*100,side:t,splitted:!1,keyCategory:"category",keyX:"sheet_x",keyY:"sheet_y",emoji:{"#️⃣":{category:"Symbols",sheet_x:0,sheet_y:0,sort_order:132},"*️⃣":{category:"Symbols",sheet_x:0,sheet_y:1,sort_order:133},"0️⃣":{category:"Symbols",sheet_x:0,sheet_y:2,sort_order:134},"1️⃣":{category:"Symbols",sheet_x:0,sheet_y:3,sort_order:135},"2️⃣":{category:"Symbols",sheet_x:0,sheet_y:4,sort_order:136},"3️⃣":{category:"Symbols",sheet_x:0,sheet_y:5,sort_order:137},"4️⃣":{category:"Symbols",sheet_x:0,sheet_y:6,sort_order:138},"5️⃣":{category:"Symbols",sheet_x:0,sheet_y:7,sort_order:139},"6️⃣":{category:"Symbols",sheet_x:0,sheet_y:8,sort_order:140},"7️⃣":{category:"Symbols",sheet_x:0,sheet_y:9,sort_order:141},"8️⃣":{category:"Symbols",sheet_x:0,sheet_y:10,sort_order:142},"9️⃣":{category:"Symbols",sheet_x:0,sheet_y:11,sort_order:143},"©️":{category:"Symbols",sheet_x:0,sheet_y:12,sort_order:129},"®️":{category:"Symbols",sheet_x:0,sheet_y:13,sort_order:130},"🀄":{category:"Activities",sheet_x:0,sheet_y:14,sort_order:73},"🃏":{category:"Activities",sheet_x:0,sheet_y:15,sort_order:72},"🅰️":{category:"Symbols",sheet_x:0,sheet_y:16,sort_order:150},"🅱️":{category:"Symbols",sheet_x:0,sheet_y:17,sort_order:152},"🅾️":{category:"Symbols",sheet_x:0,sheet_y:18,sort_order:161},"🅿️":{category:"Symbols",sheet_x:0,sheet_y:19,sort_order:163},"🆎":{category:"Symbols",sheet_x:0,sheet_y:20,sort_order:151},"🆑":{category:"Symbols",sheet_x:0,sheet_y:21,sort_order:153},"🆒":{category:"Symbols",sheet_x:0,sheet_y:22,sort_order:154},"🆓":{category:"Symbols",sheet_x:0,sheet_y:23,sort_order:155},"🆔":{category:"Symbols",sheet_x:0,sheet_y:24,sort_order:157},"🆕":{category:"Symbols",sheet_x:0,sheet_y:25,sort_order:159},"🆖":{category:"Symbols",sheet_x:0,sheet_y:26,sort_order:160},"🆗":{category:"Symbols",sheet_x:0,sheet_y:27,sort_order:162},"🆘":{category:"Symbols",sheet_x:0,sheet_y:28,sort_order:164},"🆙":{category:"Symbols",sheet_x:0,sheet_y:29,sort_order:165},"🆚":{category:"Symbols",sheet_x:0,sheet_y:30,sort_order:166},"🇦🇨":{category:"Flags",sheet_x:0,sheet_y:31,sort_order:8},"🇦🇩":{category:"Flags",sheet_x:0,sheet_y:32,sort_order:9},"🇦🇪":{category:"Flags",sheet_x:0,sheet_y:33,sort_order:10},"🇦🇫":{category:"Flags",sheet_x:0,sheet_y:34,sort_order:11},"🇦🇬":{category:"Flags",sheet_x:0,sheet_y:35,sort_order:12},"🇦🇮":{category:"Flags",sheet_x:0,sheet_y:36,sort_order:13},"🇦🇱":{category:"Flags",sheet_x:0,sheet_y:37,sort_order:14},"🇦🇲":{category:"Flags",sheet_x:0,sheet_y:38,sort_order:15},"🇦🇴":{category:"Flags",sheet_x:0,sheet_y:39,sort_order:16},"🇦🇶":{category:"Flags",sheet_x:0,sheet_y:40,sort_order:17},"🇦🇷":{category:"Flags",sheet_x:0,sheet_y:41,sort_order:18},"🇦🇸":{category:"Flags",sheet_x:0,sheet_y:42,sort_order:19},"🇦🇹":{category:"Flags",sheet_x:0,sheet_y:43,sort_order:20},"🇦🇺":{category:"Flags",sheet_x:0,sheet_y:44,sort_order:21},"🇦🇼":{category:"Flags",sheet_x:0,sheet_y:45,sort_order:22},"🇦🇽":{category:"Flags",sheet_x:0,sheet_y:46,sort_order:23},"🇦🇿":{category:"Flags",sheet_x:0,sheet_y:47,sort_order:24},"🇧🇦":{category:"Flags",sheet_x:0,sheet_y:48,sort_order:25},"🇧🇧":{category:"Flags",sheet_x:0,sheet_y:49,sort_order:26},"🇧🇩":{category:"Flags",sheet_x:0,sheet_y:50,sort_order:27},"🇧🇪":{category:"Flags",sheet_x:0,sheet_y:51,sort_order:28},"🇧🇫":{category:"Flags",sheet_x:0,sheet_y:52,sort_order:29},"🇧🇬":{category:"Flags",sheet_x:0,sheet_y:53,sort_order:30},"🇧🇭":{category:"Flags",sheet_x:0,sheet_y:54,sort_order:31},"🇧🇮":{category:"Flags",sheet_x:0,sheet_y:55,sort_order:32},"🇧🇯":{category:"Flags",sheet_x:0,sheet_y:56,sort_order:33},"🇧🇱":{category:"Flags",sheet_x:1,sheet_y:0,sort_order:34},"🇧🇲":{category:"Flags",sheet_x:1,sheet_y:1,sort_order:35},"🇧🇳":{category:"Flags",sheet_x:1,sheet_y:2,sort_order:36},"🇧🇴":{category:"Flags",sheet_x:1,sheet_y:3,sort_order:37},"🇧🇶":{category:"Flags",sheet_x:1,sheet_y:4,sort_order:38},"🇧🇷":{category:"Flags",sheet_x:1,sheet_y:5,sort_order:39},"🇧🇸":{category:"Flags",sheet_x:1,sheet_y:6,sort_order:40},"🇧🇹":{category:"Flags",sheet_x:1,sheet_y:7,sort_order:41},"🇧🇻":{category:"Flags",sheet_x:1,sheet_y:8,sort_order:42},"🇧🇼":{category:"Flags",sheet_x:1,sheet_y:9,sort_order:43},"🇧🇾":{category:"Flags",sheet_x:1,sheet_y:10,sort_order:44},"🇧🇿":{category:"Flags",sheet_x:1,sheet_y:11,sort_order:45},"🇨🇦":{category:"Flags",sheet_x:1,sheet_y:12,sort_order:46},"🇨🇨":{category:"Flags",sheet_x:1,sheet_y:13,sort_order:47},"🇨🇩":{category:"Flags",sheet_x:1,sheet_y:14,sort_order:48},"🇨🇫":{category:"Flags",sheet_x:1,sheet_y:15,sort_order:49},"🇨🇬":{category:"Flags",sheet_x:1,sheet_y:16,sort_order:50},"🇨🇭":{category:"Flags",sheet_x:1,sheet_y:17,sort_order:51},"🇨🇮":{category:"Flags",sheet_x:1,sheet_y:18,sort_order:52},"🇨🇰":{category:"Flags",sheet_x:1,sheet_y:19,sort_order:53},"🇨🇱":{category:"Flags",sheet_x:1,sheet_y:20,sort_order:54},"🇨🇲":{category:"Flags",sheet_x:1,sheet_y:21,sort_order:55},"🇨🇳":{category:"Flags",sheet_x:1,sheet_y:22,sort_order:56},"🇨🇴":{category:"Flags",sheet_x:1,sheet_y:23,sort_order:57},"🇨🇵":{category:"Flags",sheet_x:1,sheet_y:24,sort_order:58},"🇨🇷":{category:"Flags",sheet_x:1,sheet_y:25,sort_order:59},"🇨🇺":{category:"Flags",sheet_x:1,sheet_y:26,sort_order:60},"🇨🇻":{category:"Flags",sheet_x:1,sheet_y:27,sort_order:61},"🇨🇼":{category:"Flags",sheet_x:1,sheet_y:28,sort_order:62},"🇨🇽":{category:"Flags",sheet_x:1,sheet_y:29,sort_order:63},"🇨🇾":{category:"Flags",sheet_x:1,sheet_y:30,sort_order:64},"🇨🇿":{category:"Flags",sheet_x:1,sheet_y:31,sort_order:65},"🇩🇪":{category:"Flags",sheet_x:1,sheet_y:32,sort_order:66},"🇩🇬":{category:"Flags",sheet_x:1,sheet_y:33,sort_order:67},"🇩🇯":{category:"Flags",sheet_x:1,sheet_y:34,sort_order:68},"🇩🇰":{category:"Flags",sheet_x:1,sheet_y:35,sort_order:69},"🇩🇲":{category:"Flags",sheet_x:1,sheet_y:36,sort_order:70},"🇩🇴":{category:"Flags",sheet_x:1,sheet_y:37,sort_order:71},"🇩🇿":{category:"Flags",sheet_x:1,sheet_y:38,sort_order:72},"🇪🇦":{category:"Flags",sheet_x:1,sheet_y:39,sort_order:73},"🇪🇨":{category:"Flags",sheet_x:1,sheet_y:40,sort_order:74},"🇪🇪":{category:"Flags",sheet_x:1,sheet_y:41,sort_order:75},"🇪🇬":{category:"Flags",sheet_x:1,sheet_y:42,sort_order:76},"🇪🇭":{category:"Flags",sheet_x:1,sheet_y:43,sort_order:77},"🇪🇷":{category:"Flags",sheet_x:1,sheet_y:44,sort_order:78},"🇪🇸":{category:"Flags",sheet_x:1,sheet_y:45,sort_order:79},"🇪🇹":{category:"Flags",sheet_x:1,sheet_y:46,sort_order:80},"🇪🇺":{category:"Flags",sheet_x:1,sheet_y:47,sort_order:81},"🇫🇮":{category:"Flags",sheet_x:1,sheet_y:48,sort_order:82},"🇫🇯":{category:"Flags",sheet_x:1,sheet_y:49,sort_order:83},"🇫🇰":{category:"Flags",sheet_x:1,sheet_y:50,sort_order:84},"🇫🇲":{category:"Flags",sheet_x:1,sheet_y:51,sort_order:85},"🇫🇴":{category:"Flags",sheet_x:1,sheet_y:52,sort_order:86},"🇫🇷":{category:"Flags",sheet_x:1,sheet_y:53,sort_order:87},"🇬🇦":{category:"Flags",sheet_x:1,sheet_y:54,sort_order:88},"🇬🇧":{category:"Flags",sheet_x:1,sheet_y:55,sort_order:89},"🇬🇩":{category:"Flags",sheet_x:1,sheet_y:56,sort_order:90},"🇬🇪":{category:"Flags",sheet_x:2,sheet_y:0,sort_order:91},"🇬🇫":{category:"Flags",sheet_x:2,sheet_y:1,sort_order:92},"🇬🇬":{category:"Flags",sheet_x:2,sheet_y:2,sort_order:93},"🇬🇭":{category:"Flags",sheet_x:2,sheet_y:3,sort_order:94},"🇬🇮":{category:"Flags",sheet_x:2,sheet_y:4,sort_order:95},"🇬🇱":{category:"Flags",sheet_x:2,sheet_y:5,sort_order:96},"🇬🇲":{category:"Flags",sheet_x:2,sheet_y:6,sort_order:97},"🇬🇳":{category:"Flags",sheet_x:2,sheet_y:7,sort_order:98},"🇬🇵":{category:"Flags",sheet_x:2,sheet_y:8,sort_order:99},"🇬🇶":{category:"Flags",sheet_x:2,sheet_y:9,sort_order:100},"🇬🇷":{category:"Flags",sheet_x:2,sheet_y:10,sort_order:101},"🇬🇸":{category:"Flags",sheet_x:2,sheet_y:11,sort_order:102},"🇬🇹":{category:"Flags",sheet_x:2,sheet_y:12,sort_order:103},"🇬🇺":{category:"Flags",sheet_x:2,sheet_y:13,sort_order:104},"🇬🇼":{category:"Flags",sheet_x:2,sheet_y:14,sort_order:105},"🇬🇾":{category:"Flags",sheet_x:2,sheet_y:15,sort_order:106},"🇭🇰":{category:"Flags",sheet_x:2,sheet_y:16,sort_order:107},"🇭🇲":{category:"Flags",sheet_x:2,sheet_y:17,sort_order:108},"🇭🇳":{category:"Flags",sheet_x:2,sheet_y:18,sort_order:109},"🇭🇷":{category:"Flags",sheet_x:2,sheet_y:19,sort_order:110},"🇭🇹":{category:"Flags",sheet_x:2,sheet_y:20,sort_order:111},"🇭🇺":{category:"Flags",sheet_x:2,sheet_y:21,sort_order:112},"🇮🇨":{category:"Flags",sheet_x:2,sheet_y:22,sort_order:113},"🇮🇩":{category:"Flags",sheet_x:2,sheet_y:23,sort_order:114},"🇮🇪":{category:"Flags",sheet_x:2,sheet_y:24,sort_order:115},"🇮🇱":{category:"Flags",sheet_x:2,sheet_y:25,sort_order:116},"🇮🇲":{category:"Flags",sheet_x:2,sheet_y:26,sort_order:117},"🇮🇳":{category:"Flags",sheet_x:2,sheet_y:27,sort_order:118},"🇮🇴":{category:"Flags",sheet_x:2,sheet_y:28,sort_order:119},"🇮🇶":{category:"Flags",sheet_x:2,sheet_y:29,sort_order:120},"🇮🇷":{category:"Flags",sheet_x:2,sheet_y:30,sort_order:121},"🇮🇸":{category:"Flags",sheet_x:2,sheet_y:31,sort_order:122},"🇮🇹":{category:"Flags",sheet_x:2,sheet_y:32,sort_order:123},"🇯🇪":{category:"Flags",sheet_x:2,sheet_y:33,sort_order:124},"🇯🇲":{category:"Flags",sheet_x:2,sheet_y:34,sort_order:125},"🇯🇴":{category:"Flags",sheet_x:2,sheet_y:35,sort_order:126},"🇯🇵":{category:"Flags",sheet_x:2,sheet_y:36,sort_order:127},"🇰🇪":{category:"Flags",sheet_x:2,sheet_y:37,sort_order:128},"🇰🇬":{category:"Flags",sheet_x:2,sheet_y:38,sort_order:129},"🇰🇭":{category:"Flags",sheet_x:2,sheet_y:39,sort_order:130},"🇰🇮":{category:"Flags",sheet_x:2,sheet_y:40,sort_order:131},"🇰🇲":{category:"Flags",sheet_x:2,sheet_y:41,sort_order:132},"🇰🇳":{category:"Flags",sheet_x:2,sheet_y:42,sort_order:133},"🇰🇵":{category:"Flags",sheet_x:2,sheet_y:43,sort_order:134},"🇰🇷":{category:"Flags",sheet_x:2,sheet_y:44,sort_order:135},"🇰🇼":{category:"Flags",sheet_x:2,sheet_y:45,sort_order:136},"🇰🇾":{category:"Flags",sheet_x:2,sheet_y:46,sort_order:137},"🇰🇿":{category:"Flags",sheet_x:2,sheet_y:47,sort_order:138},"🇱🇦":{category:"Flags",sheet_x:2,sheet_y:48,sort_order:139},"🇱🇧":{category:"Flags",sheet_x:2,sheet_y:49,sort_order:140},"🇱🇨":{category:"Flags",sheet_x:2,sheet_y:50,sort_order:141},"🇱🇮":{category:"Flags",sheet_x:2,sheet_y:51,sort_order:142},"🇱🇰":{category:"Flags",sheet_x:2,sheet_y:52,sort_order:143},"🇱🇷":{category:"Flags",sheet_x:2,sheet_y:53,sort_order:144},"🇱🇸":{category:"Flags",sheet_x:2,sheet_y:54,sort_order:145},"🇱🇹":{category:"Flags",sheet_x:2,sheet_y:55,sort_order:146},"🇱🇺":{category:"Flags",sheet_x:2,sheet_y:56,sort_order:147},"🇱🇻":{category:"Flags",sheet_x:3,sheet_y:0,sort_order:148},"🇱🇾":{category:"Flags",sheet_x:3,sheet_y:1,sort_order:149},"🇲🇦":{category:"Flags",sheet_x:3,sheet_y:2,sort_order:150},"🇲🇨":{category:"Flags",sheet_x:3,sheet_y:3,sort_order:151},"🇲🇩":{category:"Flags",sheet_x:3,sheet_y:4,sort_order:152},"🇲🇪":{category:"Flags",sheet_x:3,sheet_y:5,sort_order:153},"🇲🇫":{category:"Flags",sheet_x:3,sheet_y:6,sort_order:154},"🇲🇬":{category:"Flags",sheet_x:3,sheet_y:7,sort_order:155},"🇲🇭":{category:"Flags",sheet_x:3,sheet_y:8,sort_order:156},"🇲🇰":{category:"Flags",sheet_x:3,sheet_y:9,sort_order:157},"🇲🇱":{category:"Flags",sheet_x:3,sheet_y:10,sort_order:158},"🇲🇲":{category:"Flags",sheet_x:3,sheet_y:11,sort_order:159},"🇲🇳":{category:"Flags",sheet_x:3,sheet_y:12,sort_order:160},"🇲🇴":{category:"Flags",sheet_x:3,sheet_y:13,sort_order:161},"🇲🇵":{category:"Flags",sheet_x:3,sheet_y:14,sort_order:162},"🇲🇶":{category:"Flags",sheet_x:3,sheet_y:15,sort_order:163},"🇲🇷":{category:"Flags",sheet_x:3,sheet_y:16,sort_order:164},"🇲🇸":{category:"Flags",sheet_x:3,sheet_y:17,sort_order:165},"🇲🇹":{category:"Flags",sheet_x:3,sheet_y:18,sort_order:166},"🇲🇺":{category:"Flags",sheet_x:3,sheet_y:19,sort_order:167},"🇲🇻":{category:"Flags",sheet_x:3,sheet_y:20,sort_order:168},"🇲🇼":{category:"Flags",sheet_x:3,sheet_y:21,sort_order:169},"🇲🇽":{category:"Flags",sheet_x:3,sheet_y:22,sort_order:170},"🇲🇾":{category:"Flags",sheet_x:3,sheet_y:23,sort_order:171},"🇲🇿":{category:"Flags",sheet_x:3,sheet_y:24,sort_order:172},"🇳🇦":{category:"Flags",sheet_x:3,sheet_y:25,sort_order:173},"🇳🇨":{category:"Flags",sheet_x:3,sheet_y:26,sort_order:174},"🇳🇪":{category:"Flags",sheet_x:3,sheet_y:27,sort_order:175},"🇳🇫":{category:"Flags",sheet_x:3,sheet_y:28,sort_order:176},"🇳🇬":{category:"Flags",sheet_x:3,sheet_y:29,sort_order:177},"🇳🇮":{category:"Flags",sheet_x:3,sheet_y:30,sort_order:178},"🇳🇱":{category:"Flags",sheet_x:3,sheet_y:31,sort_order:179},"🇳🇴":{category:"Flags",sheet_x:3,sheet_y:32,sort_order:180},"🇳🇵":{category:"Flags",sheet_x:3,sheet_y:33,sort_order:181},"🇳🇷":{category:"Flags",sheet_x:3,sheet_y:34,sort_order:182},"🇳🇺":{category:"Flags",sheet_x:3,sheet_y:35,sort_order:183},"🇳🇿":{category:"Flags",sheet_x:3,sheet_y:36,sort_order:184},"🇴🇲":{category:"Flags",sheet_x:3,sheet_y:37,sort_order:185},"🇵🇦":{category:"Flags",sheet_x:3,sheet_y:38,sort_order:186},"🇵🇪":{category:"Flags",sheet_x:3,sheet_y:39,sort_order:187},"🇵🇫":{category:"Flags",sheet_x:3,sheet_y:40,sort_order:188},"🇵🇬":{category:"Flags",sheet_x:3,sheet_y:41,sort_order:189},"🇵🇭":{category:"Flags",sheet_x:3,sheet_y:42,sort_order:190},"🇵🇰":{category:"Flags",sheet_x:3,sheet_y:43,sort_order:191},"🇵🇱":{category:"Flags",sheet_x:3,sheet_y:44,sort_order:192},"🇵🇲":{category:"Flags",sheet_x:3,sheet_y:45,sort_order:193},"🇵🇳":{category:"Flags",sheet_x:3,sheet_y:46,sort_order:194},"🇵🇷":{category:"Flags",sheet_x:3,sheet_y:47,sort_order:195},"🇵🇸":{category:"Flags",sheet_x:3,sheet_y:48,sort_order:196},"🇵🇹":{category:"Flags",sheet_x:3,sheet_y:49,sort_order:197},"🇵🇼":{category:"Flags",sheet_x:3,sheet_y:50,sort_order:198},"🇵🇾":{category:"Flags",sheet_x:3,sheet_y:51,sort_order:199},"🇶🇦":{category:"Flags",sheet_x:3,sheet_y:52,sort_order:200},"🇷🇪":{category:"Flags",sheet_x:3,sheet_y:53,sort_order:201},"🇷🇴":{category:"Flags",sheet_x:3,sheet_y:54,sort_order:202},"🇷🇸":{category:"Flags",sheet_x:3,sheet_y:55,sort_order:203},"🇷🇺":{category:"Flags",sheet_x:3,sheet_y:56,sort_order:204},"🇷🇼":{category:"Flags",sheet_x:4,sheet_y:0,sort_order:205},"🇸🇦":{category:"Flags",sheet_x:4,sheet_y:1,sort_order:206},"🇸🇧":{category:"Flags",sheet_x:4,sheet_y:2,sort_order:207},"🇸🇨":{category:"Flags",sheet_x:4,sheet_y:3,sort_order:208},"🇸🇩":{category:"Flags",sheet_x:4,sheet_y:4,sort_order:209},"🇸🇪":{category:"Flags",sheet_x:4,sheet_y:5,sort_order:210},"🇸🇬":{category:"Flags",sheet_x:4,sheet_y:6,sort_order:211},"🇸🇭":{category:"Flags",sheet_x:4,sheet_y:7,sort_order:212},"🇸🇮":{category:"Flags",sheet_x:4,sheet_y:8,sort_order:213},"🇸🇯":{category:"Flags",sheet_x:4,sheet_y:9,sort_order:214},"🇸🇰":{category:"Flags",sheet_x:4,sheet_y:10,sort_order:215},"🇸🇱":{category:"Flags",sheet_x:4,sheet_y:11,sort_order:216},"🇸🇲":{category:"Flags",sheet_x:4,sheet_y:12,sort_order:217},"🇸🇳":{category:"Flags",sheet_x:4,sheet_y:13,sort_order:218},"🇸🇴":{category:"Flags",sheet_x:4,sheet_y:14,sort_order:219},"🇸🇷":{category:"Flags",sheet_x:4,sheet_y:15,sort_order:220},"🇸🇸":{category:"Flags",sheet_x:4,sheet_y:16,sort_order:221},"🇸🇹":{category:"Flags",sheet_x:4,sheet_y:17,sort_order:222},"🇸🇻":{category:"Flags",sheet_x:4,sheet_y:18,sort_order:223},"🇸🇽":{category:"Flags",sheet_x:4,sheet_y:19,sort_order:224},"🇸🇾":{category:"Flags",sheet_x:4,sheet_y:20,sort_order:225},"🇸🇿":{category:"Flags",sheet_x:4,sheet_y:21,sort_order:226},"🇹🇦":{category:"Flags",sheet_x:4,sheet_y:22,sort_order:227},"🇹🇨":{category:"Flags",sheet_x:4,sheet_y:23,sort_order:228},"🇹🇩":{category:"Flags",sheet_x:4,sheet_y:24,sort_order:229},"🇹🇫":{category:"Flags",sheet_x:4,sheet_y:25,sort_order:230},"🇹🇬":{category:"Flags",sheet_x:4,sheet_y:26,sort_order:231},"🇹🇭":{category:"Flags",sheet_x:4,sheet_y:27,sort_order:232},"🇹🇯":{category:"Flags",sheet_x:4,sheet_y:28,sort_order:233},"🇹🇰":{category:"Flags",sheet_x:4,sheet_y:29,sort_order:234},"🇹🇱":{category:"Flags",sheet_x:4,sheet_y:30,sort_order:235},"🇹🇲":{category:"Flags",sheet_x:4,sheet_y:31,sort_order:236},"🇹🇳":{category:"Flags",sheet_x:4,sheet_y:32,sort_order:237},"🇹🇴":{category:"Flags",sheet_x:4,sheet_y:33,sort_order:238},"🇹🇷":{category:"Flags",sheet_x:4,sheet_y:34,sort_order:239},"🇹🇹":{category:"Flags",sheet_x:4,sheet_y:35,sort_order:240},"🇹🇻":{category:"Flags",sheet_x:4,sheet_y:36,sort_order:241},"🇹🇼":{category:"Flags",sheet_x:4,sheet_y:37,sort_order:242},"🇹🇿":{category:"Flags",sheet_x:4,sheet_y:38,sort_order:243},"🇺🇦":{category:"Flags",sheet_x:4,sheet_y:39,sort_order:244},"🇺🇬":{category:"Flags",sheet_x:4,sheet_y:40,sort_order:245},"🇺🇲":{category:"Flags",sheet_x:4,sheet_y:41,sort_order:246},"🇺🇳":{category:"Flags",sheet_x:4,sheet_y:42,sort_order:247},"🇺🇸":{category:"Flags",sheet_x:4,sheet_y:43,sort_order:248},"🇺🇾":{category:"Flags",sheet_x:4,sheet_y:44,sort_order:249},"🇺🇿":{category:"Flags",sheet_x:4,sheet_y:45,sort_order:250},"🇻🇦":{category:"Flags",sheet_x:4,sheet_y:46,sort_order:251},"🇻🇨":{category:"Flags",sheet_x:4,sheet_y:47,sort_order:252},"🇻🇪":{category:"Flags",sheet_x:4,sheet_y:48,sort_order:253},"🇻🇬":{category:"Flags",sheet_x:4,sheet_y:49,sort_order:254},"🇻🇮":{category:"Flags",sheet_x:4,sheet_y:50,sort_order:255},"🇻🇳":{category:"Flags",sheet_x:4,sheet_y:51,sort_order:256},"🇻🇺":{category:"Flags",sheet_x:4,sheet_y:52,sort_order:257},"🇼🇫":{category:"Flags",sheet_x:4,sheet_y:53,sort_order:258},"🇼🇸":{category:"Flags",sheet_x:4,sheet_y:54,sort_order:259},"🇽🇰":{category:"Flags",sheet_x:4,sheet_y:55,sort_order:260},"🇾🇪":{category:"Flags",sheet_x:4,sheet_y:56,sort_order:261},"🇾🇹":{category:"Flags",sheet_x:5,sheet_y:0,sort_order:262},"🇿🇦":{category:"Flags",sheet_x:5,sheet_y:1,sort_order:263},"🇿🇲":{category:"Flags",sheet_x:5,sheet_y:2,sort_order:264},"🇿🇼":{category:"Flags",sheet_x:5,sheet_y:3,sort_order:265},"🈁":{category:"Symbols",sheet_x:5,sheet_y:4,sort_order:167},"🈂️":{category:"Symbols",sheet_x:5,sheet_y:5,sort_order:168},"🈚":{category:"Symbols",sheet_x:5,sheet_y:6,sort_order:174},"🈯":{category:"Symbols",sheet_x:5,sheet_y:7,sort_order:171},"🈲":{category:"Symbols",sheet_x:5,sheet_y:8,sort_order:175},"🈳":{category:"Symbols",sheet_x:5,sheet_y:9,sort_order:179},"🈴":{category:"Symbols",sheet_x:5,sheet_y:10,sort_order:178},"🈵":{category:"Symbols",sheet_x:5,sheet_y:11,sort_order:183},"🈶":{category:"Symbols",sheet_x:5,sheet_y:12,sort_order:170},"🈷️":{category:"Symbols",sheet_x:5,sheet_y:13,sort_order:169},"🈸":{category:"Symbols",sheet_x:5,sheet_y:14,sort_order:177},"🈹":{category:"Symbols",sheet_x:5,sheet_y:15,sort_order:173},"🈺":{category:"Symbols",sheet_x:5,sheet_y:16,sort_order:182},"🉐":{category:"Symbols",sheet_x:5,sheet_y:17,sort_order:172},"🉑":{category:"Symbols",sheet_x:5,sheet_y:18,sort_order:176},"🌀":{category:"Travel & Places",sheet_x:5,sheet_y:19,sort_order:197},"🌁":{category:"Travel & Places",sheet_x:5,sheet_y:20,sort_order:49},"🌂":{category:"Travel & Places",sheet_x:5,sheet_y:21,sort_order:199},"🌃":{category:"Travel & Places",sheet_x:5,sheet_y:22,sort_order:50},"🌄":{category:"Travel & Places",sheet_x:5,sheet_y:23,sort_order:52},"🌅":{category:"Travel & Places",sheet_x:5,sheet_y:24,sort_order:53},"🌆":{category:"Travel & Places",sheet_x:5,sheet_y:25,sort_order:54},"🌇":{category:"Travel & Places",sheet_x:5,sheet_y:26,sort_order:55},"🌈":{category:"Travel & Places",sheet_x:5,sheet_y:27,sort_order:198},"🌉":{category:"Travel & Places",sheet_x:5,sheet_y:28,sort_order:56},"🌊":{category:"Travel & Places",sheet_x:5,sheet_y:29,sort_order:210},"🌋":{category:"Travel & Places",sheet_x:5,sheet_y:30,sort_order:10},"🌌":{category:"Travel & Places",sheet_x:5,sheet_y:31,sort_order:184},"🌍":{category:"Travel & Places",sheet_x:5,sheet_y:32,sort_order:1},"🌎":{category:"Travel & Places",sheet_x:5,sheet_y:33,sort_order:2},"🌏":{category:"Travel & Places",sheet_x:5,sheet_y:34,sort_order:3},"🌐":{category:"Travel & Places",sheet_x:5,sheet_y:35,sort_order:4},"🌑":{category:"Travel & Places",sheet_x:5,sheet_y:36,sort_order:164},"🌒":{category:"Travel & Places",sheet_x:5,sheet_y:37,sort_order:165},"🌓":{category:"Travel & Places",sheet_x:5,sheet_y:38,sort_order:166},"🌔":{category:"Travel & Places",sheet_x:5,sheet_y:39,sort_order:167},"🌕":{category:"Travel & Places",sheet_x:5,sheet_y:40,sort_order:168},"🌖":{category:"Travel & Places",sheet_x:5,sheet_y:41,sort_order:169},"🌗":{category:"Travel & Places",sheet_x:5,sheet_y:42,sort_order:170},"🌘":{category:"Travel & Places",sheet_x:5,sheet_y:43,sort_order:171},"🌙":{category:"Travel & Places",sheet_x:5,sheet_y:44,sort_order:172},"🌚":{category:"Travel & Places",sheet_x:5,sheet_y:45,sort_order:173},"🌛":{category:"Travel & Places",sheet_x:5,sheet_y:46,sort_order:174},"🌜":{category:"Travel & Places",sheet_x:5,sheet_y:47,sort_order:175},"🌝":{category:"Travel & Places",sheet_x:5,sheet_y:48,sort_order:178},"🌞":{category:"Travel & Places",sheet_x:5,sheet_y:49,sort_order:179},"🌟":{category:"Travel & Places",sheet_x:5,sheet_y:50,sort_order:182},"🌠":{category:"Travel & Places",sheet_x:5,sheet_y:51,sort_order:183},"🌡️":{category:"Travel & Places",sheet_x:5,sheet_y:52,sort_order:176},"🌤️":{category:"Travel & Places",sheet_x:5,sheet_y:53,sort_order:188},"🌥️":{category:"Travel & Places",sheet_x:5,sheet_y:54,sort_order:189},"🌦️":{category:"Travel & Places",sheet_x:5,sheet_y:55,sort_order:190},"🌧️":{category:"Travel & Places",sheet_x:5,sheet_y:56,sort_order:191},"🌨️":{category:"Travel & Places",sheet_x:6,sheet_y:0,sort_order:192},"🌩️":{category:"Travel & Places",sheet_x:6,sheet_y:1,sort_order:193},"🌪️":{category:"Travel & Places",sheet_x:6,sheet_y:2,sort_order:194},"🌫️":{category:"Travel & Places",sheet_x:6,sheet_y:3,sort_order:195},"🌬️":{category:"Travel & Places",sheet_x:6,sheet_y:4,sort_order:196},"🌭":{category:"Food & Drink",sheet_x:6,sheet_y:5,sort_order:47},"🌮":{category:"Food & Drink",sheet_x:6,sheet_y:6,sort_order:49},"🌯":{category:"Food & Drink",sheet_x:6,sheet_y:7,sort_order:50},"🌰":{category:"Food & Drink",sheet_x:6,sheet_y:8,sort_order:31},"🌱":{category:"Animals & Nature",sheet_x:6,sheet_y:9,sort_order:116},"🌲":{category:"Animals & Nature",sheet_x:6,sheet_y:10,sort_order:117},"🌳":{category:"Animals & Nature",sheet_x:6,sheet_y:11,sort_order:118},"🌴":{category:"Animals & Nature",sheet_x:6,sheet_y:12,sort_order:119},"🌵":{category:"Animals & Nature",sheet_x:6,sheet_y:13,sort_order:120},"🌶️":{category:"Food & Drink",sheet_x:6,sheet_y:14,sort_order:23},"🌷":{category:"Animals & Nature",sheet_x:6,sheet_y:15,sort_order:115},"🌸":{category:"Animals & Nature",sheet_x:6,sheet_y:16,sort_order:107},"🌹":{category:"Animals & Nature",sheet_x:6,sheet_y:17,sort_order:110},"🌺":{category:"Animals & Nature",sheet_x:6,sheet_y:18,sort_order:112},"🌻":{category:"Animals & Nature",sheet_x:6,sheet_y:19,sort_order:113},"🌼":{category:"Animals & Nature",sheet_x:6,sheet_y:20,sort_order:114},"🌽":{category:"Food & Drink",sheet_x:6,sheet_y:21,sort_order:22},"🌾":{category:"Animals & Nature",sheet_x:6,sheet_y:22,sort_order:121},"🌿":{category:"Animals & Nature",sheet_x:6,sheet_y:23,sort_order:122},"🍀":{category:"Animals & Nature",sheet_x:6,sheet_y:24,sort_order:124},"🍁":{category:"Animals & Nature",sheet_x:6,sheet_y:25,sort_order:125},"🍂":{category:"Animals & Nature",sheet_x:6,sheet_y:26,sort_order:126},"🍃":{category:"Animals & Nature",sheet_x:6,sheet_y:27,sort_order:127},"🍄":{category:"Food & Drink",sheet_x:6,sheet_y:28,sort_order:29},"🍅":{category:"Food & Drink",sheet_x:6,sheet_y:29,sort_order:16},"🍆":{category:"Food & Drink",sheet_x:6,sheet_y:30,sort_order:19},"🍇":{category:"Food & Drink",sheet_x:6,sheet_y:31,sort_order:1},"🍈":{category:"Food & Drink",sheet_x:6,sheet_y:32,sort_order:2},"🍉":{category:"Food & Drink",sheet_x:6,sheet_y:33,sort_order:3},"🍊":{category:"Food & Drink",sheet_x:6,sheet_y:34,sort_order:4},"🍋":{category:"Food & Drink",sheet_x:6,sheet_y:35,sort_order:5},"🍌":{category:"Food & Drink",sheet_x:6,sheet_y:36,sort_order:6},"🍍":{category:"Food & Drink",sheet_x:6,sheet_y:37,sort_order:7},"🍎":{category:"Food & Drink",sheet_x:6,sheet_y:38,sort_order:9},"🍏":{category:"Food & Drink",sheet_x:6,sheet_y:39,sort_order:10},"🍐":{category:"Food & Drink",sheet_x:6,sheet_y:40,sort_order:11},"🍑":{category:"Food & Drink",sheet_x:6,sheet_y:41,sort_order:12},"🍒":{category:"Food & Drink",sheet_x:6,sheet_y:42,sort_order:13},"🍓":{category:"Food & Drink",sheet_x:6,sheet_y:43,sort_order:14},"🍔":{category:"Food & Drink",sheet_x:6,sheet_y:44,sort_order:44},"🍕":{category:"Food & Drink",sheet_x:6,sheet_y:45,sort_order:46},"🍖":{category:"Food & Drink",sheet_x:6,sheet_y:46,sort_order:40},"🍗":{category:"Food & Drink",sheet_x:6,sheet_y:47,sort_order:41},"🍘":{category:"Food & Drink",sheet_x:6,sheet_y:48,sort_order:64},"🍙":{category:"Food & Drink",sheet_x:6,sheet_y:49,sort_order:65},"🍚":{category:"Food & Drink",sheet_x:6,sheet_y:50,sort_order:66},"🍛":{category:"Food & Drink",sheet_x:6,sheet_y:51,sort_order:67},"🍜":{category:"Food & Drink",sheet_x:6,sheet_y:52,sort_order:68},"🍝":{category:"Food & Drink",sheet_x:6,sheet_y:53,sort_order:69},"🍞":{category:"Food & Drink",sheet_x:6,sheet_y:54,sort_order:32},"🍟":{category:"Food & Drink",sheet_x:6,sheet_y:55,sort_order:45},"🍠":{category:"Food & Drink",sheet_x:6,sheet_y:56,sort_order:70},"🍡":{category:"Food & Drink",sheet_x:7,sheet_y:0,sort_order:76},"🍢":{category:"Food & Drink",sheet_x:7,sheet_y:1,sort_order:71},"🍣":{category:"Food & Drink",sheet_x:7,sheet_y:2,sort_order:72},"🍤":{category:"Food & Drink",sheet_x:7,sheet_y:3,sort_order:73},"🍥":{category:"Food & Drink",sheet_x:7,sheet_y:4,sort_order:74},"🍦":{category:"Food & Drink",sheet_x:7,sheet_y:5,sort_order:85},"🍧":{category:"Food & Drink",sheet_x:7,sheet_y:6,sort_order:86},"🍨":{category:"Food & Drink",sheet_x:7,sheet_y:7,sort_order:87},"🍩":{category:"Food & Drink",sheet_x:7,sheet_y:8,sort_order:88},"🍪":{category:"Food & Drink",sheet_x:7,sheet_y:9,sort_order:89},"🍫":{category:"Food & Drink",sheet_x:7,sheet_y:10,sort_order:94},"🍬":{category:"Food & Drink",sheet_x:7,sheet_y:11,sort_order:95},"🍭":{category:"Food & Drink",sheet_x:7,sheet_y:12,sort_order:96},"🍮":{category:"Food & Drink",sheet_x:7,sheet_y:13,sort_order:97},"🍯":{category:"Food & Drink",sheet_x:7,sheet_y:14,sort_order:98},"🍰":{category:"Food & Drink",sheet_x:7,sheet_y:15,sort_order:91},"🍱":{category:"Food & Drink",sheet_x:7,sheet_y:16,sort_order:63},"🍲":{category:"Food & Drink",sheet_x:7,sheet_y:17,sort_order:56},"🍳":{category:"Food & Drink",sheet_x:7,sheet_y:18,sort_order:54},"🍴":{category:"Food & Drink",sheet_x:7,sheet_y:19,sort_order:118},"🍵":{category:"Food & Drink",sheet_x:7,sheet_y:20,sort_order:102},"🍶":{category:"Food & Drink",sheet_x:7,sheet_y:21,sort_order:103},"🍷":{category:"Food & Drink",sheet_x:7,sheet_y:22,sort_order:105},"🍸":{category:"Food & Drink",sheet_x:7,sheet_y:23,sort_order:106},"🍹":{category:"Food & Drink",sheet_x:7,sheet_y:24,sort_order:107},"🍺":{category:"Food & Drink",sheet_x:7,sheet_y:25,sort_order:108},"🍻":{category:"Food & Drink",sheet_x:7,sheet_y:26,sort_order:109},"🍼":{category:"Food & Drink",sheet_x:7,sheet_y:27,sort_order:99},"🍽️":{category:"Food & Drink",sheet_x:7,sheet_y:28,sort_order:117},"🍾":{category:"Food & Drink",sheet_x:7,sheet_y:29,sort_order:104},"🍿":{category:"Food & Drink",sheet_x:7,sheet_y:30,sort_order:59},"🎀":{category:"Activities",sheet_x:7,sheet_y:31,sort_order:17},"🎁":{category:"Activities",sheet_x:7,sheet_y:32,sort_order:18},"🎂":{category:"Food & Drink",sheet_x:7,sheet_y:33,sort_order:90},"🎃":{category:"Activities",sheet_x:7,sheet_y:34,sort_order:1},"🎄":{category:"Activities",sheet_x:7,sheet_y:35,sort_order:2},"🎅":{category:"People & Body",sheet_x:7,sheet_y:36,sort_order:177},"🎆":{category:"Activities",sheet_x:7,sheet_y:42,sort_order:3},"🎇":{category:"Activities",sheet_x:7,sheet_y:43,sort_order:4},"🎈":{category:"Activities",sheet_x:7,sheet_y:44,sort_order:7},"🎉":{category:"Activities",sheet_x:7,sheet_y:45,sort_order:8},"🎊":{category:"Activities",sheet_x:7,sheet_y:46,sort_order:9},"🎋":{category:"Activities",sheet_x:7,sheet_y:47,sort_order:10},"🎌":{category:"Flags",sheet_x:7,sheet_y:48,sort_order:3},"🎍":{category:"Activities",sheet_x:7,sheet_y:49,sort_order:11},"🎎":{category:"Activities",sheet_x:7,sheet_y:50,sort_order:12},"🎏":{category:"Activities",sheet_x:7,sheet_y:51,sort_order:13},"🎐":{category:"Activities",sheet_x:7,sheet_y:52,sort_order:14},"🎑":{category:"Activities",sheet_x:7,sheet_y:53,sort_order:15},"🎒":{category:"Objects",sheet_x:7,sheet_y:54,sort_order:25},"🎓":{category:"Objects",sheet_x:7,sheet_y:55,sort_order:37},"🎖️":{category:"Activities",sheet_x:7,sheet_y:56,sort_order:22},"🎗️":{category:"Activities",sheet_x:8,sheet_y:0,sort_order:19},"🎙️":{category:"Objects",sheet_x:8,sheet_y:1,sort_order:56},"🎚️":{category:"Objects",sheet_x:8,sheet_y:2,sort_order:57},"🎛️":{category:"Objects",sheet_x:8,sheet_y:3,sort_order:58},"🎞️":{category:"Objects",sheet_x:8,sheet_y:4,sort_order:89},"🎟️":{category:"Activities",sheet_x:8,sheet_y:5,sort_order:20},"🎠":{category:"Travel & Places",sheet_x:8,sheet_y:6,sort_order:58},"🎡":{category:"Travel & Places",sheet_x:8,sheet_y:7,sort_order:59},"🎢":{category:"Travel & Places",sheet_x:8,sheet_y:8,sort_order:60},"🎣":{category:"Activities",sheet_x:8,sheet_y:9,sort_order:49},"🎤":{category:"Objects",sheet_x:8,sheet_y:10,sort_order:59},"🎥":{category:"Objects",sheet_x:8,sheet_y:11,sort_order:88},"🎦":{category:"Symbols",sheet_x:8,sheet_y:12,sort_order:91},"🎧":{category:"Objects",sheet_x:8,sheet_y:13,sort_order:60},"🎨":{category:"Activities",sheet_x:8,sheet_y:14,sort_order:77},"🎩":{category:"Objects",sheet_x:8,sheet_y:15,sort_order:36},"🎪":{category:"Travel & Places",sheet_x:8,sheet_y:16,sort_order:62},"🎫":{category:"Activities",sheet_x:8,sheet_y:17,sort_order:21},"🎬":{category:"Objects",sheet_x:8,sheet_y:18,sort_order:91},"🎭":{category:"Activities",sheet_x:8,sheet_y:19,sort_order:75},"🎮":{category:"Activities",sheet_x:8,sheet_y:20,sort_order:61},"🎯":{category:"Activities",sheet_x:8,sheet_y:21,sort_order:55},"🎰":{category:"Activities",sheet_x:8,sheet_y:22,sort_order:63},"🎱":{category:"Activities",sheet_x:8,sheet_y:23,sort_order:58},"🎲":{category:"Activities",sheet_x:8,sheet_y:24,sort_order:64},"🎳":{category:"Activities",sheet_x:8,sheet_y:25,sort_order:37},"🎴":{category:"Activities",sheet_x:8,sheet_y:26,sort_order:74},"🎵":{category:"Objects",sheet_x:8,sheet_y:27,sort_order:54},"🎶":{category:"Objects",sheet_x:8,sheet_y:28,sort_order:55},"🎷":{category:"Objects",sheet_x:8,sheet_y:29,sort_order:62},"🎸":{category:"Objects",sheet_x:8,sheet_y:30,sort_order:63},"🎹":{category:"Objects",sheet_x:8,sheet_y:31,sort_order:64},"🎺":{category:"Objects",sheet_x:8,sheet_y:32,sort_order:65},"🎻":{category:"Objects",sheet_x:8,sheet_y:33,sort_order:66},"🎼":{category:"Objects",sheet_x:8,sheet_y:34,sort_order:53},"🎽":{category:"Activities",sheet_x:8,sheet_y:35,sort_order:51},"🎾":{category:"Activities",sheet_x:8,sheet_y:36,sort_order:35},"🎿":{category:"Activities",sheet_x:8,sheet_y:37,sort_order:52},"🏀":{category:"Activities",sheet_x:8,sheet_y:38,sort_order:31},"🏁":{category:"Flags",sheet_x:8,sheet_y:39,sort_order:1},"🏂":{category:"People & Body",sheet_x:8,sheet_y:40,sort_order:248},"🏃‍♀️":{category:"People & Body",sheet_x:8,sheet_y:46,sort_order:232},"🏃‍♂️":{category:"People & Body",sheet_x:8,sheet_y:52,sort_order:231},"🏃":{category:"People & Body",sheet_x:9,sheet_y:1,sort_order:230},"🏄‍♀️":{category:"People & Body",sheet_x:9,sheet_y:7,sort_order:254},"🏄‍♂️":{category:"People & Body",sheet_x:9,sheet_y:13,sort_order:253},"🏄":{category:"People & Body",sheet_x:9,sheet_y:19,sort_order:252},"🏅":{category:"Activities",sheet_x:9,sheet_y:25,sort_order:24},"🏆":{category:"Activities",sheet_x:9,sheet_y:26,sort_order:23},"🏇":{category:"People & Body",sheet_x:9,sheet_y:27,sort_order:246},"🏈":{category:"Activities",sheet_x:9,sheet_y:33,sort_order:33},"🏉":{category:"Activities",sheet_x:9,sheet_y:34,sort_order:34},"🏊‍♀️":{category:"People & Body",sheet_x:9,sheet_y:35,sort_order:260},"🏊‍♂️":{category:"People & Body",sheet_x:9,sheet_y:41,sort_order:259},"🏊":{category:"People & Body",sheet_x:9,sheet_y:47,sort_order:258},"🏋️‍♀️":{category:"People & Body",sheet_x:9,sheet_y:53,sort_order:266},"🏋️‍♂️":{category:"People & Body",sheet_x:10,sheet_y:2,sort_order:265},"🏋️":{category:"People & Body",sheet_x:10,sheet_y:8,sort_order:264},"🏌️‍♀️":{category:"People & Body",sheet_x:10,sheet_y:14,sort_order:251},"🏌️‍♂️":{category:"People & Body",sheet_x:10,sheet_y:20,sort_order:250},"🏌️":{category:"People & Body",sheet_x:10,sheet_y:26,sort_order:249},"🏍️":{category:"Travel & Places",sheet_x:10,sheet_y:32,sort_order:92},"🏎️":{category:"Travel & Places",sheet_x:10,sheet_y:33,sort_order:91},"🏏":{category:"Activities",sheet_x:10,sheet_y:34,sort_order:38},"🏐":{category:"Activities",sheet_x:10,sheet_y:35,sort_order:32},"🏑":{category:"Activities",sheet_x:10,sheet_y:36,sort_order:39},"🏒":{category:"Activities",sheet_x:10,sheet_y:37,sort_order:40},"🏓":{category:"Activities",sheet_x:10,sheet_y:38,sort_order:42},"🏔️":{category:"Travel & Places",sheet_x:10,sheet_y:39,sort_order:8},"🏕️":{category:"Travel & Places",sheet_x:10,sheet_y:40,sort_order:12},"🏖️":{category:"Travel & Places",sheet_x:10,sheet_y:41,sort_order:13},"🏗️":{category:"Travel & Places",sheet_x:10,sheet_y:42,sort_order:19},"🏘️":{category:"Travel & Places",sheet_x:10,sheet_y:43,sort_order:21},"🏙️":{category:"Travel & Places",sheet_x:10,sheet_y:44,sort_order:51},"🏚️":{category:"Travel & Places",sheet_x:10,sheet_y:45,sort_order:22},"🏛️":{category:"Travel & Places",sheet_x:10,sheet_y:46,sort_order:18},"🏜️":{category:"Travel & Places",sheet_x:10,sheet_y:47,sort_order:14},"🏝️":{category:"Travel & Places",sheet_x:10,sheet_y:48,sort_order:15},"🏞️":{category:"Travel & Places",sheet_x:10,sheet_y:49,sort_order:16},"🏟️":{category:"Travel & Places",sheet_x:10,sheet_y:50,sort_order:17},"🏠":{category:"Travel & Places",sheet_x:10,sheet_y:51,sort_order:23},"🏡":{category:"Travel & Places",sheet_x:10,sheet_y:52,sort_order:24},"🏢":{category:"Travel & Places",sheet_x:10,sheet_y:53,sort_order:25},"🏣":{category:"Travel & Places",sheet_x:10,sheet_y:54,sort_order:26},"🏤":{category:"Travel & Places",sheet_x:10,sheet_y:55,sort_order:27},"🏥":{category:"Travel & Places",sheet_x:10,sheet_y:56,sort_order:28},"🏦":{category:"Travel & Places",sheet_x:11,sheet_y:0,sort_order:29},"🏧":{category:"Symbols",sheet_x:11,sheet_y:1,sort_order:1},"🏨":{category:"Travel & Places",sheet_x:11,sheet_y:2,sort_order:30},"🏩":{category:"Travel & Places",sheet_x:11,sheet_y:3,sort_order:31},"🏪":{category:"Travel & Places",sheet_x:11,sheet_y:4,sort_order:32},"🏫":{category:"Travel & Places",sheet_x:11,sheet_y:5,sort_order:33},"🏬":{category:"Travel & Places",sheet_x:11,sheet_y:6,sort_order:34},"🏭":{category:"Travel & Places",sheet_x:11,sheet_y:7,sort_order:35},"🏮":{category:"Objects",sheet_x:11,sheet_y:8,sort_order:102},"🏯":{category:"Travel & Places",sheet_x:11,sheet_y:9,sort_order:36},"🏰":{category:"Travel & Places",sheet_x:11,sheet_y:10,sort_order:37},"🏳️‍🌈":{category:"Flags",sheet_x:11,sheet_y:11,sort_order:6},"🏳️":{category:"Flags",sheet_x:11,sheet_y:12,sort_order:5},"🏴‍☠️":{category:"Flags",sheet_x:11,sheet_y:13,sort_order:7},"🏴󠁧󠁢󠁥󠁮󠁧󠁿":{category:"Flags",sheet_x:11,sheet_y:14,sort_order:266},"🏴󠁧󠁢󠁳󠁣󠁴󠁿":{category:"Flags",sheet_x:11,sheet_y:15,sort_order:267},"🏴󠁧󠁢󠁷󠁬󠁳󠁿":{category:"Flags",sheet_x:11,sheet_y:16,sort_order:268},"🏴":{category:"Flags",sheet_x:11,sheet_y:17,sort_order:4},"🏵️":{category:"Animals & Nature",sheet_x:11,sheet_y:18,sort_order:109},"🏷️":{category:"Objects",sheet_x:11,sheet_y:19,sort_order:120},"🏸":{category:"Activities",sheet_x:11,sheet_y:20,sort_order:43},"🏹":{category:"Objects",sheet_x:11,sheet_y:21,sort_order:189},"🏺":{category:"Food & Drink",sheet_x:11,sheet_y:22,sort_order:121},"🏻":{category:"Skin Tones",sheet_x:11,sheet_y:23,sort_order:1},"🏼":{category:"Skin Tones",sheet_x:11,sheet_y:24,sort_order:2},"🏽":{category:"Skin Tones",sheet_x:11,sheet_y:25,sort_order:3},"🏾":{category:"Skin Tones",sheet_x:11,sheet_y:26,sort_order:4},"🏿":{category:"Skin Tones",sheet_x:11,sheet_y:27,sort_order:5},"🐀":{category:"Animals & Nature",sheet_x:11,sheet_y:28,sort_order:44},"🐁":{category:"Animals & Nature",sheet_x:11,sheet_y:29,sort_order:43},"🐂":{category:"Animals & Nature",sheet_x:11,sheet_y:30,sort_order:25},"🐃":{category:"Animals & Nature",sheet_x:11,sheet_y:31,sort_order:26},"🐄":{category:"Animals & Nature",sheet_x:11,sheet_y:32,sort_order:27},"🐅":{category:"Animals & Nature",sheet_x:11,sheet_y:33,sort_order:17},"🐆":{category:"Animals & Nature",sheet_x:11,sheet_y:34,sort_order:18},"🐇":{category:"Animals & Nature",sheet_x:11,sheet_y:35,sort_order:47},"🐈":{category:"Animals & Nature",sheet_x:11,sheet_y:36,sort_order:14},"🐉":{category:"Animals & Nature",sheet_x:11,sheet_y:37,sort_order:82},"🐊":{category:"Animals & Nature",sheet_x:11,sheet_y:38,sort_order:77},"🐋":{category:"Animals & Nature",sheet_x:11,sheet_y:39,sort_order:86},"🐌":{category:"Animals & Nature",sheet_x:11,sheet_y:40,sort_order:94},"🐍":{category:"Animals & Nature",sheet_x:11,sheet_y:41,sort_order:80},"🐎":{category:"Animals & Nature",sheet_x:11,sheet_y:42,sort_order:20},"🐏":{category:"Animals & Nature",sheet_x:11,sheet_y:43,sort_order:32},"🐐":{category:"Animals & Nature",sheet_x:11,sheet_y:44,sort_order:34},"🐑":{category:"Animals & Nature",sheet_x:11,sheet_y:45,sort_order:33},"🐒":{category:"Animals & Nature",sheet_x:11,sheet_y:46,sort_order:2},"🐓":{category:"Animals & Nature",sheet_x:11,sheet_y:47,sort_order:62},"🐔":{category:"Animals & Nature",sheet_x:11,sheet_y:48,sort_order:61},"🐕‍🦺":{category:"Animals & Nature",sheet_x:11,sheet_y:49,sort_order:8},"🐕":{category:"Animals & Nature",sheet_x:11,sheet_y:50,sort_order:6},"🐖":{category:"Animals & Nature",sheet_x:11,sheet_y:51,sort_order:29},"🐗":{category:"Animals & Nature",sheet_x:11,sheet_y:52,sort_order:30},"🐘":{category:"Animals & Nature",sheet_x:11,sheet_y:53,sort_order:39},"🐙":{category:"Animals & Nature",sheet_x:11,sheet_y:54,sort_order:92},"🐚":{category:"Animals & Nature",sheet_x:11,sheet_y:55,sort_order:93},"🐛":{category:"Animals & Nature",sheet_x:11,sheet_y:56,sort_order:96},"🐜":{category:"Animals & Nature",sheet_x:12,sheet_y:0,sort_order:97},"🐝":{category:"Animals & Nature",sheet_x:12,sheet_y:1,sort_order:98},"🐞":{category:"Animals & Nature",sheet_x:12,sheet_y:2,sort_order:99},"🐟":{category:"Animals & Nature",sheet_x:12,sheet_y:3,sort_order:88},"🐠":{category:"Animals & Nature",sheet_x:12,sheet_y:4,sort_order:89},"🐡":{category:"Animals & Nature",sheet_x:12,sheet_y:5,sort_order:90},"🐢":{category:"Animals & Nature",sheet_x:12,sheet_y:6,sort_order:78},"🐣":{category:"Animals & Nature",sheet_x:12,sheet_y:7,sort_order:63},"🐤":{category:"Animals & Nature",sheet_x:12,sheet_y:8,sort_order:64},"🐥":{category:"Animals & Nature",sheet_x:12,sheet_y:9,sort_order:65},"🐦":{category:"Animals & Nature",sheet_x:12,sheet_y:10,sort_order:66},"🐧":{category:"Animals & Nature",sheet_x:12,sheet_y:11,sort_order:67},"🐨":{category:"Animals & Nature",sheet_x:12,sheet_y:12,sort_order:52},"🐩":{category:"Animals & Nature",sheet_x:12,sheet_y:13,sort_order:9},"🐪":{category:"Animals & Nature",sheet_x:12,sheet_y:14,sort_order:35},"🐫":{category:"Animals & Nature",sheet_x:12,sheet_y:15,sort_order:36},"🐬":{category:"Animals & Nature",sheet_x:12,sheet_y:16,sort_order:87},"🐭":{category:"Animals & Nature",sheet_x:12,sheet_y:17,sort_order:42},"🐮":{category:"Animals & Nature",sheet_x:12,sheet_y:18,sort_order:24},"🐯":{category:"Animals & Nature",sheet_x:12,sheet_y:19,sort_order:16},"🐰":{category:"Animals & Nature",sheet_x:12,sheet_y:20,sort_order:46},"🐱":{category:"Animals & Nature",sheet_x:12,sheet_y:21,sort_order:13},"🐲":{category:"Animals & Nature",sheet_x:12,sheet_y:22,sort_order:81},"🐳":{category:"Animals & Nature",sheet_x:12,sheet_y:23,sort_order:85},"🐴":{category:"Animals & Nature",sheet_x:12,sheet_y:24,sort_order:19},"🐵":{category:"Animals & Nature",sheet_x:12,sheet_y:25,sort_order:1},"🐶":{category:"Animals & Nature",sheet_x:12,sheet_y:26,sort_order:5},"🐷":{category:"Animals & Nature",sheet_x:12,sheet_y:27,sort_order:28},"🐸":{category:"Animals & Nature",sheet_x:12,sheet_y:28,sort_order:76},"🐹":{category:"Animals & Nature",sheet_x:12,sheet_y:29,sort_order:45},"🐺":{category:"Animals & Nature",sheet_x:12,sheet_y:30,sort_order:10},"🐻":{category:"Animals & Nature",sheet_x:12,sheet_y:31,sort_order:51},"🐼":{category:"Animals & Nature",sheet_x:12,sheet_y:32,sort_order:53},"🐽":{category:"Animals & Nature",sheet_x:12,sheet_y:33,sort_order:31},"🐾":{category:"Animals & Nature",sheet_x:12,sheet_y:34,sort_order:59},"🐿️":{category:"Animals & Nature",sheet_x:12,sheet_y:35,sort_order:48},"👀":{category:"People & Body",sheet_x:12,sheet_y:36,sort_order:45},"👁️‍🗨️":{category:"Smileys & Emotion",sheet_x:12,sheet_y:37,sort_order:145},"👁️":{category:"People & Body",sheet_x:12,sheet_y:38,sort_order:46},"👂":{category:"People & Body",sheet_x:12,sheet_y:39,sort_order:39},"👃":{category:"People & Body",sheet_x:12,sheet_y:45,sort_order:41},"👄":{category:"People & Body",sheet_x:12,sheet_y:51,sort_order:48},"👅":{category:"People & Body",sheet_x:12,sheet_y:52,sort_order:47},"👆":{category:"People & Body",sheet_x:12,sheet_y:53,sort_order:15},"👇":{category:"People & Body",sheet_x:13,sheet_y:2,sort_order:17},"👈":{category:"People & Body",sheet_x:13,sheet_y:8,sort_order:13},"👉":{category:"People & Body",sheet_x:13,sheet_y:14,sort_order:14},"👊":{category:"People & Body",sheet_x:13,sheet_y:20,sort_order:22},"👋":{category:"People & Body",sheet_x:13,sheet_y:26,sort_order:1},"👌":{category:"People & Body",sheet_x:13,sheet_y:32,sort_order:6},"👍":{category:"People & Body",sheet_x:13,sheet_y:38,sort_order:19},"👎":{category:"People & Body",sheet_x:13,sheet_y:44,sort_order:20},"👏":{category:"People & Body",sheet_x:13,sheet_y:50,sort_order:25},"👐":{category:"People & Body",sheet_x:13,sheet_y:56,sort_order:27},"👑":{category:"Objects",sheet_x:14,sheet_y:5,sort_order:34},"👒":{category:"Objects",sheet_x:14,sheet_y:6,sort_order:35},"👓":{category:"Objects",sheet_x:14,sheet_y:7,sort_order:1},"👔":{category:"Objects",sheet_x:14,sheet_y:8,sort_order:6},"👕":{category:"Objects",sheet_x:14,sheet_y:9,sort_order:7},"👖":{category:"Objects",sheet_x:14,sheet_y:10,sort_order:8},"👗":{category:"Objects",sheet_x:14,sheet_y:11,sort_order:13},"👘":{category:"Objects",sheet_x:14,sheet_y:12,sort_order:14},"👙":{category:"Objects",sheet_x:14,sheet_y:13,sort_order:19},"👚":{category:"Objects",sheet_x:14,sheet_y:14,sort_order:20},"👛":{category:"Objects",sheet_x:14,sheet_y:15,sort_order:21},"👜":{category:"Objects",sheet_x:14,sheet_y:16,sort_order:22},"👝":{category:"Objects",sheet_x:14,sheet_y:17,sort_order:23},"👞":{category:"Objects",sheet_x:14,sheet_y:18,sort_order:26},"👟":{category:"Objects",sheet_x:14,sheet_y:19,sort_order:27},"👠":{category:"Objects",sheet_x:14,sheet_y:20,sort_order:30},"👡":{category:"Objects",sheet_x:14,sheet_y:21,sort_order:31},"👢":{category:"Objects",sheet_x:14,sheet_y:22,sort_order:33},"👣":{category:"People & Body",sheet_x:14,sheet_y:23,sort_order:334},"👤":{category:"People & Body",sheet_x:14,sheet_y:24,sort_order:332},"👥":{category:"People & Body",sheet_x:14,sheet_y:25,sort_order:333},"👦":{category:"People & Body",sheet_x:14,sheet_y:26,sort_order:51},"👧":{category:"People & Body",sheet_x:14,sheet_y:32,sort_order:52},"👨‍🌾":{category:"People & Body",sheet_x:14,sheet_y:38,sort_order:118},"👨‍🍳":{category:"People & Body",sheet_x:14,sheet_y:44,sort_order:121},"👨‍🎓":{category:"People & Body",sheet_x:14,sheet_y:50,sort_order:109},"👨‍🎤":{category:"People & Body",sheet_x:14,sheet_y:56,sort_order:139},"👨‍🎨":{category:"People & Body",sheet_x:15,sheet_y:5,sort_order:142},"👨‍🏫":{category:"People & Body",sheet_x:15,sheet_y:11,sort_order:112},"👨‍🏭":{category:"People & Body",sheet_x:15,sheet_y:17,sort_order:127},"👨‍👦‍👦":{category:"People & Body",sheet_x:15,sheet_y:23,sort_order:322},"👨‍👦":{category:"People & Body",sheet_x:15,sheet_y:24,sort_order:321},"👨‍👧‍👦":{category:"People & Body",sheet_x:15,sheet_y:25,sort_order:324},"👨‍👧‍👧":{category:"People & Body",sheet_x:15,sheet_y:26,sort_order:325},"👨‍👧":{category:"People & Body",sheet_x:15,sheet_y:27,sort_order:323},"👨‍👨‍👦":{category:"People & Body",sheet_x:15,sheet_y:28,sort_order:311},"👨‍👨‍👦‍👦":{category:"People & Body",sheet_x:15,sheet_y:29,sort_order:314},"👨‍👨‍👧":{category:"People & Body",sheet_x:15,sheet_y:30,sort_order:312},"👨‍👨‍👧‍👦":{category:"People & Body",sheet_x:15,sheet_y:31,sort_order:313},"👨‍👨‍👧‍👧":{category:"People & Body",sheet_x:15,sheet_y:32,sort_order:315},"👨‍👩‍👦":{category:"People & Body",sheet_x:15,sheet_y:33,sort_order:306},"👨‍👩‍👦‍👦":{category:"People & Body",sheet_x:15,sheet_y:34,sort_order:309},"👨‍👩‍👧":{category:"People & Body",sheet_x:15,sheet_y:35,sort_order:307},"👨‍👩‍👧‍👦":{category:"People & Body",sheet_x:15,sheet_y:36,sort_order:308},"👨‍👩‍👧‍👧":{category:"People & Body",sheet_x:15,sheet_y:37,sort_order:310},"👨‍💻":{category:"People & Body",sheet_x:15,sheet_y:38,sort_order:136},"👨‍💼":{category:"People & Body",sheet_x:15,sheet_y:44,sort_order:130},"👨‍🔧":{category:"People & Body",sheet_x:15,sheet_y:50,sort_order:124},"👨‍🔬":{category:"People & Body",sheet_x:15,sheet_y:56,sort_order:133},"👨‍🚀":{category:"People & Body",sheet_x:16,sheet_y:5,sort_order:148},"👨‍🚒":{category:"People & Body",sheet_x:16,sheet_y:11,sort_order:151},"👨‍🦯":{category:"People & Body",sheet_x:16,sheet_y:17,sort_order:222},"👨‍🦰":{category:"People & Body",sheet_x:16,sheet_y:23,sort_order:57},"👨‍🦱":{category:"People & Body",sheet_x:16,sheet_y:29,sort_order:58},"👨‍🦲":{category:"People & Body",sheet_x:16,sheet_y:35,sort_order:60},"👨‍🦳":{category:"People & Body",sheet_x:16,sheet_y:41,sort_order:59},"👨‍🦼":{category:"People & Body",sheet_x:16,sheet_y:47,sort_order:225},"👨‍🦽":{category:"People & Body",sheet_x:16,sheet_y:53,sort_order:228},"👨‍⚕️":{category:"People & Body",sheet_x:17,sheet_y:2,sort_order:106},"👨‍⚖️":{category:"People & Body",sheet_x:17,sheet_y:8,sort_order:115},"👨‍✈️":{category:"People & Body",sheet_x:17,sheet_y:14,sort_order:145},"👨‍❤️‍👨":{category:"People & Body",sheet_x:17,sheet_y:20,sort_order:303},"👨‍❤️‍💋‍👨":{category:"People & Body",sheet_x:17,sheet_y:21,sort_order:299},"👨":{category:"People & Body",sheet_x:17,sheet_y:22,sort_order:55},"👩‍🌾":{category:"People & Body",sheet_x:17,sheet_y:28,sort_order:119},"👩‍🍳":{category:"People & Body",sheet_x:17,sheet_y:34,sort_order:122},"👩‍🎓":{category:"People & Body",sheet_x:17,sheet_y:40,sort_order:110},"👩‍🎤":{category:"People & Body",sheet_x:17,sheet_y:46,sort_order:140},"👩‍🎨":{category:"People & Body",sheet_x:17,sheet_y:52,sort_order:143},"👩‍🏫":{category:"People & Body",sheet_x:18,sheet_y:1,sort_order:113},"👩‍🏭":{category:"People & Body",sheet_x:18,sheet_y:7,sort_order:128},"👩‍👦‍👦":{category:"People & Body",sheet_x:18,sheet_y:13,sort_order:327},"👩‍👦":{category:"People & Body",sheet_x:18,sheet_y:14,sort_order:326},"👩‍👧‍👦":{category:"People & Body",sheet_x:18,sheet_y:15,sort_order:329},"👩‍👧‍👧":{category:"People & Body",sheet_x:18,sheet_y:16,sort_order:330},"👩‍👧":{category:"People & Body",sheet_x:18,sheet_y:17,sort_order:328},"👩‍👩‍👦":{category:"People & Body",sheet_x:18,sheet_y:18,sort_order:316},"👩‍👩‍👦‍👦":{category:"People & Body",sheet_x:18,sheet_y:19,sort_order:319},"👩‍👩‍👧":{category:"People & Body",sheet_x:18,sheet_y:20,sort_order:317},"👩‍👩‍👧‍👦":{category:"People & Body",sheet_x:18,sheet_y:21,sort_order:318},"👩‍👩‍👧‍👧":{category:"People & Body",sheet_x:18,sheet_y:22,sort_order:320},"👩‍💻":{category:"People & Body",sheet_x:18,sheet_y:23,sort_order:137},"👩‍💼":{category:"People & Body",sheet_x:18,sheet_y:29,sort_order:131},"👩‍🔧":{category:"People & Body",sheet_x:18,sheet_y:35,sort_order:125},"👩‍🔬":{category:"People & Body",sheet_x:18,sheet_y:41,sort_order:134},"👩‍🚀":{category:"People & Body",sheet_x:18,sheet_y:47,sort_order:149},"👩‍🚒":{category:"People & Body",sheet_x:18,sheet_y:53,sort_order:152},"👩‍🦯":{category:"People & Body",sheet_x:19,sheet_y:2,sort_order:223},"👩‍🦰":{category:"People & Body",sheet_x:19,sheet_y:8,sort_order:62},"👩‍🦱":{category:"People & Body",sheet_x:19,sheet_y:14,sort_order:64},"👩‍🦲":{category:"People & Body",sheet_x:19,sheet_y:20,sort_order:68},"👩‍🦳":{category:"People & Body",sheet_x:19,sheet_y:26,sort_order:66},"👩‍🦼":{category:"People & Body",sheet_x:19,sheet_y:32,sort_order:226},"👩‍🦽":{category:"People & Body",sheet_x:19,sheet_y:38,sort_order:229},"👩‍⚕️":{category:"People & Body",sheet_x:19,sheet_y:44,sort_order:107},"👩‍⚖️":{category:"People & Body",sheet_x:19,sheet_y:50,sort_order:116},"👩‍✈️":{category:"People & Body",sheet_x:19,sheet_y:56,sort_order:146},"👩‍❤️‍👨":{category:"People & Body",sheet_x:20,sheet_y:5,sort_order:302},"👩‍❤️‍👩":{category:"People & Body",sheet_x:20,sheet_y:6,sort_order:304},"👩‍❤️‍💋‍👨":{category:"People & Body",sheet_x:20,sheet_y:7,sort_order:298},"👩‍❤️‍💋‍👩":{category:"People & Body",sheet_x:20,sheet_y:8,sort_order:300},"👩":{category:"People & Body",sheet_x:20,sheet_y:9,sort_order:61},"👪":{category:"People & Body",sheet_x:20,sheet_y:15,sort_order:305},"👫":{category:"People & Body",sheet_x:20,sheet_y:16,sort_order:295},"👬":{category:"People & Body",sheet_x:20,sheet_y:42,sort_order:296},"👭":{category:"People & Body",sheet_x:21,sheet_y:11,sort_order:294},"👮‍♀️":{category:"People & Body",sheet_x:21,sheet_y:37,sort_order:155},"👮‍♂️":{category:"People & Body",sheet_x:21,sheet_y:43,sort_order:154},"👮":{category:"People & Body",sheet_x:21,sheet_y:49,sort_order:153},"👯‍♀️":{category:"People & Body",sheet_x:21,sheet_y:55,sort_order:238},"👯‍♂️":{category:"People & Body",sheet_x:21,sheet_y:56,sort_order:237},"👯":{category:"People & Body",sheet_x:22,sheet_y:0,sort_order:236},"👰":{category:"People & Body",sheet_x:22,sheet_y:1,sort_order:173},"👱‍♀️":{category:"People & Body",sheet_x:22,sheet_y:7,sort_order:70},"👱‍♂️":{category:"People & Body",sheet_x:22,sheet_y:13,sort_order:71},"👱":{category:"People & Body",sheet_x:22,sheet_y:19,sort_order:54},"👲":{category:"People & Body",sheet_x:22,sheet_y:25,sort_order:170},"👳‍♀️":{category:"People & Body",sheet_x:22,sheet_y:31,sort_order:169},"👳‍♂️":{category:"People & Body",sheet_x:22,sheet_y:37,sort_order:168},"👳":{category:"People & Body",sheet_x:22,sheet_y:43,sort_order:167},"👴":{category:"People & Body",sheet_x:22,sheet_y:49,sort_order:73},"👵":{category:"People & Body",sheet_x:22,sheet_y:55,sort_order:74},"👶":{category:"People & Body",sheet_x:23,sheet_y:4,sort_order:49},"👷‍♀️":{category:"People & Body",sheet_x:23,sheet_y:10,sort_order:164},"👷‍♂️":{category:"People & Body",sheet_x:23,sheet_y:16,sort_order:163},"👷":{category:"People & Body",sheet_x:23,sheet_y:22,sort_order:162},"👸":{category:"People & Body",sheet_x:23,sheet_y:28,sort_order:166},"👹":{category:"Smileys & Emotion",sheet_x:23,sheet_y:34,sort_order:97},"👺":{category:"Smileys & Emotion",sheet_x:23,sheet_y:35,sort_order:98},"👻":{category:"Smileys & Emotion",sheet_x:23,sheet_y:36,sort_order:99},"👼":{category:"People & Body",sheet_x:23,sheet_y:37,sort_order:176},"👽":{category:"Smileys & Emotion",sheet_x:23,sheet_y:43,sort_order:100},"👾":{category:"Smileys & Emotion",sheet_x:23,sheet_y:44,sort_order:101},"👿":{category:"Smileys & Emotion",sheet_x:23,sheet_y:45,sort_order:92},"💀":{category:"Smileys & Emotion",sheet_x:23,sheet_y:46,sort_order:93},"💁‍♀️":{category:"People & Body",sheet_x:23,sheet_y:47,sort_order:89},"💁‍♂️":{category:"People & Body",sheet_x:23,sheet_y:53,sort_order:88},"💁":{category:"People & Body",sheet_x:24,sheet_y:2,sort_order:87},"💂‍♀️":{category:"People & Body",sheet_x:24,sheet_y:8,sort_order:161},"💂‍♂️":{category:"People & Body",sheet_x:24,sheet_y:14,sort_order:160},"💂":{category:"People & Body",sheet_x:24,sheet_y:20,sort_order:159},"💃":{category:"People & Body",sheet_x:24,sheet_y:26,sort_order:233},"💄":{category:"Objects",sheet_x:24,sheet_y:32,sort_order:41},"💅":{category:"People & Body",sheet_x:24,sheet_y:33,sort_order:32},"💆‍♀️":{category:"People & Body",sheet_x:24,sheet_y:39,sort_order:208},"💆‍♂️":{category:"People & Body",sheet_x:24,sheet_y:45,sort_order:207},"💆":{category:"People & Body",sheet_x:24,sheet_y:51,sort_order:206},"💇‍♀️":{category:"People & Body",sheet_x:25,sheet_y:0,sort_order:211},"💇‍♂️":{category:"People & Body",sheet_x:25,sheet_y:6,sort_order:210},"💇":{category:"People & Body",sheet_x:25,sheet_y:12,sort_order:209},"💈":{category:"Travel & Places",sheet_x:25,sheet_y:18,sort_order:61},"💉":{category:"Objects",sheet_x:25,sheet_y:19,sort_order:208},"💊":{category:"Objects",sheet_x:25,sheet_y:20,sort_order:210},"💋":{category:"Smileys & Emotion",sheet_x:25,sheet_y:21,sort_order:115},"💌":{category:"Smileys & Emotion",sheet_x:25,sheet_y:22,sort_order:116},"💍":{category:"Objects",sheet_x:25,sheet_y:23,sort_order:42},"💎":{category:"Objects",sheet_x:25,sheet_y:24,sort_order:43},"💏":{category:"People & Body",sheet_x:25,sheet_y:25,sort_order:297},"💐":{category:"Animals & Nature",sheet_x:25,sheet_y:26,sort_order:106},"💑":{category:"People & Body",sheet_x:25,sheet_y:27,sort_order:301},"💒":{category:"Travel & Places",sheet_x:25,sheet_y:28,sort_order:38},"💓":{category:"Smileys & Emotion",sheet_x:25,sheet_y:29,sort_order:121},"💔":{category:"Smileys & Emotion",sheet_x:25,sheet_y:30,sort_order:126},"💕":{category:"Smileys & Emotion",sheet_x:25,sheet_y:31,sort_order:123},"💖":{category:"Smileys & Emotion",sheet_x:25,sheet_y:32,sort_order:119},"💗":{category:"Smileys & Emotion",sheet_x:25,sheet_y:33,sort_order:120},"💘":{category:"Smileys & Emotion",sheet_x:25,sheet_y:34,sort_order:117},"💙":{category:"Smileys & Emotion",sheet_x:25,sheet_y:35,sort_order:131},"💚":{category:"Smileys & Emotion",sheet_x:25,sheet_y:36,sort_order:130},"💛":{category:"Smileys & Emotion",sheet_x:25,sheet_y:37,sort_order:129},"💜":{category:"Smileys & Emotion",sheet_x:25,sheet_y:38,sort_order:132},"💝":{category:"Smileys & Emotion",sheet_x:25,sheet_y:39,sort_order:118},"💞":{category:"Smileys & Emotion",sheet_x:25,sheet_y:40,sort_order:122},"💟":{category:"Smileys & Emotion",sheet_x:25,sheet_y:41,sort_order:124},"💠":{category:"Symbols",sheet_x:25,sheet_y:42,sort_order:214},"💡":{category:"Objects",sheet_x:25,sheet_y:43,sort_order:100},"💢":{category:"Smileys & Emotion",sheet_x:25,sheet_y:44,sort_order:137},"💣":{category:"Smileys & Emotion",sheet_x:25,sheet_y:45,sort_order:143},"💤":{category:"Smileys & Emotion",sheet_x:25,sheet_y:46,sort_order:149},"💥":{category:"Smileys & Emotion",sheet_x:25,sheet_y:47,sort_order:138},"💦":{category:"Smileys & Emotion",sheet_x:25,sheet_y:48,sort_order:140},"💧":{category:"Travel & Places",sheet_x:25,sheet_y:49,sort_order:209},"💨":{category:"Smileys & Emotion",sheet_x:25,sheet_y:50,sort_order:141},"💩":{category:"Smileys & Emotion",sheet_x:25,sheet_y:51,sort_order:95},"💪":{category:"People & Body",sheet_x:25,sheet_y:52,sort_order:34},"💫":{category:"Smileys & Emotion",sheet_x:26,sheet_y:1,sort_order:139},"💬":{category:"Smileys & Emotion",sheet_x:26,sheet_y:2,sort_order:144},"💭":{category:"Smileys & Emotion",sheet_x:26,sheet_y:3,sort_order:148},"💮":{category:"Animals & Nature",sheet_x:26,sheet_y:4,sort_order:108},"💯":{category:"Smileys & Emotion",sheet_x:26,sheet_y:5,sort_order:136},"💰":{category:"Objects",sheet_x:26,sheet_y:6,sort_order:121},"💱":{category:"Objects",sheet_x:26,sheet_y:7,sort_order:130},"💲":{category:"Objects",sheet_x:26,sheet_y:8,sort_order:131},"💳":{category:"Objects",sheet_x:26,sheet_y:9,sort_order:127},"💴":{category:"Objects",sheet_x:26,sheet_y:10,sort_order:122},"💵":{category:"Objects",sheet_x:26,sheet_y:11,sort_order:123},"💶":{category:"Objects",sheet_x:26,sheet_y:12,sort_order:124},"💷":{category:"Objects",sheet_x:26,sheet_y:13,sort_order:125},"💸":{category:"Objects",sheet_x:26,sheet_y:14,sort_order:126},"💹":{category:"Objects",sheet_x:26,sheet_y:15,sort_order:129},"💺":{category:"Travel & Places",sheet_x:26,sheet_y:16,sort_order:123},"💻":{category:"Objects",sheet_x:26,sheet_y:17,sort_order:77},"💼":{category:"Objects",sheet_x:26,sheet_y:18,sort_order:152},"💽":{category:"Objects",sheet_x:26,sheet_y:19,sort_order:83},"💾":{category:"Objects",sheet_x:26,sheet_y:20,sort_order:84},"💿":{category:"Objects",sheet_x:26,sheet_y:21,sort_order:85},"📀":{category:"Objects",sheet_x:26,sheet_y:22,sort_order:86},"📁":{category:"Objects",sheet_x:26,sheet_y:23,sort_order:153},"📂":{category:"Objects",sheet_x:26,sheet_y:24,sort_order:154},"📃":{category:"Objects",sheet_x:26,sheet_y:25,sort_order:113},"📄":{category:"Objects",sheet_x:26,sheet_y:26,sort_order:115},"📅":{category:"Objects",sheet_x:26,sheet_y:27,sort_order:156},"📆":{category:"Objects",sheet_x:26,sheet_y:28,sort_order:157},"📇":{category:"Objects",sheet_x:26,sheet_y:29,sort_order:160},"📈":{category:"Objects",sheet_x:26,sheet_y:30,sort_order:161},"📉":{category:"Objects",sheet_x:26,sheet_y:31,sort_order:162},"📊":{category:"Objects",sheet_x:26,sheet_y:32,sort_order:163},"📋":{category:"Objects",sheet_x:26,sheet_y:33,sort_order:164},"📌":{category:"Objects",sheet_x:26,sheet_y:34,sort_order:165},"📍":{category:"Objects",sheet_x:26,sheet_y:35,sort_order:166},"📎":{category:"Objects",sheet_x:26,sheet_y:36,sort_order:167},"📏":{category:"Objects",sheet_x:26,sheet_y:37,sort_order:169},"📐":{category:"Objects",sheet_x:26,sheet_y:38,sort_order:170},"📑":{category:"Objects",sheet_x:26,sheet_y:39,sort_order:118},"📒":{category:"Objects",sheet_x:26,sheet_y:40,sort_order:112},"📓":{category:"Objects",sheet_x:26,sheet_y:41,sort_order:111},"📔":{category:"Objects",sheet_x:26,sheet_y:42,sort_order:104},"📕":{category:"Objects",sheet_x:26,sheet_y:43,sort_order:105},"📖":{category:"Objects",sheet_x:26,sheet_y:44,sort_order:106},"📗":{category:"Objects",sheet_x:26,sheet_y:45,sort_order:107},"📘":{category:"Objects",sheet_x:26,sheet_y:46,sort_order:108},"📙":{category:"Objects",sheet_x:26,sheet_y:47,sort_order:109},"📚":{category:"Objects",sheet_x:26,sheet_y:48,sort_order:110},"📛":{category:"Symbols",sheet_x:26,sheet_y:49,sort_order:104},"📜":{category:"Objects",sheet_x:26,sheet_y:50,sort_order:114},"📝":{category:"Objects",sheet_x:26,sheet_y:51,sort_order:151},"📞":{category:"Objects",sheet_x:26,sheet_y:52,sort_order:72},"📟":{category:"Objects",sheet_x:26,sheet_y:53,sort_order:73},"📠":{category:"Objects",sheet_x:26,sheet_y:54,sort_order:74},"📡":{category:"Objects",sheet_x:26,sheet_y:55,sort_order:207},"📢":{category:"Objects",sheet_x:26,sheet_y:56,sort_order:48},"📣":{category:"Objects",sheet_x:27,sheet_y:0,sort_order:49},"📤":{category:"Objects",sheet_x:27,sheet_y:1,sort_order:136},"📥":{category:"Objects",sheet_x:27,sheet_y:2,sort_order:137},"📦":{category:"Objects",sheet_x:27,sheet_y:3,sort_order:138},"📧":{category:"Objects",sheet_x:27,sheet_y:4,sort_order:133},"📨":{category:"Objects",sheet_x:27,sheet_y:5,sort_order:134},"📩":{category:"Objects",sheet_x:27,sheet_y:6,sort_order:135},"📪":{category:"Objects",sheet_x:27,sheet_y:7,sort_order:140},"📫":{category:"Objects",sheet_x:27,sheet_y:8,sort_order:139},"📬":{category:"Objects",sheet_x:27,sheet_y:9,sort_order:141},"📭":{category:"Objects",sheet_x:27,sheet_y:10,sort_order:142},"📮":{category:"Objects",sheet_x:27,sheet_y:11,sort_order:143},"📯":{category:"Objects",sheet_x:27,sheet_y:12,sort_order:50},"📰":{category:"Objects",sheet_x:27,sheet_y:13,sort_order:116},"📱":{category:"Objects",sheet_x:27,sheet_y:14,sort_order:69},"📲":{category:"Objects",sheet_x:27,sheet_y:15,sort_order:70},"📳":{category:"Symbols",sheet_x:27,sheet_y:16,sort_order:95},"📴":{category:"Symbols",sheet_x:27,sheet_y:17,sort_order:96},"📵":{category:"Symbols",sheet_x:27,sheet_y:18,sort_order:23},"📶":{category:"Symbols",sheet_x:27,sheet_y:19,sort_order:94},"📷":{category:"Objects",sheet_x:27,sheet_y:20,sort_order:93},"📸":{category:"Objects",sheet_x:27,sheet_y:21,sort_order:94},"📹":{category:"Objects",sheet_x:27,sheet_y:22,sort_order:95},"📺":{category:"Objects",sheet_x:27,sheet_y:23,sort_order:92},"📻":{category:"Objects",sheet_x:27,sheet_y:24,sort_order:61},"📼":{category:"Objects",sheet_x:27,sheet_y:25,sort_order:96},"📽️":{category:"Objects",sheet_x:27,sheet_y:26,sort_order:90},"📿":{category:"Objects",sheet_x:27,sheet_y:27,sort_order:40},"🔀":{category:"Symbols",sheet_x:27,sheet_y:28,sort_order:73},"🔁":{category:"Symbols",sheet_x:27,sheet_y:29,sort_order:74},"🔂":{category:"Symbols",sheet_x:27,sheet_y:30,sort_order:75},"🔃":{category:"Symbols",sheet_x:27,sheet_y:31,sort_order:41},"🔄":{category:"Symbols",sheet_x:27,sheet_y:32,sort_order:42},"🔅":{category:"Symbols",sheet_x:27,sheet_y:33,sort_order:92},"🔆":{category:"Symbols",sheet_x:27,sheet_y:34,sort_order:93},"🔇":{category:"Objects",sheet_x:27,sheet_y:35,sort_order:44},"🔈":{category:"Objects",sheet_x:27,sheet_y:36,sort_order:45},"🔉":{category:"Objects",sheet_x:27,sheet_y:37,sort_order:46},"🔊":{category:"Objects",sheet_x:27,sheet_y:38,sort_order:47},"🔋":{category:"Objects",sheet_x:27,sheet_y:39,sort_order:75},"🔌":{category:"Objects",sheet_x:27,sheet_y:40,sort_order:76},"🔍":{category:"Objects",sheet_x:27,sheet_y:41,sort_order:97},"🔎":{category:"Objects",sheet_x:27,sheet_y:42,sort_order:98},"🔏":{category:"Objects",sheet_x:27,sheet_y:43,sort_order:177},"🔐":{category:"Objects",sheet_x:27,sheet_y:44,sort_order:178},"🔑":{category:"Objects",sheet_x:27,sheet_y:45,sort_order:179},"🔒":{category:"Objects",sheet_x:27,sheet_y:46,sort_order:175},"🔓":{category:"Objects",sheet_x:27,sheet_y:47,sort_order:176},"🔔":{category:"Objects",sheet_x:27,sheet_y:48,sort_order:51},"🔕":{category:"Objects",sheet_x:27,sheet_y:49,sort_order:52},"🔖":{category:"Objects",sheet_x:27,sheet_y:50,sort_order:119},"🔗":{category:"Objects",sheet_x:27,sheet_y:51,sort_order:197},"🔘":{category:"Symbols",sheet_x:27,sheet_y:52,sort_order:215},"🔙":{category:"Symbols",sheet_x:27,sheet_y:53,sort_order:43},"🔚":{category:"Symbols",sheet_x:27,sheet_y:54,sort_order:44},"🔛":{category:"Symbols",sheet_x:27,sheet_y:55,sort_order:45},"🔜":{category:"Symbols",sheet_x:27,sheet_y:56,sort_order:46},"🔝":{category:"Symbols",sheet_x:28,sheet_y:0,sort_order:47},"🔞":{category:"Symbols",sheet_x:28,sheet_y:1,sort_order:24},"🔟":{category:"Symbols",sheet_x:28,sheet_y:2,sort_order:144},"🔠":{category:"Symbols",sheet_x:28,sheet_y:3,sort_order:145},"🔡":{category:"Symbols",sheet_x:28,sheet_y:4,sort_order:146},"🔢":{category:"Symbols",sheet_x:28,sheet_y:5,sort_order:147},"🔣":{category:"Symbols",sheet_x:28,sheet_y:6,sort_order:148},"🔤":{category:"Symbols",sheet_x:28,sheet_y:7,sort_order:149},"🔥":{category:"Travel & Places",sheet_x:28,sheet_y:8,sort_order:208},"🔦":{category:"Objects",sheet_x:28,sheet_y:9,sort_order:101},"🔧":{category:"Objects",sheet_x:28,sheet_y:10,sort_order:191},"🔨":{category:"Objects",sheet_x:28,sheet_y:11,sort_order:181},"🔩":{category:"Objects",sheet_x:28,sheet_y:12,sort_order:192},"🔪":{category:"Food & Drink",sheet_x:28,sheet_y:13,sort_order:120},"🔫":{category:"Objects",sheet_x:28,sheet_y:14,sort_order:188},"🔬":{category:"Objects",sheet_x:28,sheet_y:15,sort_order:205},"🔭":{category:"Objects",sheet_x:28,sheet_y:16,sort_order:206},"🔮":{category:"Activities",sheet_x:28,sheet_y:17,sort_order:59},"🔯":{category:"Symbols",sheet_x:28,sheet_y:18,sort_order:59},"🔰":{category:"Symbols",sheet_x:28,sheet_y:19,sort_order:105},"🔱":{category:"Symbols",sheet_x:28,sheet_y:20,sort_order:103},"🔲":{category:"Symbols",sheet_x:28,sheet_y:21,sort_order:217},"🔳":{category:"Symbols",sheet_x:28,sheet_y:22,sort_order:216},"🔴":{category:"Symbols",sheet_x:28,sheet_y:23,sort_order:184},"🔵":{category:"Symbols",sheet_x:28,sheet_y:24,sort_order:188},"🔶":{category:"Symbols",sheet_x:28,sheet_y:25,sort_order:208},"🔷":{category:"Symbols",sheet_x:28,sheet_y:26,sort_order:209},"🔸":{category:"Symbols",sheet_x:28,sheet_y:27,sort_order:210},"🔹":{category:"Symbols",sheet_x:28,sheet_y:28,sort_order:211},"🔺":{category:"Symbols",sheet_x:28,sheet_y:29,sort_order:212},"🔻":{category:"Symbols",sheet_x:28,sheet_y:30,sort_order:213},"🔼":{category:"Symbols",sheet_x:28,sheet_y:31,sort_order:83},"🔽":{category:"Symbols",sheet_x:28,sheet_y:32,sort_order:85},"🕉️":{category:"Symbols",sheet_x:28,sheet_y:33,sort_order:50},"🕊️":{category:"Animals & Nature",sheet_x:28,sheet_y:34,sort_order:68},"🕋":{category:"Travel & Places",sheet_x:28,sheet_y:35,sort_order:46},"🕌":{category:"Travel & Places",sheet_x:28,sheet_y:36,sort_order:42},"🕍":{category:"Travel & Places",sheet_x:28,sheet_y:37,sort_order:44},"🕎":{category:"Symbols",sheet_x:28,sheet_y:38,sort_order:58},"🕐":{category:"Travel & Places",sheet_x:28,sheet_y:39,sort_order:142},"🕑":{category:"Travel & Places",sheet_x:28,sheet_y:40,sort_order:144},"🕒":{category:"Travel & Places",sheet_x:28,sheet_y:41,sort_order:146},"🕓":{category:"Travel & Places",sheet_x:28,sheet_y:42,sort_order:148},"🕔":{category:"Travel & Places",sheet_x:28,sheet_y:43,sort_order:150},"🕕":{category:"Travel & Places",sheet_x:28,sheet_y:44,sort_order:152},"🕖":{category:"Travel & Places",sheet_x:28,sheet_y:45,sort_order:154},"🕗":{category:"Travel & Places",sheet_x:28,sheet_y:46,sort_order:156},"🕘":{category:"Travel & Places",sheet_x:28,sheet_y:47,sort_order:158},"🕙":{category:"Travel & Places",sheet_x:28,sheet_y:48,sort_order:160},"🕚":{category:"Travel & Places",sheet_x:28,sheet_y:49,sort_order:162},"🕛":{category:"Travel & Places",sheet_x:28,sheet_y:50,sort_order:140},"🕜":{category:"Travel & Places",sheet_x:28,sheet_y:51,sort_order:143},"🕝":{category:"Travel & Places",sheet_x:28,sheet_y:52,sort_order:145},"🕞":{category:"Travel & Places",sheet_x:28,sheet_y:53,sort_order:147},"🕟":{category:"Travel & Places",sheet_x:28,sheet_y:54,sort_order:149},"🕠":{category:"Travel & Places",sheet_x:28,sheet_y:55,sort_order:151},"🕡":{category:"Travel & Places",sheet_x:28,sheet_y:56,sort_order:153},"🕢":{category:"Travel & Places",sheet_x:29,sheet_y:0,sort_order:155},"🕣":{category:"Travel & Places",sheet_x:29,sheet_y:1,sort_order:157},"🕤":{category:"Travel & Places",sheet_x:29,sheet_y:2,sort_order:159},"🕥":{category:"Travel & Places",sheet_x:29,sheet_y:3,sort_order:161},"🕦":{category:"Travel & Places",sheet_x:29,sheet_y:4,sort_order:163},"🕧":{category:"Travel & Places",sheet_x:29,sheet_y:5,sort_order:141},"🕯️":{category:"Objects",sheet_x:29,sheet_y:6,sort_order:99},"🕰️":{category:"Travel & Places",sheet_x:29,sheet_y:7,sort_order:139},"🕳️":{category:"Smileys & Emotion",sheet_x:29,sheet_y:8,sort_order:142},"🕴️":{category:"People & Body",sheet_x:29,sheet_y:9,sort_order:235},"🕵️‍♀️":{category:"People & Body",sheet_x:29,sheet_y:15,sort_order:158},"🕵️‍♂️":{category:"People & Body",sheet_x:29,sheet_y:21,sort_order:157},"🕵️":{category:"People & Body",sheet_x:29,sheet_y:27,sort_order:156},"🕶️":{category:"Objects",sheet_x:29,sheet_y:33,sort_order:2},"🕷️":{category:"Animals & Nature",sheet_x:29,sheet_y:34,sort_order:101},"🕸️":{category:"Animals & Nature",sheet_x:29,sheet_y:35,sort_order:102},"🕹️":{category:"Activities",sheet_x:29,sheet_y:36,sort_order:62},"🕺":{category:"People & Body",sheet_x:29,sheet_y:37,sort_order:234},"🖇️":{category:"Objects",sheet_x:29,sheet_y:43,sort_order:168},"🖊️":{category:"Objects",sheet_x:29,sheet_y:44,sort_order:148},"🖋️":{category:"Objects",sheet_x:29,sheet_y:45,sort_order:147},"🖌️":{category:"Objects",sheet_x:29,sheet_y:46,sort_order:149},"🖍️":{category:"Objects",sheet_x:29,sheet_y:47,sort_order:150},"🖐️":{category:"People & Body",sheet_x:29,sheet_y:48,sort_order:3},"🖕":{category:"People & Body",sheet_x:29,sheet_y:54,sort_order:16},"🖖":{category:"People & Body",sheet_x:30,sheet_y:3,sort_order:5},"🖤":{category:"Smileys & Emotion",sheet_x:30,sheet_y:9,sort_order:134},"🖥️":{category:"Objects",sheet_x:30,sheet_y:10,sort_order:78},"🖨️":{category:"Objects",sheet_x:30,sheet_y:11,sort_order:79},"🖱️":{category:"Objects",sheet_x:30,sheet_y:12,sort_order:81},"🖲️":{category:"Objects",sheet_x:30,sheet_y:13,sort_order:82},"🖼️":{category:"Activities",sheet_x:30,sheet_y:14,sort_order:76},"🗂️":{category:"Objects",sheet_x:30,sheet_y:15,sort_order:155},"🗃️":{category:"Objects",sheet_x:30,sheet_y:16,sort_order:172},"🗄️":{category:"Objects",sheet_x:30,sheet_y:17,sort_order:173},"🗑️":{category:"Objects",sheet_x:30,sheet_y:18,sort_order:174},"🗒️":{category:"Objects",sheet_x:30,sheet_y:19,sort_order:158},"🗓️":{category:"Objects",sheet_x:30,sheet_y:20,sort_order:159},"🗜️":{category:"Objects",sheet_x:30,sheet_y:21,sort_order:194},"🗝️":{category:"Objects",sheet_x:30,sheet_y:22,sort_order:180},"🗞️":{category:"Objects",sheet_x:30,sheet_y:23,sort_order:117},"🗡️":{category:"Objects",sheet_x:30,sheet_y:24,sort_order:186},"🗣️":{category:"People & Body",sheet_x:30,sheet_y:25,sort_order:331},"🗨️":{category:"Smileys & Emotion",sheet_x:30,sheet_y:26,sort_order:146},"🗯️":{category:"Smileys & Emotion",sheet_x:30,sheet_y:27,sort_order:147},"🗳️":{category:"Objects",sheet_x:30,sheet_y:28,sort_order:144},"🗺️":{category:"Travel & Places",sheet_x:30,sheet_y:29,sort_order:5},"🗻":{category:"Travel & Places",sheet_x:30,sheet_y:30,sort_order:11},"🗼":{category:"Travel & Places",sheet_x:30,sheet_y:31,sort_order:39},"🗽":{category:"Travel & Places",sheet_x:30,sheet_y:32,sort_order:40},"🗾":{category:"Travel & Places",sheet_x:30,sheet_y:33,sort_order:6},"🗿":{category:"Objects",sheet_x:30,sheet_y:34,sort_order:233},"😀":{category:"Smileys & Emotion",sheet_x:30,sheet_y:35,sort_order:1},"😁":{category:"Smileys & Emotion",sheet_x:30,sheet_y:36,sort_order:4},"😂":{category:"Smileys & Emotion",sheet_x:30,sheet_y:37,sort_order:8},"😃":{category:"Smileys & Emotion",sheet_x:30,sheet_y:38,sort_order:2},"😄":{category:"Smileys & Emotion",sheet_x:30,sheet_y:39,sort_order:3},"😅":{category:"Smileys & Emotion",sheet_x:30,sheet_y:40,sort_order:6},"😆":{category:"Smileys & Emotion",sheet_x:30,sheet_y:41,sort_order:5},"😇":{category:"Smileys & Emotion",sheet_x:30,sheet_y:42,sort_order:13},"😈":{category:"Smileys & Emotion",sheet_x:30,sheet_y:43,sort_order:91},"😉":{category:"Smileys & Emotion",sheet_x:30,sheet_y:44,sort_order:11},"😊":{category:"Smileys & Emotion",sheet_x:30,sheet_y:45,sort_order:12},"😋":{category:"Smileys & Emotion",sheet_x:30,sheet_y:46,sort_order:22},"😌":{category:"Smileys & Emotion",sheet_x:30,sheet_y:47,sort_order:42},"😍":{category:"Smileys & Emotion",sheet_x:30,sheet_y:48,sort_order:15},"😎":{category:"Smileys & Emotion",sheet_x:30,sheet_y:49,sort_order:60},"😏":{category:"Smileys & Emotion",sheet_x:30,sheet_y:50,sort_order:37},"😐":{category:"Smileys & Emotion",sheet_x:30,sheet_y:51,sort_order:34},"😑":{category:"Smileys & Emotion",sheet_x:30,sheet_y:52,sort_order:35},"😒":{category:"Smileys & Emotion",sheet_x:30,sheet_y:53,sort_order:38},"😓":{category:"Smileys & Emotion",sheet_x:30,sheet_y:54,sort_order:83},"😔":{category:"Smileys & Emotion",sheet_x:30,sheet_y:55,sort_order:43},"😕":{category:"Smileys & Emotion",sheet_x:30,sheet_y:56,sort_order:63},"😖":{category:"Smileys & Emotion",sheet_x:31,sheet_y:0,sort_order:80},"😗":{category:"Smileys & Emotion",sheet_x:31,sheet_y:1,sort_order:18},"😘":{category:"Smileys & Emotion",sheet_x:31,sheet_y:2,sort_order:17},"😙":{category:"Smileys & Emotion",sheet_x:31,sheet_y:3,sort_order:21},"😚":{category:"Smileys & Emotion",sheet_x:31,sheet_y:4,sort_order:20},"😛":{category:"Smileys & Emotion",sheet_x:31,sheet_y:5,sort_order:23},"😜":{category:"Smileys & Emotion",sheet_x:31,sheet_y:6,sort_order:24},"😝":{category:"Smileys & Emotion",sheet_x:31,sheet_y:7,sort_order:26},"😞":{category:"Smileys & Emotion",sheet_x:31,sheet_y:8,sort_order:82},"😟":{category:"Smileys & Emotion",sheet_x:31,sheet_y:9,sort_order:64},"😠":{category:"Smileys & Emotion",sheet_x:31,sheet_y:10,sort_order:89},"😡":{category:"Smileys & Emotion",sheet_x:31,sheet_y:11,sort_order:88},"😢":{category:"Smileys & Emotion",sheet_x:31,sheet_y:12,sort_order:77},"😣":{category:"Smileys & Emotion",sheet_x:31,sheet_y:13,sort_order:81},"😤":{category:"Smileys & Emotion",sheet_x:31,sheet_y:14,sort_order:87},"😥":{category:"Smileys & Emotion",sheet_x:31,sheet_y:15,sort_order:76},"😦":{category:"Smileys & Emotion",sheet_x:31,sheet_y:16,sort_order:72},"😧":{category:"Smileys & Emotion",sheet_x:31,sheet_y:17,sort_order:73},"😨":{category:"Smileys & Emotion",sheet_x:31,sheet_y:18,sort_order:74},"😩":{category:"Smileys & Emotion",sheet_x:31,sheet_y:19,sort_order:84},"😪":{category:"Smileys & Emotion",sheet_x:31,sheet_y:20,sort_order:44},"😫":{category:"Smileys & Emotion",sheet_x:31,sheet_y:21,sort_order:85},"😬":{category:"Smileys & Emotion",sheet_x:31,sheet_y:22,sort_order:40},"😭":{category:"Smileys & Emotion",sheet_x:31,sheet_y:23,sort_order:78},"😮":{category:"Smileys & Emotion",sheet_x:31,sheet_y:24,sort_order:67},"😯":{category:"Smileys & Emotion",sheet_x:31,sheet_y:25,sort_order:68},"😰":{category:"Smileys & Emotion",sheet_x:31,sheet_y:26,sort_order:75},"😱":{category:"Smileys & Emotion",sheet_x:31,sheet_y:27,sort_order:79},"😲":{category:"Smileys & Emotion",sheet_x:31,sheet_y:28,sort_order:69},"😳":{category:"Smileys & Emotion",sheet_x:31,sheet_y:29,sort_order:70},"😴":{category:"Smileys & Emotion",sheet_x:31,sheet_y:30,sort_order:46},"😵":{category:"Smileys & Emotion",sheet_x:31,sheet_y:31,sort_order:56},"😶":{category:"Smileys & Emotion",sheet_x:31,sheet_y:32,sort_order:36},"😷":{category:"Smileys & Emotion",sheet_x:31,sheet_y:33,sort_order:47},"😸":{category:"Smileys & Emotion",sheet_x:31,sheet_y:34,sort_order:104},"😹":{category:"Smileys & Emotion",sheet_x:31,sheet_y:35,sort_order:105},"😺":{category:"Smileys & Emotion",sheet_x:31,sheet_y:36,sort_order:103},"😻":{category:"Smileys & Emotion",sheet_x:31,sheet_y:37,sort_order:106},"😼":{category:"Smileys & Emotion",sheet_x:31,sheet_y:38,sort_order:107},"😽":{category:"Smileys & Emotion",sheet_x:31,sheet_y:39,sort_order:108},"😾":{category:"Smileys & Emotion",sheet_x:31,sheet_y:40,sort_order:111},"😿":{category:"Smileys & Emotion",sheet_x:31,sheet_y:41,sort_order:110},"🙀":{category:"Smileys & Emotion",sheet_x:31,sheet_y:42,sort_order:109},"🙁":{category:"Smileys & Emotion",sheet_x:31,sheet_y:43,sort_order:65},"🙂":{category:"Smileys & Emotion",sheet_x:31,sheet_y:44,sort_order:9},"🙃":{category:"Smileys & Emotion",sheet_x:31,sheet_y:45,sort_order:10},"🙄":{category:"Smileys & Emotion",sheet_x:31,sheet_y:46,sort_order:39},"🙅‍♀️":{category:"People & Body",sheet_x:31,sheet_y:47,sort_order:83},"🙅‍♂️":{category:"People & Body",sheet_x:31,sheet_y:53,sort_order:82},"🙅":{category:"People & Body",sheet_x:32,sheet_y:2,sort_order:81},"🙆‍♀️":{category:"People & Body",sheet_x:32,sheet_y:8,sort_order:86},"🙆‍♂️":{category:"People & Body",sheet_x:32,sheet_y:14,sort_order:85},"🙆":{category:"People & Body",sheet_x:32,sheet_y:20,sort_order:84},"🙇‍♀️":{category:"People & Body",sheet_x:32,sheet_y:26,sort_order:98},"🙇‍♂️":{category:"People & Body",sheet_x:32,sheet_y:32,sort_order:97},"🙇":{category:"People & Body",sheet_x:32,sheet_y:38,sort_order:96},"🙈":{category:"Smileys & Emotion",sheet_x:32,sheet_y:44,sort_order:112},"🙉":{category:"Smileys & Emotion",sheet_x:32,sheet_y:45,sort_order:113},"🙊":{category:"Smileys & Emotion",sheet_x:32,sheet_y:46,sort_order:114},"🙋‍♀️":{category:"People & Body",sheet_x:32,sheet_y:47,sort_order:92},"🙋‍♂️":{category:"People & Body",sheet_x:32,sheet_y:53,sort_order:91},"🙋":{category:"People & Body",sheet_x:33,sheet_y:2,sort_order:90},"🙌":{category:"People & Body",sheet_x:33,sheet_y:8,sort_order:26},"🙍‍♀️":{category:"People & Body",sheet_x:33,sheet_y:14,sort_order:77},"🙍‍♂️":{category:"People & Body",sheet_x:33,sheet_y:20,sort_order:76},"🙍":{category:"People & Body",sheet_x:33,sheet_y:26,sort_order:75},"🙎‍♀️":{category:"People & Body",sheet_x:33,sheet_y:32,sort_order:80},"🙎‍♂️":{category:"People & Body",sheet_x:33,sheet_y:38,sort_order:79},"🙎":{category:"People & Body",sheet_x:33,sheet_y:44,sort_order:78},"🙏":{category:"People & Body",sheet_x:33,sheet_y:50,sort_order:30},"🚀":{category:"Travel & Places",sheet_x:33,sheet_y:56,sort_order:129},"🚁":{category:"Travel & Places",sheet_x:34,sheet_y:0,sort_order:124},"🚂":{category:"Travel & Places",sheet_x:34,sheet_y:1,sort_order:63},"🚃":{category:"Travel & Places",sheet_x:34,sheet_y:2,sort_order:64},"🚄":{category:"Travel & Places",sheet_x:34,sheet_y:3,sort_order:65},"🚅":{category:"Travel & Places",sheet_x:34,sheet_y:4,sort_order:66},"🚆":{category:"Travel & Places",sheet_x:34,sheet_y:5,sort_order:67},"🚇":{category:"Travel & Places",sheet_x:34,sheet_y:6,sort_order:68},"🚈":{category:"Travel & Places",sheet_x:34,sheet_y:7,sort_order:69},"🚉":{category:"Travel & Places",sheet_x:34,sheet_y:8,sort_order:70},"🚊":{category:"Travel & Places",sheet_x:34,sheet_y:9,sort_order:71},"🚋":{category:"Travel & Places",sheet_x:34,sheet_y:10,sort_order:74},"🚌":{category:"Travel & Places",sheet_x:34,sheet_y:11,sort_order:75},"🚍":{category:"Travel & Places",sheet_x:34,sheet_y:12,sort_order:76},"🚎":{category:"Travel & Places",sheet_x:34,sheet_y:13,sort_order:77},"🚏":{category:"Travel & Places",sheet_x:34,sheet_y:14,sort_order:100},"🚐":{category:"Travel & Places",sheet_x:34,sheet_y:15,sort_order:78},"🚑":{category:"Travel & Places",sheet_x:34,sheet_y:16,sort_order:79},"🚒":{category:"Travel & Places",sheet_x:34,sheet_y:17,sort_order:80},"🚓":{category:"Travel & Places",sheet_x:34,sheet_y:18,sort_order:81},"🚔":{category:"Travel & Places",sheet_x:34,sheet_y:19,sort_order:82},"🚕":{category:"Travel & Places",sheet_x:34,sheet_y:20,sort_order:83},"🚖":{category:"Travel & Places",sheet_x:34,sheet_y:21,sort_order:84},"🚗":{category:"Travel & Places",sheet_x:34,sheet_y:22,sort_order:85},"🚘":{category:"Travel & Places",sheet_x:34,sheet_y:23,sort_order:86},"🚙":{category:"Travel & Places",sheet_x:34,sheet_y:24,sort_order:87},"🚚":{category:"Travel & Places",sheet_x:34,sheet_y:25,sort_order:88},"🚛":{category:"Travel & Places",sheet_x:34,sheet_y:26,sort_order:89},"🚜":{category:"Travel & Places",sheet_x:34,sheet_y:27,sort_order:90},"🚝":{category:"Travel & Places",sheet_x:34,sheet_y:28,sort_order:72},"🚞":{category:"Travel & Places",sheet_x:34,sheet_y:29,sort_order:73},"🚟":{category:"Travel & Places",sheet_x:34,sheet_y:30,sort_order:125},"🚠":{category:"Travel & Places",sheet_x:34,sheet_y:31,sort_order:126},"🚡":{category:"Travel & Places",sheet_x:34,sheet_y:32,sort_order:127},"🚢":{category:"Travel & Places",sheet_x:34,sheet_y:33,sort_order:117},"🚣‍♀️":{category:"People & Body",sheet_x:34,sheet_y:34,sort_order:257},"🚣‍♂️":{category:"People & Body",sheet_x:34,sheet_y:40,sort_order:256},"🚣":{category:"People & Body",sheet_x:34,sheet_y:46,sort_order:255},"🚤":{category:"Travel & Places",sheet_x:34,sheet_y:52,sort_order:113},"🚥":{category:"Travel & Places",sheet_x:34,sheet_y:53,sort_order:106},"🚦":{category:"Travel & Places",sheet_x:34,sheet_y:54,sort_order:107},"🚧":{category:"Travel & Places",sheet_x:34,sheet_y:55,sort_order:109},"🚨":{category:"Travel & Places",sheet_x:34,sheet_y:56,sort_order:105},"🚩":{category:"Flags",sheet_x:35,sheet_y:0,sort_order:2},"🚪":{category:"Objects",sheet_x:35,sheet_y:1,sort_order:213},"🚫":{category:"Symbols",sheet_x:35,sheet_y:2,sort_order:17},"🚬":{category:"Objects",sheet_x:35,sheet_y:3,sort_order:230},"🚭":{category:"Symbols",sheet_x:35,sheet_y:4,sort_order:19},"🚮":{category:"Symbols",sheet_x:35,sheet_y:5,sort_order:2},"🚯":{category:"Symbols",sheet_x:35,sheet_y:6,sort_order:20},"🚰":{category:"Symbols",sheet_x:35,sheet_y:7,sort_order:3},"🚱":{category:"Symbols",sheet_x:35,sheet_y:8,sort_order:21},"🚲":{category:"Travel & Places",sheet_x:35,sheet_y:9,sort_order:97},"🚳":{category:"Symbols",sheet_x:35,sheet_y:10,sort_order:18},"🚴‍♀️":{category:"People & Body",sheet_x:35,sheet_y:11,sort_order:269},"🚴‍♂️":{category:"People & Body",sheet_x:35,sheet_y:17,sort_order:268},"🚴":{category:"People & Body",sheet_x:35,sheet_y:23,sort_order:267},"🚵‍♀️":{category:"People & Body",sheet_x:35,sheet_y:29,sort_order:272},"🚵‍♂️":{category:"People & Body",sheet_x:35,sheet_y:35,sort_order:271},"🚵":{category:"People & Body",sheet_x:35,sheet_y:41,sort_order:270},"🚶‍♀️":{category:"People & Body",sheet_x:35,sheet_y:47,sort_order:214},"🚶‍♂️":{category:"People & Body",sheet_x:35,sheet_y:53,sort_order:213},"🚶":{category:"People & Body",sheet_x:36,sheet_y:2,sort_order:212},"🚷":{category:"Symbols",sheet_x:36,sheet_y:8,sort_order:22},"🚸":{category:"Symbols",sheet_x:36,sheet_y:9,sort_order:15},"🚹":{category:"Symbols",sheet_x:36,sheet_y:10,sort_order:5},"🚺":{category:"Symbols",sheet_x:36,sheet_y:11,sort_order:6},"🚻":{category:"Symbols",sheet_x:36,sheet_y:12,sort_order:7},"🚼":{category:"Symbols",sheet_x:36,sheet_y:13,sort_order:8},"🚽":{category:"Objects",sheet_x:36,sheet_y:14,sort_order:217},"🚾":{category:"Symbols",sheet_x:36,sheet_y:15,sort_order:9},"🚿":{category:"Objects",sheet_x:36,sheet_y:16,sort_order:218},"🛀":{category:"People & Body",sheet_x:36,sheet_y:17,sort_order:291},"🛁":{category:"Objects",sheet_x:36,sheet_y:23,sort_order:219},"🛂":{category:"Symbols",sheet_x:36,sheet_y:24,sort_order:10},"🛃":{category:"Symbols",sheet_x:36,sheet_y:25,sort_order:11},"🛄":{category:"Symbols",sheet_x:36,sheet_y:26,sort_order:12},"🛅":{category:"Symbols",sheet_x:36,sheet_y:27,sort_order:13},"🛋️":{category:"Objects",sheet_x:36,sheet_y:28,sort_order:215},"🛌":{category:"People & Body",sheet_x:36,sheet_y:29,sort_order:292},"🛍️":{category:"Objects",sheet_x:36,sheet_y:35,sort_order:24},"🛎️":{category:"Travel & Places",sheet_x:36,sheet_y:36,sort_order:131},"🛏️":{category:"Objects",sheet_x:36,sheet_y:37,sort_order:214},"🛐":{category:"Symbols",sheet_x:36,sheet_y:38,sort_order:48},"🛑":{category:"Travel & Places",sheet_x:36,sheet_y:39,sort_order:108},"🛒":{category:"Objects",sheet_x:36,sheet_y:40,sort_order:229},"🛕":{category:"Travel & Places",sheet_x:36,sheet_y:41,sort_order:43},"🛠️":{category:"Objects",sheet_x:36,sheet_y:42,sort_order:185},"🛡️":{category:"Objects",sheet_x:36,sheet_y:43,sort_order:190},"🛢️":{category:"Travel & Places",sheet_x:36,sheet_y:44,sort_order:103},"🛣️":{category:"Travel & Places",sheet_x:36,sheet_y:45,sort_order:101},"🛤️":{category:"Travel & Places",sheet_x:36,sheet_y:46,sort_order:102},"🛥️":{category:"Travel & Places",sheet_x:36,sheet_y:47,sort_order:116},"🛩️":{category:"Travel & Places",sheet_x:36,sheet_y:48,sort_order:119},"🛫":{category:"Travel & Places",sheet_x:36,sheet_y:49,sort_order:120},"🛬":{category:"Travel & Places",sheet_x:36,sheet_y:50,sort_order:121},"🛰️":{category:"Travel & Places",sheet_x:36,sheet_y:51,sort_order:128},"🛳️":{category:"Travel & Places",sheet_x:36,sheet_y:52,sort_order:114},"🛴":{category:"Travel & Places",sheet_x:36,sheet_y:53,sort_order:98},"🛵":{category:"Travel & Places",sheet_x:36,sheet_y:54,sort_order:93},"🛶":{category:"Travel & Places",sheet_x:36,sheet_y:55,sort_order:112},"🛷":{category:"Activities",sheet_x:36,sheet_y:56,sort_order:53},"🛸":{category:"Travel & Places",sheet_x:37,sheet_y:0,sort_order:130},"🛹":{category:"Travel & Places",sheet_x:37,sheet_y:1,sort_order:99},"🛺":{category:"Travel & Places",sheet_x:37,sheet_y:2,sort_order:96},"🟠":{category:"Symbols",sheet_x:37,sheet_y:3,sort_order:185},"🟡":{category:"Symbols",sheet_x:37,sheet_y:4,sort_order:186},"🟢":{category:"Symbols",sheet_x:37,sheet_y:5,sort_order:187},"🟣":{category:"Symbols",sheet_x:37,sheet_y:6,sort_order:189},"🟤":{category:"Symbols",sheet_x:37,sheet_y:7,sort_order:190},"🟥":{category:"Symbols",sheet_x:37,sheet_y:8,sort_order:193},"🟦":{category:"Symbols",sheet_x:37,sheet_y:9,sort_order:197},"🟧":{category:"Symbols",sheet_x:37,sheet_y:10,sort_order:194},"🟨":{category:"Symbols",sheet_x:37,sheet_y:11,sort_order:195},"🟩":{category:"Symbols",sheet_x:37,sheet_y:12,sort_order:196},"🟪":{category:"Symbols",sheet_x:37,sheet_y:13,sort_order:198},"🟫":{category:"Symbols",sheet_x:37,sheet_y:14,sort_order:199},"🤍":{category:"Smileys & Emotion",sheet_x:37,sheet_y:15,sort_order:135},"🤎":{category:"Smileys & Emotion",sheet_x:37,sheet_y:16,sort_order:133},"🤏":{category:"People & Body",sheet_x:37,sheet_y:17,sort_order:7},"🤐":{category:"Smileys & Emotion",sheet_x:37,sheet_y:23,sort_order:32},"🤑":{category:"Smileys & Emotion",sheet_x:37,sheet_y:24,sort_order:27},"🤒":{category:"Smileys & Emotion",sheet_x:37,sheet_y:25,sort_order:48},"🤓":{category:"Smileys & Emotion",sheet_x:37,sheet_y:26,sort_order:61},"🤔":{category:"Smileys & Emotion",sheet_x:37,sheet_y:27,sort_order:31},"🤕":{category:"Smileys & Emotion",sheet_x:37,sheet_y:28,sort_order:49},"🤖":{category:"Smileys & Emotion",sheet_x:37,sheet_y:29,sort_order:102},"🤗":{category:"Smileys & Emotion",sheet_x:37,sheet_y:30,sort_order:28},"🤘":{category:"People & Body",sheet_x:37,sheet_y:31,sort_order:11},"🤙":{category:"People & Body",sheet_x:37,sheet_y:37,sort_order:12},"🤚":{category:"People & Body",sheet_x:37,sheet_y:43,sort_order:2},"🤛":{category:"People & Body",sheet_x:37,sheet_y:49,sort_order:23},"🤜":{category:"People & Body",sheet_x:37,sheet_y:55,sort_order:24},"🤝":{category:"People & Body",sheet_x:38,sheet_y:4,sort_order:29},"🤞":{category:"People & Body",sheet_x:38,sheet_y:5,sort_order:9},"🤟":{category:"People & Body",sheet_x:38,sheet_y:11,sort_order:10},"🤠":{category:"Smileys & Emotion",sheet_x:38,sheet_y:17,sort_order:58},"🤡":{category:"Smileys & Emotion",sheet_x:38,sheet_y:18,sort_order:96},"🤢":{category:"Smileys & Emotion",sheet_x:38,sheet_y:19,sort_order:50},"🤣":{category:"Smileys & Emotion",sheet_x:38,sheet_y:20,sort_order:7},"🤤":{category:"Smileys & Emotion",sheet_x:38,sheet_y:21,sort_order:45},"🤥":{category:"Smileys & Emotion",sheet_x:38,sheet_y:22,sort_order:41},"🤦‍♀️":{category:"People & Body",sheet_x:38,sheet_y:23,sort_order:101},"🤦‍♂️":{category:"People & Body",sheet_x:38,sheet_y:29,sort_order:100},"🤦":{category:"People & Body",sheet_x:38,sheet_y:35,sort_order:99},"🤧":{category:"Smileys & Emotion",sheet_x:38,sheet_y:41,sort_order:52},"🤨":{category:"Smileys & Emotion",sheet_x:38,sheet_y:42,sort_order:33},"🤩":{category:"Smileys & Emotion",sheet_x:38,sheet_y:43,sort_order:16},"🤪":{category:"Smileys & Emotion",sheet_x:38,sheet_y:44,sort_order:25},"🤫":{category:"Smileys & Emotion",sheet_x:38,sheet_y:45,sort_order:30},"🤬":{category:"Smileys & Emotion",sheet_x:38,sheet_y:46,sort_order:90},"🤭":{category:"Smileys & Emotion",sheet_x:38,sheet_y:47,sort_order:29},"🤮":{category:"Smileys & Emotion",sheet_x:38,sheet_y:48,sort_order:51},"🤯":{category:"Smileys & Emotion",sheet_x:38,sheet_y:49,sort_order:57},"🤰":{category:"People & Body",sheet_x:38,sheet_y:50,sort_order:174},"🤱":{category:"People & Body",sheet_x:38,sheet_y:56,sort_order:175},"🤲":{category:"People & Body",sheet_x:39,sheet_y:5,sort_order:28},"🤳":{category:"People & Body",sheet_x:39,sheet_y:11,sort_order:33},"🤴":{category:"People & Body",sheet_x:39,sheet_y:17,sort_order:165},"🤵":{category:"People & Body",sheet_x:39,sheet_y:23,sort_order:172},"🤶":{category:"People & Body",sheet_x:39,sheet_y:29,sort_order:178},"🤷‍♀️":{category:"People & Body",sheet_x:39,sheet_y:35,sort_order:104},"🤷‍♂️":{category:"People & Body",sheet_x:39,sheet_y:41,sort_order:103},"🤷":{category:"People & Body",sheet_x:39,sheet_y:47,sort_order:102},"🤸‍♀️":{category:"People & Body",sheet_x:39,sheet_y:53,sort_order:275},"🤸‍♂️":{category:"People & Body",sheet_x:40,sheet_y:2,sort_order:274},"🤸":{category:"People & Body",sheet_x:40,sheet_y:8,sort_order:273},"🤹‍♀️":{category:"People & Body",sheet_x:40,sheet_y:14,sort_order:287},"🤹‍♂️":{category:"People & Body",sheet_x:40,sheet_y:20,sort_order:286},"🤹":{category:"People & Body",sheet_x:40,sheet_y:26,sort_order:285},"🤺":{category:"People & Body",sheet_x:40,sheet_y:32,sort_order:245},"🤼‍♀️":{category:"People & Body",sheet_x:40,sheet_y:33,sort_order:278},"🤼‍♂️":{category:"People & Body",sheet_x:40,sheet_y:34,sort_order:277},"🤼":{category:"People & Body",sheet_x:40,sheet_y:35,sort_order:276},"🤽‍♀️":{category:"People & Body",sheet_x:40,sheet_y:36,sort_order:281},"🤽‍♂️":{category:"People & Body",sheet_x:40,sheet_y:42,sort_order:280},"🤽":{category:"People & Body",sheet_x:40,sheet_y:48,sort_order:279},"🤾‍♀️":{category:"People & Body",sheet_x:40,sheet_y:54,sort_order:284},"🤾‍♂️":{category:"People & Body",sheet_x:41,sheet_y:3,sort_order:283},"🤾":{category:"People & Body",sheet_x:41,sheet_y:9,sort_order:282},"🤿":{category:"Activities",sheet_x:41,sheet_y:15,sort_order:50},"🥀":{category:"Animals & Nature",sheet_x:41,sheet_y:16,sort_order:111},"🥁":{category:"Objects",sheet_x:41,sheet_y:17,sort_order:68},"🥂":{category:"Food & Drink",sheet_x:41,sheet_y:18,sort_order:110},"🥃":{category:"Food & Drink",sheet_x:41,sheet_y:19,sort_order:111},"🥄":{category:"Food & Drink",sheet_x:41,sheet_y:20,sort_order:119},"🥅":{category:"Activities",sheet_x:41,sheet_y:21,sort_order:46},"🥇":{category:"Activities",sheet_x:41,sheet_y:22,sort_order:25},"🥈":{category:"Activities",sheet_x:41,sheet_y:23,sort_order:26},"🥉":{category:"Activities",sheet_x:41,sheet_y:24,sort_order:27},"🥊":{category:"Activities",sheet_x:41,sheet_y:25,sort_order:44},"🥋":{category:"Activities",sheet_x:41,sheet_y:26,sort_order:45},"🥌":{category:"Activities",sheet_x:41,sheet_y:27,sort_order:54},"🥍":{category:"Activities",sheet_x:41,sheet_y:28,sort_order:41},"🥎":{category:"Activities",sheet_x:41,sheet_y:29,sort_order:30},"🥏":{category:"Activities",sheet_x:41,sheet_y:30,sort_order:36},"🥐":{category:"Food & Drink",sheet_x:41,sheet_y:31,sort_order:33},"🥑":{category:"Food & Drink",sheet_x:41,sheet_y:32,sort_order:18},"🥒":{category:"Food & Drink",sheet_x:41,sheet_y:33,sort_order:24},"🥓":{category:"Food & Drink",sheet_x:41,sheet_y:34,sort_order:43},"🥔":{category:"Food & Drink",sheet_x:41,sheet_y:35,sort_order:20},"🥕":{category:"Food & Drink",sheet_x:41,sheet_y:36,sort_order:21},"🥖":{category:"Food & Drink",sheet_x:41,sheet_y:37,sort_order:34},"🥗":{category:"Food & Drink",sheet_x:41,sheet_y:38,sort_order:58},"🥘":{category:"Food & Drink",sheet_x:41,sheet_y:39,sort_order:55},"🥙":{category:"Food & Drink",sheet_x:41,sheet_y:40,sort_order:51},"🥚":{category:"Food & Drink",sheet_x:41,sheet_y:41,sort_order:53},"🥛":{category:"Food & Drink",sheet_x:41,sheet_y:42,sort_order:100},"🥜":{category:"Food & Drink",sheet_x:41,sheet_y:43,sort_order:30},"🥝":{category:"Food & Drink",sheet_x:41,sheet_y:44,sort_order:15},"🥞":{category:"Food & Drink",sheet_x:41,sheet_y:45,sort_order:37},"🥟":{category:"Food & Drink",sheet_x:41,sheet_y:46,sort_order:77},"🥠":{category:"Food & Drink",sheet_x:41,sheet_y:47,sort_order:78},"🥡":{category:"Food & Drink",sheet_x:41,sheet_y:48,sort_order:79},"🥢":{category:"Food & Drink",sheet_x:41,sheet_y:49,sort_order:116},"🥣":{category:"Food & Drink",sheet_x:41,sheet_y:50,sort_order:57},"🥤":{category:"Food & Drink",sheet_x:41,sheet_y:51,sort_order:112},"🥥":{category:"Food & Drink",sheet_x:41,sheet_y:52,sort_order:17},"🥦":{category:"Food & Drink",sheet_x:41,sheet_y:53,sort_order:26},"🥧":{category:"Food & Drink",sheet_x:41,sheet_y:54,sort_order:93},"🥨":{category:"Food & Drink",sheet_x:41,sheet_y:55,sort_order:35},"🥩":{category:"Food & Drink",sheet_x:41,sheet_y:56,sort_order:42},"🥪":{category:"Food & Drink",sheet_x:42,sheet_y:0,sort_order:48},"🥫":{category:"Food & Drink",sheet_x:42,sheet_y:1,sort_order:62},"🥬":{category:"Food & Drink",sheet_x:42,sheet_y:2,sort_order:25},"🥭":{category:"Food & Drink",sheet_x:42,sheet_y:3,sort_order:8},"🥮":{category:"Food & Drink",sheet_x:42,sheet_y:4,sort_order:75},"🥯":{category:"Food & Drink",sheet_x:42,sheet_y:5,sort_order:36},"🥰":{category:"Smileys & Emotion",sheet_x:42,sheet_y:6,sort_order:14},"🥱":{category:"Smileys & Emotion",sheet_x:42,sheet_y:7,sort_order:86},"🥳":{category:"Smileys & Emotion",sheet_x:42,sheet_y:8,sort_order:59},"🥴":{category:"Smileys & Emotion",sheet_x:42,sheet_y:9,sort_order:55},"🥵":{category:"Smileys & Emotion",sheet_x:42,sheet_y:10,sort_order:53},"🥶":{category:"Smileys & Emotion",sheet_x:42,sheet_y:11,sort_order:54},"🥺":{category:"Smileys & Emotion",sheet_x:42,sheet_y:12,sort_order:71},"🥻":{category:"Objects",sheet_x:42,sheet_y:13,sort_order:15},"🥼":{category:"Objects",sheet_x:42,sheet_y:14,sort_order:4},"🥽":{category:"Objects",sheet_x:42,sheet_y:15,sort_order:3},"🥾":{category:"Objects",sheet_x:42,sheet_y:16,sort_order:28},"🥿":{category:"Objects",sheet_x:42,sheet_y:17,sort_order:29},"🦀":{category:"Food & Drink",sheet_x:42,sheet_y:18,sort_order:80},"🦁":{category:"Animals & Nature",sheet_x:42,sheet_y:19,sort_order:15},"🦂":{category:"Animals & Nature",sheet_x:42,sheet_y:20,sort_order:103},"🦃":{category:"Animals & Nature",sheet_x:42,sheet_y:21,sort_order:60},"🦄":{category:"Animals & Nature",sheet_x:42,sheet_y:22,sort_order:21},"🦅":{category:"Animals & Nature",sheet_x:42,sheet_y:23,sort_order:69},"🦆":{category:"Animals & Nature",sheet_x:42,sheet_y:24,sort_order:70},"🦇":{category:"Animals & Nature",sheet_x:42,sheet_y:25,sort_order:50},"🦈":{category:"Animals & Nature",sheet_x:42,sheet_y:26,sort_order:91},"🦉":{category:"Animals & Nature",sheet_x:42,sheet_y:27,sort_order:72},"🦊":{category:"Animals & Nature",sheet_x:42,sheet_y:28,sort_order:11},"🦋":{category:"Animals & Nature",sheet_x:42,sheet_y:29,sort_order:95},"🦌":{category:"Animals & Nature",sheet_x:42,sheet_y:30,sort_order:23},"🦍":{category:"Animals & Nature",sheet_x:42,sheet_y:31,sort_order:3},"🦎":{category:"Animals & Nature",sheet_x:42,sheet_y:32,sort_order:79},"🦏":{category:"Animals & Nature",sheet_x:42,sheet_y:33,sort_order:40},"🦐":{category:"Food & Drink",sheet_x:42,sheet_y:34,sort_order:82},"🦑":{category:"Food & Drink",sheet_x:42,sheet_y:35,sort_order:83},"🦒":{category:"Animals & Nature",sheet_x:42,sheet_y:36,sort_order:38},"🦓":{category:"Animals & Nature",sheet_x:42,sheet_y:37,sort_order:22},"🦔":{category:"Animals & Nature",sheet_x:42,sheet_y:38,sort_order:49},"🦕":{category:"Animals & Nature",sheet_x:42,sheet_y:39,sort_order:83},"🦖":{category:"Animals & Nature",sheet_x:42,sheet_y:40,sort_order:84},"🦗":{category:"Animals & Nature",sheet_x:42,sheet_y:41,sort_order:100},"🦘":{category:"Animals & Nature",sheet_x:42,sheet_y:42,sort_order:57},"🦙":{category:"Animals & Nature",sheet_x:42,sheet_y:43,sort_order:37},"🦚":{category:"Animals & Nature",sheet_x:42,sheet_y:44,sort_order:74},"🦛":{category:"Animals & Nature",sheet_x:42,sheet_y:45,sort_order:41},"🦜":{category:"Animals & Nature",sheet_x:42,sheet_y:46,sort_order:75},"🦝":{category:"Animals & Nature",sheet_x:42,sheet_y:47,sort_order:12},"🦞":{category:"Food & Drink",sheet_x:42,sheet_y:48,sort_order:81},"🦟":{category:"Animals & Nature",sheet_x:42,sheet_y:49,sort_order:104},"🦠":{category:"Animals & Nature",sheet_x:42,sheet_y:50,sort_order:105},"🦡":{category:"Animals & Nature",sheet_x:42,sheet_y:51,sort_order:58},"🦢":{category:"Animals & Nature",sheet_x:42,sheet_y:52,sort_order:71},"🦥":{category:"Animals & Nature",sheet_x:42,sheet_y:53,sort_order:54},"🦦":{category:"Animals & Nature",sheet_x:42,sheet_y:54,sort_order:55},"🦧":{category:"Animals & Nature",sheet_x:42,sheet_y:55,sort_order:4},"🦨":{category:"Animals & Nature",sheet_x:42,sheet_y:56,sort_order:56},"🦩":{category:"Animals & Nature",sheet_x:43,sheet_y:0,sort_order:73},"🦪":{category:"Food & Drink",sheet_x:43,sheet_y:1,sort_order:84},"🦮":{category:"Animals & Nature",sheet_x:43,sheet_y:2,sort_order:7},"🦯":{category:"Objects",sheet_x:43,sheet_y:3,sort_order:196},"🦴":{category:"People & Body",sheet_x:43,sheet_y:4,sort_order:44},"🦵":{category:"People & Body",sheet_x:43,sheet_y:5,sort_order:37},"🦶":{category:"People & Body",sheet_x:43,sheet_y:11,sort_order:38},"🦷":{category:"People & Body",sheet_x:43,sheet_y:17,sort_order:43},"🦸‍♀️":{category:"People & Body",sheet_x:43,sheet_y:18,sort_order:181},"🦸‍♂️":{category:"People & Body",sheet_x:43,sheet_y:24,sort_order:180},"🦸":{category:"People & Body",sheet_x:43,sheet_y:30,sort_order:179},"🦹‍♀️":{category:"People & Body",sheet_x:43,sheet_y:36,sort_order:184},"🦹‍♂️":{category:"People & Body",sheet_x:43,sheet_y:42,sort_order:183},"🦹":{category:"People & Body",sheet_x:43,sheet_y:48,sort_order:182},"🦺":{category:"Objects",sheet_x:43,sheet_y:54,sort_order:5},"🦻":{category:"People & Body",sheet_x:43,sheet_y:55,sort_order:40},"🦼":{category:"Travel & Places",sheet_x:44,sheet_y:4,sort_order:95},"🦽":{category:"Travel & Places",sheet_x:44,sheet_y:5,sort_order:94},"🦾":{category:"People & Body",sheet_x:44,sheet_y:6,sort_order:35},"🦿":{category:"People & Body",sheet_x:44,sheet_y:7,sort_order:36},"🧀":{category:"Food & Drink",sheet_x:44,sheet_y:8,sort_order:39},"🧁":{category:"Food & Drink",sheet_x:44,sheet_y:9,sort_order:92},"🧂":{category:"Food & Drink",sheet_x:44,sheet_y:10,sort_order:61},"🧃":{category:"Food & Drink",sheet_x:44,sheet_y:11,sort_order:113},"🧄":{category:"Food & Drink",sheet_x:44,sheet_y:12,sort_order:27},"🧅":{category:"Food & Drink",sheet_x:44,sheet_y:13,sort_order:28},"🧆":{category:"Food & Drink",sheet_x:44,sheet_y:14,sort_order:52},"🧇":{category:"Food & Drink",sheet_x:44,sheet_y:15,sort_order:38},"🧈":{category:"Food & Drink",sheet_x:44,sheet_y:16,sort_order:60},"🧉":{category:"Food & Drink",sheet_x:44,sheet_y:17,sort_order:114},"🧊":{category:"Food & Drink",sheet_x:44,sheet_y:18,sort_order:115},"🧍‍♀️":{category:"People & Body",sheet_x:44,sheet_y:19,sort_order:217},"🧍‍♂️":{category:"People & Body",sheet_x:44,sheet_y:25,sort_order:216},"🧍":{category:"People & Body",sheet_x:44,sheet_y:31,sort_order:215},"🧎‍♀️":{category:"People & Body",sheet_x:44,sheet_y:37,sort_order:220},"🧎‍♂️":{category:"People & Body",sheet_x:44,sheet_y:43,sort_order:219},"🧎":{category:"People & Body",sheet_x:44,sheet_y:49,sort_order:218},"🧏‍♀️":{category:"People & Body",sheet_x:44,sheet_y:55,sort_order:95},"🧏‍♂️":{category:"People & Body",sheet_x:45,sheet_y:4,sort_order:94},"🧏":{category:"People & Body",sheet_x:45,sheet_y:10,sort_order:93},"🧐":{category:"Smileys & Emotion",sheet_x:45,sheet_y:16,sort_order:62},"🧑‍🌾":{category:"People & Body",sheet_x:45,sheet_y:17,sort_order:117},"🧑‍🍳":{category:"People & Body",sheet_x:45,sheet_y:23,sort_order:120},"🧑‍🎓":{category:"People & Body",sheet_x:45,sheet_y:29,sort_order:108},"🧑‍🎤":{category:"People & Body",sheet_x:45,sheet_y:35,sort_order:138},"🧑‍🎨":{category:"People & Body",sheet_x:45,sheet_y:41,sort_order:141},"🧑‍🏫":{category:"People & Body",sheet_x:45,sheet_y:47,sort_order:111},"🧑‍🏭":{category:"People & Body",sheet_x:45,sheet_y:53,sort_order:126},"🧑‍💻":{category:"People & Body",sheet_x:46,sheet_y:2,sort_order:135},"🧑‍💼":{category:"People & Body",sheet_x:46,sheet_y:8,sort_order:129},"🧑‍🔧":{category:"People & Body",sheet_x:46,sheet_y:14,sort_order:123},"🧑‍🔬":{category:"People & Body",sheet_x:46,sheet_y:20,sort_order:132},"🧑‍🚀":{category:"People & Body",sheet_x:46,sheet_y:26,sort_order:147},"🧑‍🚒":{category:"People & Body",sheet_x:46,sheet_y:32,sort_order:150},"🧑‍🤝‍🧑":{category:"People & Body",sheet_x:46,sheet_y:38,sort_order:293},"🧑‍🦯":{category:"People & Body",sheet_x:47,sheet_y:7,sort_order:221},"🧑‍🦰":{category:"People & Body",sheet_x:47,sheet_y:13,sort_order:63},"🧑‍🦱":{category:"People & Body",sheet_x:47,sheet_y:19,sort_order:65},"🧑‍🦲":{category:"People & Body",sheet_x:47,sheet_y:25,sort_order:69},"🧑‍🦳":{category:"People & Body",sheet_x:47,sheet_y:31,sort_order:67},"🧑‍🦼":{category:"People & Body",sheet_x:47,sheet_y:37,sort_order:224},"🧑‍🦽":{category:"People & Body",sheet_x:47,sheet_y:43,sort_order:227},"🧑‍⚕️":{category:"People & Body",sheet_x:47,sheet_y:49,sort_order:105},"🧑‍⚖️":{category:"People & Body",sheet_x:47,sheet_y:55,sort_order:114},"🧑‍✈️":{category:"People & Body",sheet_x:48,sheet_y:4,sort_order:144},"🧑":{category:"People & Body",sheet_x:48,sheet_y:10,sort_order:53},"🧒":{category:"People & Body",sheet_x:48,sheet_y:16,sort_order:50},"🧓":{category:"People & Body",sheet_x:48,sheet_y:22,sort_order:72},"🧔":{category:"People & Body",sheet_x:48,sheet_y:28,sort_order:56},"🧕":{category:"People & Body",sheet_x:48,sheet_y:34,sort_order:171},"🧖‍♀️":{category:"People & Body",sheet_x:48,sheet_y:40,sort_order:241},"🧖‍♂️":{category:"People & Body",sheet_x:48,sheet_y:46,sort_order:240},"🧖":{category:"People & Body",sheet_x:48,sheet_y:52,sort_order:239},"🧗‍♀️":{category:"People & Body",sheet_x:49,sheet_y:1,sort_order:244},"🧗‍♂️":{category:"People & Body",sheet_x:49,sheet_y:7,sort_order:243},"🧗":{category:"People & Body",sheet_x:49,sheet_y:13,sort_order:242},"🧘‍♀️":{category:"People & Body",sheet_x:49,sheet_y:19,sort_order:290},"🧘‍♂️":{category:"People & Body",sheet_x:49,sheet_y:25,sort_order:289},"🧘":{category:"People & Body",sheet_x:49,sheet_y:31,sort_order:288},"🧙‍♀️":{category:"People & Body",sheet_x:49,sheet_y:37,sort_order:187},"🧙‍♂️":{category:"People & Body",sheet_x:49,sheet_y:43,sort_order:186},"🧙":{category:"People & Body",sheet_x:49,sheet_y:49,sort_order:185},"🧚‍♀️":{category:"People & Body",sheet_x:49,sheet_y:55,sort_order:190},"🧚‍♂️":{category:"People & Body",sheet_x:50,sheet_y:4,sort_order:189},"🧚":{category:"People & Body",sheet_x:50,sheet_y:10,sort_order:188},"🧛‍♀️":{category:"People & Body",sheet_x:50,sheet_y:16,sort_order:193},"🧛‍♂️":{category:"People & Body",sheet_x:50,sheet_y:22,sort_order:192},"🧛":{category:"People & Body",sheet_x:50,sheet_y:28,sort_order:191},"🧜‍♀️":{category:"People & Body",sheet_x:50,sheet_y:34,sort_order:196},"🧜‍♂️":{category:"People & Body",sheet_x:50,sheet_y:40,sort_order:195},"🧜":{category:"People & Body",sheet_x:50,sheet_y:46,sort_order:194},"🧝‍♀️":{category:"People & Body",sheet_x:50,sheet_y:52,sort_order:199},"🧝‍♂️":{category:"People & Body",sheet_x:51,sheet_y:1,sort_order:198},"🧝":{category:"People & Body",sheet_x:51,sheet_y:7,sort_order:197},"🧞‍♀️":{category:"People & Body",sheet_x:51,sheet_y:13,sort_order:202},"🧞‍♂️":{category:"People & Body",sheet_x:51,sheet_y:14,sort_order:201},"🧞":{category:"People & Body",sheet_x:51,sheet_y:15,sort_order:200},"🧟‍♀️":{category:"People & Body",sheet_x:51,sheet_y:16,sort_order:205},"🧟‍♂️":{category:"People & Body",sheet_x:51,sheet_y:17,sort_order:204},"🧟":{category:"People & Body",sheet_x:51,sheet_y:18,sort_order:203},"🧠":{category:"People & Body",sheet_x:51,sheet_y:19,sort_order:42},"🧡":{category:"Smileys & Emotion",sheet_x:51,sheet_y:20,sort_order:128},"🧢":{category:"Objects",sheet_x:51,sheet_y:21,sort_order:38},"🧣":{category:"Objects",sheet_x:51,sheet_y:22,sort_order:9},"🧤":{category:"Objects",sheet_x:51,sheet_y:23,sort_order:10},"🧥":{category:"Objects",sheet_x:51,sheet_y:24,sort_order:11},"🧦":{category:"Objects",sheet_x:51,sheet_y:25,sort_order:12},"🧧":{category:"Activities",sheet_x:51,sheet_y:26,sort_order:16},"🧨":{category:"Activities",sheet_x:51,sheet_y:27,sort_order:5},"🧩":{category:"Activities",sheet_x:51,sheet_y:28,sort_order:65},"🧪":{category:"Objects",sheet_x:51,sheet_y:29,sort_order:202},"🧫":{category:"Objects",sheet_x:51,sheet_y:30,sort_order:203},"🧬":{category:"Objects",sheet_x:51,sheet_y:31,sort_order:204},"🧭":{category:"Travel & Places",sheet_x:51,sheet_y:32,sort_order:7},"🧮":{category:"Objects",sheet_x:51,sheet_y:33,sort_order:87},"🧯":{category:"Objects",sheet_x:51,sheet_y:34,sort_order:228},"🧰":{category:"Objects",sheet_x:51,sheet_y:35,sort_order:199},"🧱":{category:"Travel & Places",sheet_x:51,sheet_y:36,sort_order:20},"🧲":{category:"Objects",sheet_x:51,sheet_y:37,sort_order:200},"🧳":{category:"Travel & Places",sheet_x:51,sheet_y:38,sort_order:132},"🧴":{category:"Objects",sheet_x:51,sheet_y:39,sort_order:221},"🧵":{category:"Activities",sheet_x:51,sheet_y:40,sort_order:78},"🧶":{category:"Activities",sheet_x:51,sheet_y:41,sort_order:79},"🧷":{category:"Objects",sheet_x:51,sheet_y:42,sort_order:222},"🧸":{category:"Activities",sheet_x:51,sheet_y:43,sort_order:66},"🧹":{category:"Objects",sheet_x:51,sheet_y:44,sort_order:223},"🧺":{category:"Objects",sheet_x:51,sheet_y:45,sort_order:224},"🧻":{category:"Objects",sheet_x:51,sheet_y:46,sort_order:225},"🧼":{category:"Objects",sheet_x:51,sheet_y:47,sort_order:226},"🧽":{category:"Objects",sheet_x:51,sheet_y:48,sort_order:227},"🧾":{category:"Objects",sheet_x:51,sheet_y:49,sort_order:128},"🧿":{category:"Activities",sheet_x:51,sheet_y:50,sort_order:60},"🩰":{category:"Objects",sheet_x:51,sheet_y:51,sort_order:32},"🩱":{category:"Objects",sheet_x:51,sheet_y:52,sort_order:16},"🩲":{category:"Objects",sheet_x:51,sheet_y:53,sort_order:17},"🩳":{category:"Objects",sheet_x:51,sheet_y:54,sort_order:18},"🩸":{category:"Objects",sheet_x:51,sheet_y:55,sort_order:209},"🩹":{category:"Objects",sheet_x:51,sheet_y:56,sort_order:211},"🩺":{category:"Objects",sheet_x:52,sheet_y:0,sort_order:212},"🪀":{category:"Activities",sheet_x:52,sheet_y:1,sort_order:56},"🪁":{category:"Activities",sheet_x:52,sheet_y:2,sort_order:57},"🪂":{category:"Travel & Places",sheet_x:52,sheet_y:3,sort_order:122},"🪐":{category:"Travel & Places",sheet_x:52,sheet_y:4,sort_order:180},"🪑":{category:"Objects",sheet_x:52,sheet_y:5,sort_order:216},"🪒":{category:"Objects",sheet_x:52,sheet_y:6,sort_order:220},"🪓":{category:"Objects",sheet_x:52,sheet_y:7,sort_order:182},"🪔":{category:"Objects",sheet_x:52,sheet_y:8,sort_order:103},"🪕":{category:"Objects",sheet_x:52,sheet_y:9,sort_order:67},"‼️":{category:"Symbols",sheet_x:52,sheet_y:10,sort_order:122},"⁉️":{category:"Symbols",sheet_x:52,sheet_y:11,sort_order:123},"™️":{category:"Symbols",sheet_x:52,sheet_y:12,sort_order:131},"ℹ️":{category:"Symbols",sheet_x:52,sheet_y:13,sort_order:156},"↔️":{category:"Symbols",sheet_x:52,sheet_y:14,sort_order:36},"↕️":{category:"Symbols",sheet_x:52,sheet_y:15,sort_order:35},"↖️":{category:"Symbols",sheet_x:52,sheet_y:16,sort_order:34},"↗️":{category:"Symbols",sheet_x:52,sheet_y:17,sort_order:28},"↘️":{category:"Symbols",sheet_x:52,sheet_y:18,sort_order:30},"↙️":{category:"Symbols",sheet_x:52,sheet_y:19,sort_order:32},"↩️":{category:"Symbols",sheet_x:52,sheet_y:20,sort_order:37},"↪️":{category:"Symbols",sheet_x:52,sheet_y:21,sort_order:38},"⌚":{category:"Travel & Places",sheet_x:52,sheet_y:22,sort_order:135},"⌛":{category:"Travel & Places",sheet_x:52,sheet_y:23,sort_order:133},"⌨️":{category:"Objects",sheet_x:52,sheet_y:24,sort_order:80},"⏏️":{category:"Symbols",sheet_x:52,sheet_y:25,sort_order:90},"⏩":{category:"Symbols",sheet_x:52,sheet_y:26,sort_order:77},"⏪":{category:"Symbols",sheet_x:52,sheet_y:27,sort_order:81},"⏫":{category:"Symbols",sheet_x:52,sheet_y:28,sort_order:84},"⏬":{category:"Symbols",sheet_x:52,sheet_y:29,sort_order:86},"⏭️":{category:"Symbols",sheet_x:52,sheet_y:30,sort_order:78},"⏮️":{category:"Symbols",sheet_x:52,sheet_y:31,sort_order:82},"⏯️":{category:"Symbols",sheet_x:52,sheet_y:32,sort_order:79},"⏰":{category:"Travel & Places",sheet_x:52,sheet_y:33,sort_order:136},"⏱️":{category:"Travel & Places",sheet_x:52,sheet_y:34,sort_order:137},"⏲️":{category:"Travel & Places",sheet_x:52,sheet_y:35,sort_order:138},"⏳":{category:"Travel & Places",sheet_x:52,sheet_y:36,sort_order:134},"⏸️":{category:"Symbols",sheet_x:52,sheet_y:37,sort_order:87},"⏹️":{category:"Symbols",sheet_x:52,sheet_y:38,sort_order:88},"⏺️":{category:"Symbols",sheet_x:52,sheet_y:39,sort_order:89},"Ⓜ️":{category:"Symbols",sheet_x:52,sheet_y:40,sort_order:158},"▪️":{category:"Symbols",sheet_x:52,sheet_y:41,sort_order:206},"▫️":{category:"Symbols",sheet_x:52,sheet_y:42,sort_order:207},"▶️":{category:"Symbols",sheet_x:52,sheet_y:43,sort_order:76},"◀️":{category:"Symbols",sheet_x:52,sheet_y:44,sort_order:80},"◻️":{category:"Symbols",sheet_x:52,sheet_y:45,sort_order:203},"◼️":{category:"Symbols",sheet_x:52,sheet_y:46,sort_order:202},"◽":{category:"Symbols",sheet_x:52,sheet_y:47,sort_order:205},"◾":{category:"Symbols",sheet_x:52,sheet_y:48,sort_order:204},"☀️":{category:"Travel & Places",sheet_x:52,sheet_y:49,sort_order:177},"☁️":{category:"Travel & Places",sheet_x:52,sheet_y:50,sort_order:185},"☂️":{category:"Travel & Places",sheet_x:52,sheet_y:51,sort_order:200},"☃️":{category:"Travel & Places",sheet_x:52,sheet_y:52,sort_order:205},"☄️":{category:"Travel & Places",sheet_x:52,sheet_y:53,sort_order:207},"☎️":{category:"Objects",sheet_x:52,sheet_y:54,sort_order:71},"☑️":{category:"Symbols",sheet_x:52,sheet_y:55,sort_order:108},"☔":{category:"Travel & Places",sheet_x:52,sheet_y:56,sort_order:201},"☕":{category:"Food & Drink",sheet_x:53,sheet_y:0,sort_order:101},"☘️":{category:"Animals & Nature",sheet_x:53,sheet_y:1,sort_order:123},"☝️":{category:"People & Body",sheet_x:53,sheet_y:2,sort_order:18},"☠️":{category:"Smileys & Emotion",sheet_x:53,sheet_y:8,sort_order:94},"☢️":{category:"Symbols",sheet_x:53,sheet_y:9,sort_order:25},"☣️":{category:"Symbols",sheet_x:53,sheet_y:10,sort_order:26},"☦️":{category:"Symbols",sheet_x:53,sheet_y:11,sort_order:55},"☪️":{category:"Symbols",sheet_x:53,sheet_y:12,sort_order:56},"☮️":{category:"Symbols",sheet_x:53,sheet_y:13,sort_order:57},"☯️":{category:"Symbols",sheet_x:53,sheet_y:14,sort_order:53},"☸️":{category:"Symbols",sheet_x:53,sheet_y:15,sort_order:52},"☹️":{category:"Smileys & Emotion",sheet_x:53,sheet_y:16,sort_order:66},"☺️":{category:"Smileys & Emotion",sheet_x:53,sheet_y:17,sort_order:19},"♈":{category:"Symbols",sheet_x:53,sheet_y:20,sort_order:60},"♉":{category:"Symbols",sheet_x:53,sheet_y:21,sort_order:61},"♊":{category:"Symbols",sheet_x:53,sheet_y:22,sort_order:62},"♋":{category:"Symbols",sheet_x:53,sheet_y:23,sort_order:63},"♌":{category:"Symbols",sheet_x:53,sheet_y:24,sort_order:64},"♍":{category:"Symbols",sheet_x:53,sheet_y:25,sort_order:65},"♎":{category:"Symbols",sheet_x:53,sheet_y:26,sort_order:66},"♏":{category:"Symbols",sheet_x:53,sheet_y:27,sort_order:67},"♐":{category:"Symbols",sheet_x:53,sheet_y:28,sort_order:68},"♑":{category:"Symbols",sheet_x:53,sheet_y:29,sort_order:69},"♒":{category:"Symbols",sheet_x:53,sheet_y:30,sort_order:70},"♓":{category:"Symbols",sheet_x:53,sheet_y:31,sort_order:71},"♟️":{category:"Activities",sheet_x:53,sheet_y:32,sort_order:71},"♠️":{category:"Activities",sheet_x:53,sheet_y:33,sort_order:67},"♣️":{category:"Activities",sheet_x:53,sheet_y:34,sort_order:70},"♥️":{category:"Activities",sheet_x:53,sheet_y:35,sort_order:68},"♦️":{category:"Activities",sheet_x:53,sheet_y:36,sort_order:69},"♨️":{category:"Travel & Places",sheet_x:53,sheet_y:37,sort_order:57},"♻️":{category:"Symbols",sheet_x:53,sheet_y:38,sort_order:101},"♾️":{category:"Symbols",sheet_x:53,sheet_y:39,sort_order:100},"♿":{category:"Symbols",sheet_x:53,sheet_y:40,sort_order:4},"⚒️":{category:"Objects",sheet_x:53,sheet_y:41,sort_order:184},"⚓":{category:"Travel & Places",sheet_x:53,sheet_y:42,sort_order:110},"⚔️":{category:"Objects",sheet_x:53,sheet_y:43,sort_order:187},"⚖️":{category:"Objects",sheet_x:53,sheet_y:45,sort_order:195},"⚗️":{category:"Objects",sheet_x:53,sheet_y:46,sort_order:201},"⚙️":{category:"Objects",sheet_x:53,sheet_y:47,sort_order:193},"⚛️":{category:"Symbols",sheet_x:53,sheet_y:48,sort_order:49},"⚜️":{category:"Symbols",sheet_x:53,sheet_y:49,sort_order:102},"⚠️":{category:"Symbols",sheet_x:53,sheet_y:50,sort_order:14},"⚡":{category:"Travel & Places",sheet_x:53,sheet_y:51,sort_order:203},"⚪":{category:"Symbols",sheet_x:53,sheet_y:52,sort_order:192},"⚫":{category:"Symbols",sheet_x:53,sheet_y:53,sort_order:191},"⚰️":{category:"Objects",sheet_x:53,sheet_y:54,sort_order:231},"⚱️":{category:"Objects",sheet_x:53,sheet_y:55,sort_order:232},"⚽":{category:"Activities",sheet_x:53,sheet_y:56,sort_order:28},"⚾":{category:"Activities",sheet_x:54,sheet_y:0,sort_order:29},"⛄":{category:"Travel & Places",sheet_x:54,sheet_y:1,sort_order:206},"⛅":{category:"Travel & Places",sheet_x:54,sheet_y:2,sort_order:186},"⛈️":{category:"Travel & Places",sheet_x:54,sheet_y:3,sort_order:187},"⛎":{category:"Symbols",sheet_x:54,sheet_y:4,sort_order:72},"⛏️":{category:"Objects",sheet_x:54,sheet_y:5,sort_order:183},"⛑️":{category:"Objects",sheet_x:54,sheet_y:6,sort_order:39},"⛓️":{category:"Objects",sheet_x:54,sheet_y:7,sort_order:198},"⛔":{category:"Symbols",sheet_x:54,sheet_y:8,sort_order:16},"⛩️":{category:"Travel & Places",sheet_x:54,sheet_y:9,sort_order:45},"⛪":{category:"Travel & Places",sheet_x:54,sheet_y:10,sort_order:41},"⛰️":{category:"Travel & Places",sheet_x:54,sheet_y:11,sort_order:9},"⛱️":{category:"Travel & Places",sheet_x:54,sheet_y:12,sort_order:202},"⛲":{category:"Travel & Places",sheet_x:54,sheet_y:13,sort_order:47},"⛳":{category:"Activities",sheet_x:54,sheet_y:14,sort_order:47},"⛴️":{category:"Travel & Places",sheet_x:54,sheet_y:15,sort_order:115},"⛵":{category:"Travel & Places",sheet_x:54,sheet_y:16,sort_order:111},"⛷️":{category:"People & Body",sheet_x:54,sheet_y:17,sort_order:247},"⛸️":{category:"Activities",sheet_x:54,sheet_y:18,sort_order:48},"⛹️‍♀️":{category:"People & Body",sheet_x:54,sheet_y:19,sort_order:263},"⛹️‍♂️":{category:"People & Body",sheet_x:54,sheet_y:25,sort_order:262},"⛹️":{category:"People & Body",sheet_x:54,sheet_y:31,sort_order:261},"⛺":{category:"Travel & Places",sheet_x:54,sheet_y:37,sort_order:48},"⛽":{category:"Travel & Places",sheet_x:54,sheet_y:38,sort_order:104},"✂️":{category:"Objects",sheet_x:54,sheet_y:39,sort_order:171},"✅":{category:"Symbols",sheet_x:54,sheet_y:40,sort_order:107},"✈️":{category:"Travel & Places",sheet_x:54,sheet_y:41,sort_order:118},"✉️":{category:"Objects",sheet_x:54,sheet_y:42,sort_order:132},"✊":{category:"People & Body",sheet_x:54,sheet_y:43,sort_order:21},"✋":{category:"People & Body",sheet_x:54,sheet_y:49,sort_order:4},"✌️":{category:"People & Body",sheet_x:54,sheet_y:55,sort_order:8},"✍️":{category:"People & Body",sheet_x:55,sheet_y:4,sort_order:31},"✏️":{category:"Objects",sheet_x:55,sheet_y:10,sort_order:145},"✒️":{category:"Objects",sheet_x:55,sheet_y:11,sort_order:146},"✔️":{category:"Symbols",sheet_x:55,sheet_y:12,sort_order:109},"✖️":{category:"Symbols",sheet_x:55,sheet_y:13,sort_order:110},"✝️":{category:"Symbols",sheet_x:55,sheet_y:14,sort_order:54},"✡️":{category:"Symbols",sheet_x:55,sheet_y:15,sort_order:51},"✨":{category:"Activities",sheet_x:55,sheet_y:16,sort_order:6},"✳️":{category:"Symbols",sheet_x:55,sheet_y:17,sort_order:119},"✴️":{category:"Symbols",sheet_x:55,sheet_y:18,sort_order:120},"❄️":{category:"Travel & Places",sheet_x:55,sheet_y:19,sort_order:204},"❇️":{category:"Symbols",sheet_x:55,sheet_y:20,sort_order:121},"❌":{category:"Symbols",sheet_x:55,sheet_y:21,sort_order:111},"❎":{category:"Symbols",sheet_x:55,sheet_y:22,sort_order:112},"❓":{category:"Symbols",sheet_x:55,sheet_y:23,sort_order:124},"❔":{category:"Symbols",sheet_x:55,sheet_y:24,sort_order:125},"❕":{category:"Symbols",sheet_x:55,sheet_y:25,sort_order:126},"❗":{category:"Symbols",sheet_x:55,sheet_y:26,sort_order:127},"❣️":{category:"Smileys & Emotion",sheet_x:55,sheet_y:27,sort_order:125},"❤️":{category:"Smileys & Emotion",sheet_x:55,sheet_y:28,sort_order:127},"➕":{category:"Symbols",sheet_x:55,sheet_y:29,sort_order:113},"➖":{category:"Symbols",sheet_x:55,sheet_y:30,sort_order:114},"➗":{category:"Symbols",sheet_x:55,sheet_y:31,sort_order:115},"➡️":{category:"Symbols",sheet_x:55,sheet_y:32,sort_order:29},"➰":{category:"Symbols",sheet_x:55,sheet_y:33,sort_order:116},"➿":{category:"Symbols",sheet_x:55,sheet_y:34,sort_order:117},"⤴️":{category:"Symbols",sheet_x:55,sheet_y:35,sort_order:39},"⤵️":{category:"Symbols",sheet_x:55,sheet_y:36,sort_order:40},"⬅️":{category:"Symbols",sheet_x:55,sheet_y:37,sort_order:33},"⬆️":{category:"Symbols",sheet_x:55,sheet_y:38,sort_order:27},"⬇️":{category:"Symbols",sheet_x:55,sheet_y:39,sort_order:31},"⬛":{category:"Symbols",sheet_x:55,sheet_y:40,sort_order:200},"⬜":{category:"Symbols",sheet_x:55,sheet_y:41,sort_order:201},"⭐":{category:"Travel & Places",sheet_x:55,sheet_y:42,sort_order:181},"⭕":{category:"Symbols",sheet_x:55,sheet_y:43,sort_order:106},"〰️":{category:"Symbols",sheet_x:55,sheet_y:44,sort_order:128},"〽️":{category:"Symbols",sheet_x:55,sheet_y:45,sort_order:118},"㊗️":{category:"Symbols",sheet_x:55,sheet_y:46,sort_order:180},"㊙️":{category:"Symbols",sheet_x:55,sheet_y:47,sort_order:181}}}}const r={Emoji:o,LatinizeMap:{"Á":"A","Ă":"A","Ắ":"A","Ặ":"A","Ằ":"A","Ẳ":"A","Ẵ":"A","Ǎ":"A","Â":"A","Ấ":"A","Ậ":"A","Ầ":"A","Ẩ":"A","Ẫ":"A","Ä":"A","Ǟ":"A","Ȧ":"A","Ǡ":"A","Ạ":"A","Ȁ":"A","À":"A","Ả":"A","Ȃ":"A","Ā":"A","Ą":"A","Å":"A","Ǻ":"A","Ḁ":"A","Ⱥ":"A","Ã":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ḃ":"B","Ḅ":"B","Ɓ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ć":"C","Č":"C","Ç":"C","Ḉ":"C","Ĉ":"C","Ċ":"C","Ƈ":"C","Ȼ":"C","Ď":"D","Ḑ":"D","Ḓ":"D","Ḋ":"D","Ḍ":"D","Ɗ":"D","Ḏ":"D","ǲ":"D","ǅ":"D","Đ":"D","Ƌ":"D","Ǳ":"DZ","Ǆ":"DZ","É":"E","Ĕ":"E","Ě":"E","Ȩ":"E","Ḝ":"E","Ê":"E","Ế":"E","Ệ":"E","Ề":"E","Ể":"E","Ễ":"E","Ḙ":"E","Ë":"E","Ė":"E","Ẹ":"E","Ȅ":"E","È":"E","Ẻ":"E","Ȇ":"E","Ē":"E","Ḗ":"E","Ḕ":"E","Ę":"E","Ɇ":"E","Ẽ":"E","Ḛ":"E","Ꝫ":"ET","Ḟ":"F","Ƒ":"F","Ǵ":"G","Ğ":"G","Ǧ":"G","Ģ":"G","Ĝ":"G","Ġ":"G","Ɠ":"G","Ḡ":"G","Ǥ":"G","Ḫ":"H","Ȟ":"H","Ḩ":"H","Ĥ":"H","Ⱨ":"H","Ḧ":"H","Ḣ":"H","Ḥ":"H","Ħ":"H","Í":"I","Ĭ":"I","Ǐ":"I","Î":"I","Ï":"I","Ḯ":"I","İ":"I","Ị":"I","Ȉ":"I","Ì":"I","Ỉ":"I","Ȋ":"I","Ī":"I","Į":"I","Ɨ":"I","Ĩ":"I","Ḭ":"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS","Ĵ":"J","Ɉ":"J","Ḱ":"K","Ǩ":"K","Ķ":"K","Ⱪ":"K","Ꝃ":"K","Ḳ":"K","Ƙ":"K","Ḵ":"K","Ꝁ":"K","Ꝅ":"K","Ĺ":"L","Ƚ":"L","Ľ":"L","Ļ":"L","Ḽ":"L","Ḷ":"L","Ḹ":"L","Ⱡ":"L","Ꝉ":"L","Ḻ":"L","Ŀ":"L","Ɫ":"L","ǈ":"L","Ł":"L","Ǉ":"LJ","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ń":"N","Ň":"N","Ņ":"N","Ṋ":"N","Ṅ":"N","Ṇ":"N","Ǹ":"N","Ɲ":"N","Ṉ":"N","Ƞ":"N","ǋ":"N","Ñ":"N","Ǌ":"NJ","Ó":"O","Ŏ":"O","Ǒ":"O","Ô":"O","Ố":"O","Ộ":"O","Ồ":"O","Ổ":"O","Ỗ":"O","Ö":"O","Ȫ":"O","Ȯ":"O","Ȱ":"O","Ọ":"O","Ő":"O","Ȍ":"O","Ò":"O","Ỏ":"O","Ơ":"O","Ớ":"O","Ợ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ȏ":"O","Ꝋ":"O","Ꝍ":"O","Ō":"O","Ṓ":"O","Ṑ":"O","Ɵ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Õ":"O","Ṍ":"O","Ṏ":"O","Ȭ":"O","Ƣ":"OI","Ꝏ":"OO","Ɛ":"E","Ɔ":"O","Ȣ":"OU","Ṕ":"P","Ṗ":"P","Ꝓ":"P","Ƥ":"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q","Ŕ":"R","Ř":"R","Ŗ":"R","Ṙ":"R","Ṛ":"R","Ṝ":"R","Ȑ":"R","Ȓ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꜿ":"C","Ǝ":"E","Ś":"S","Ṥ":"S","Š":"S","Ṧ":"S","Ş":"S","Ŝ":"S","Ș":"S","Ṡ":"S","Ṣ":"S","Ṩ":"S","ẞ":"SS","Ť":"T","Ţ":"T","Ṱ":"T","Ț":"T","Ⱦ":"T","Ṫ":"T","Ṭ":"T","Ƭ":"T","Ṯ":"T","Ʈ":"T","Ŧ":"T","Ɐ":"A","Ꞁ":"L","Ɯ":"M","Ʌ":"V","Ꜩ":"TZ","Ú":"U","Ŭ":"U","Ǔ":"U","Û":"U","Ṷ":"U","Ü":"U","Ǘ":"U","Ǚ":"U","Ǜ":"U","Ǖ":"U","Ṳ":"U","Ụ":"U","Ű":"U","Ȕ":"U","Ù":"U","Ủ":"U","Ư":"U","Ứ":"U","Ự":"U","Ừ":"U","Ử":"U","Ữ":"U","Ȗ":"U","Ū":"U","Ṻ":"U","Ų":"U","Ů":"U","Ũ":"U","Ṹ":"U","Ṵ":"U","Ꝟ":"V","Ṿ":"V","Ʋ":"V","Ṽ":"V","Ꝡ":"VY","Ẃ":"W","Ŵ":"W","Ẅ":"W","Ẇ":"W","Ẉ":"W","Ẁ":"W","Ⱳ":"W","Ẍ":"X","Ẋ":"X","Ý":"Y","Ŷ":"Y","Ÿ":"Y","Ẏ":"Y","Ỵ":"Y","Ỳ":"Y","Ƴ":"Y","Ỷ":"Y","Ỿ":"Y","Ȳ":"Y","Ɏ":"Y","Ỹ":"Y","Ź":"Z","Ž":"Z","Ẑ":"Z","Ⱬ":"Z","Ż":"Z","Ẓ":"Z","Ȥ":"Z","Ẕ":"Z","Ƶ":"Z","Ĳ":"IJ","Œ":"OE","ᴀ":"A","ᴁ":"AE","ʙ":"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F","ɢ":"G","ʛ":"G","ʜ":"H","ɪ":"I","ʁ":"R","ᴊ":"J","ᴋ":"K","ʟ":"L","ᴌ":"L","ᴍ":"M","ɴ":"N","ᴏ":"O","ɶ":"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P","ʀ":"R","ᴎ":"N","ᴙ":"R","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W","ʏ":"Y","ᴢ":"Z","á":"a","ă":"a","ắ":"a","ặ":"a","ằ":"a","ẳ":"a","ẵ":"a","ǎ":"a","â":"a","ấ":"a","ậ":"a","ầ":"a","ẩ":"a","ẫ":"a","ä":"a","ǟ":"a","ȧ":"a","ǡ":"a","ạ":"a","ȁ":"a","à":"a","ả":"a","ȃ":"a","ā":"a","ą":"a","ᶏ":"a","ẚ":"a","å":"a","ǻ":"a","ḁ":"a","ⱥ":"a","ã":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ḃ":"b","ḅ":"b","ɓ":"b","ḇ":"b","ᵬ":"b","ᶀ":"b","ƀ":"b","ƃ":"b","ɵ":"o","ć":"c","č":"c","ç":"c","ḉ":"c","ĉ":"c","ɕ":"c","ċ":"c","ƈ":"c","ȼ":"c","ď":"d","ḑ":"d","ḓ":"d","ȡ":"d","ḋ":"d","ḍ":"d","ɗ":"d","ᶑ":"d","ḏ":"d","ᵭ":"d","ᶁ":"d","đ":"d","ɖ":"d","ƌ":"d","ı":"i","ȷ":"j","ɟ":"j","ʄ":"j","ǳ":"dz","ǆ":"dz","é":"e","ĕ":"e","ě":"e","ȩ":"e","ḝ":"e","ê":"e","ế":"e","ệ":"e","ề":"e","ể":"e","ễ":"e","ḙ":"e","ë":"e","ė":"e","ẹ":"e","ȅ":"e","è":"e","ẻ":"e","ȇ":"e","ē":"e","ḗ":"e","ḕ":"e","ⱸ":"e","ę":"e","ᶒ":"e","ɇ":"e","ẽ":"e","ḛ":"e","ꝫ":"et","ḟ":"f","ƒ":"f","ᵮ":"f","ᶂ":"f","ǵ":"g","ğ":"g","ǧ":"g","ģ":"g","ĝ":"g","ġ":"g","ɠ":"g","ḡ":"g","ᶃ":"g","ǥ":"g","ḫ":"h","ȟ":"h","ḩ":"h","ĥ":"h","ⱨ":"h","ḧ":"h","ḣ":"h","ḥ":"h","ɦ":"h","ẖ":"h","ħ":"h","ƕ":"hv","í":"i","ĭ":"i","ǐ":"i","î":"i","ï":"i","ḯ":"i","ị":"i","ȉ":"i","ì":"i","ỉ":"i","ȋ":"i","ī":"i","į":"i","ᶖ":"i","ɨ":"i","ĩ":"i","ḭ":"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is","ǰ":"j","ĵ":"j","ʝ":"j","ɉ":"j","ḱ":"k","ǩ":"k","ķ":"k","ⱪ":"k","ꝃ":"k","ḳ":"k","ƙ":"k","ḵ":"k","ᶄ":"k","ꝁ":"k","ꝅ":"k","ĺ":"l","ƚ":"l","ɬ":"l","ľ":"l","ļ":"l","ḽ":"l","ȴ":"l","ḷ":"l","ḹ":"l","ⱡ":"l","ꝉ":"l","ḻ":"l","ŀ":"l","ɫ":"l","ᶅ":"l","ɭ":"l","ł":"l","ǉ":"lj",ſ:"s","ẜ":"s","ẛ":"s","ẝ":"s","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ᵯ":"m","ᶆ":"m","ń":"n","ň":"n","ņ":"n","ṋ":"n","ȵ":"n","ṅ":"n","ṇ":"n","ǹ":"n","ɲ":"n","ṉ":"n","ƞ":"n","ᵰ":"n","ᶇ":"n","ɳ":"n","ñ":"n","ǌ":"nj","ó":"o","ŏ":"o","ǒ":"o","ô":"o","ố":"o","ộ":"o","ồ":"o","ổ":"o","ỗ":"o","ö":"o","ȫ":"o","ȯ":"o","ȱ":"o","ọ":"o","ő":"o","ȍ":"o","ò":"o","ỏ":"o","ơ":"o","ớ":"o","ợ":"o","ờ":"o","ở":"o","ỡ":"o","ȏ":"o","ꝋ":"o","ꝍ":"o","ⱺ":"o","ō":"o","ṓ":"o","ṑ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","õ":"o","ṍ":"o","ṏ":"o","ȭ":"o","ƣ":"oi","ꝏ":"oo","ɛ":"e","ᶓ":"e","ɔ":"o","ᶗ":"o","ȣ":"ou","ṕ":"p","ṗ":"p","ꝓ":"p","ƥ":"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q","ʠ":"q","ɋ":"q","ꝗ":"q","ŕ":"r","ř":"r","ŗ":"r","ṙ":"r","ṛ":"r","ṝ":"r","ȑ":"r","ɾ":"r","ᵳ":"r","ȓ":"r","ṟ":"r","ɼ":"r","ᵲ":"r","ᶉ":"r","ɍ":"r","ɽ":"r","ↄ":"c","ꜿ":"c","ɘ":"e","ɿ":"r","ś":"s","ṥ":"s","š":"s","ṧ":"s","ş":"s","ŝ":"s","ș":"s","ṡ":"s","ṣ":"s","ṩ":"s","ʂ":"s","ᵴ":"s","ᶊ":"s","ȿ":"s","ɡ":"g","ß":"ss","ᴑ":"o","ᴓ":"o","ᴝ":"u","ť":"t","ţ":"t","ṱ":"t","ț":"t","ȶ":"t","ẗ":"t","ⱦ":"t","ṫ":"t","ṭ":"t","ƭ":"t","ṯ":"t","ᵵ":"t","ƫ":"t","ʈ":"t","ŧ":"t","ᵺ":"th","ɐ":"a","ᴂ":"ae","ǝ":"e","ᵷ":"g","ɥ":"h","ʮ":"h","ʯ":"h","ᴉ":"i","ʞ":"k","ꞁ":"l","ɯ":"m","ɰ":"m","ᴔ":"oe","ɹ":"r","ɻ":"r","ɺ":"r","ⱹ":"r","ʇ":"t","ʌ":"v","ʍ":"w","ʎ":"y","ꜩ":"tz","ú":"u","ŭ":"u","ǔ":"u","û":"u","ṷ":"u","ü":"u","ǘ":"u","ǚ":"u","ǜ":"u","ǖ":"u","ṳ":"u","ụ":"u","ű":"u","ȕ":"u","ù":"u","ủ":"u","ư":"u","ứ":"u","ự":"u","ừ":"u","ử":"u","ữ":"u","ȗ":"u","ū":"u","ṻ":"u","ų":"u","ᶙ":"u","ů":"u","ũ":"u","ṹ":"u","ṵ":"u","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v","ṿ":"v","ʋ":"v","ᶌ":"v","ⱱ":"v","ṽ":"v","ꝡ":"vy","ẃ":"w","ŵ":"w","ẅ":"w","ẇ":"w","ẉ":"w","ẁ":"w","ⱳ":"w","ẘ":"w","ẍ":"x","ẋ":"x","ᶍ":"x","ý":"y","ŷ":"y","ÿ":"y","ẏ":"y","ỵ":"y","ỳ":"y","ƴ":"y","ỷ":"y","ỿ":"y","ȳ":"y","ẙ":"y","ɏ":"y","ỹ":"y","ź":"z","ž":"z","ẑ":"z","ʑ":"z","ⱬ":"z","ż":"z","ẓ":"z","ȥ":"z","ẕ":"z","ᵶ":"z","ᶎ":"z","ʐ":"z","ƶ":"z","ɀ":"z","ﬀ":"ff","ﬃ":"ffi","ﬄ":"ffl","ﬁ":"fi","ﬂ":"fl","ĳ":"ij","œ":"oe","ﬆ":"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x","Ё":"YO","Й":"I","Ц":"TS","У":"U","К":"K","Е":"E","Н":"N","Г":"G","Ш":"SH","Щ":"SCH","З":"Z","Х":"H","Ъ":"","ё":"yo","й":"i","ц":"ts","у":"u","к":"k","е":"e","н":"n","г":"g","ш":"sh","щ":"sch","з":"z","х":"h","ъ":"","Ф":"F","Ы":"I","В":"V","А":"A","П":"P","Р":"R","О":"O","Л":"L","Д":"D","Ж":"ZH","Э":"E","ф":"f","ы":"i","в":"v","а":"a","п":"p","р":"r","о":"o","л":"l","д":"d","ж":"zh","э":"e","Я":"Ya","Ч":"CH","С":"S","М":"M","И":"I","Т":"T","Ь":"","Б":"B","Ю":"YU","я":"ya","ч":"ch","с":"s","м":"m","и":"i","т":"t","ь":"","б":"b","ю":"yu"},TLD:["abogado","ac","academy","accountants","active","actor","ad","adult","ae","aero","af","ag","agency","ai","airforce","al","allfinanz","alsace","am","amsterdam","an","android","ao","apartments","aq","aquarelle","ar","archi","army","arpa","as","asia","associates","at","attorney","au","auction","audio","autos","aw","ax","axa","az","ba","band","bank","bar","barclaycard","barclays","bargains","bayern","bb","bd","be","beer","berlin","best","bf","bg","bh","bi","bid","bike","bingo","bio","biz","bj","black","blackfriday","bloomberg","blue","bm","bmw","bn","bnpparibas","bo","boo","boutique","br","brussels","bs","bt","budapest","build","builders","business","buzz","bv","bw","by","bz","bzh","ca","cab","cal","camera","camp","cancerresearch","canon","capetown","capital","caravan","cards","care","career","careers","cartier","casa","cash","cat","catering","cc","cd","center","ceo","cern","cf","cg","ch","channel","chat","cheap","christmas","chrome","church","ci","citic","city","ck","cl","claims","cleaning","click","clinic","clothing","club","cm","cn","co","coach","codes","coffee","college","cologne","com","community","company","computer","condos","construction","consulting","contractors","cooking","cool","coop","country","cr","credit","creditcard","cricket","crs","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cz","dabur","dad","dance","dating","day","dclk","de","deals","degree","delivery","democrat","dental","dentist","desi","design","dev","diamonds","diet","digital","direct","directory","discount","dj","dk","dm","dnp","do","docs","domains","doosan","durban","dvag","dz","eat","ec","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","equipment","er","es","esq","estate","et","eu","eurovision","eus","events","everbank","exchange","expert","exposed","fail","farm","fashion","feedback","fi","finance","financial","firmdale","fish","fishing","fit","fitness","fj","fk","flights","florist","flowers","flsmidth","fly","fm","fo","foo","forsale","foundation","fr","frl","frogans","fund","furniture","futbol","ga","gal","gallery","garden","gb","gbiz","gd","ge","gent","gf","gg","ggee","gh","gi","gift","gifts","gives","gl","glass","gle","global","globo","gm","gmail","gmo","gmx","gn","goog","google","gop","gov","gp","gq","gr","graphics","gratis","green","gripe","gs","gt","gu","guide","guitars","guru","gw","gy","hamburg","hangout","haus","healthcare","help","here","hermes","hiphop","hiv","hk","hm","hn","holdings","holiday","homes","horse","host","hosting","house","how","hr","ht","hu","ibm","id","ie","ifm","il","im","immo","immobilien","in","industries","info","ing","ink","institute","insure","int","international","investments","io","iq","ir","irish","is","it","iwc","jcb","je","jetzt","jm","jo","jobs","joburg","jp","juegos","kaufen","kddi","ke","kg","kh","ki","kim","kitchen","kiwi","km","kn","koeln","kp","kr","krd","kred","kw","ky","kyoto","kz","la","lacaixa","land","lat","latrobe","lawyer","lb","lc","lds","lease","legal","lgbt","li","lidl","life","lighting","limited","limo","link","lk","loans","london","lotte","lotto","lr","ls","lt","ltda","lu","luxe","luxury","lv","ly","ma","madrid","maison","management","mango","market","marketing","marriott","mc","md","me","media","meet","melbourne","meme","memorial","menu","mg","mh","miami","mil","mini","mk","ml","mm","mn","mo","mobi","moda","moe","monash","money","mormon","mortgage","moscow","motorcycles","mov","mp","mq","mr","ms","mt","mu","museum","mv","mw","mx","my","mz","na","nagoya","name","navy","nc","ne","net","network","neustar","new","nexus","nf","ng","ngo","nhk","ni","nico","ninja","nl","no","np","nr","nra","nrw","ntt","nu","nyc","nz","okinawa","om","one","ong","onl","ooo","org","organic","osaka","otsuka","ovh","pa","paris","partners","parts","party","pe","pf","pg","ph","pharmacy","photo","photography","photos","physio","pics","pictures","pink","pizza","pk","pl","place","plumbing","pm","pn","pohl","poker","porn","post","pr","praxi","press","pro","prod","productions","prof","properties","property","ps","pt","pub","pw","py","qa","qpon","quebec","re","realtor","recipes","red","rehab","reise","reisen","reit","ren","rentals","repair","report","republican","rest","restaurant","reviews","rich","rio","rip","ro","rocks","rodeo","rs","rsvp","ru","ruhr","rw","ryukyu","sa","saarland","sale","samsung","sarl","saxo","sb","sc","sca","scb","schmidt","schule","schwarz","science","scot","sd","se","services","sew","sexy","sg","sh","shiksha","shoes","shriram","si","singles","sj","sk","sky","sl","sm","sn","so","social","software","sohu","solar","solutions","soy","space","spiegel","sr","st","style","su","supplies","supply","support","surf","surgery","suzuki","sv","sx","sy","sydney","systems","sz","taipei","tatar","tattoo","tax","tc","td","technology","tel","temasek","tennis","tf","tg","th","tienda","tips","tires","tirol","tj","tk","tl","tm","tn","to","today","tokyo","tools","top","toshiba","town","toys","tp","tr","trade","training","travel","trust","tt","tui","tv","tw","tz","ua","ug","uk","university","uno","uol","us","uy","uz","va","vacations","vc","ve","vegas","ventures","versicherung","vet","vg","vi","viajes","video","villas","vision","vlaanderen","vn","vodka","vote","voting","voto","voyage","vu","wales","wang","watch","webcam","website","wed","wedding","wf","whoswho","wien","wiki","williamhill","wme","work","works","world","ws","wtc","wtf","佛山","集团","在线","한국","ভারত","八卦","موقع","公益","公司","移动","我爱你","москва","қаз","онлайн","сайт","срб","淡马锡","орг","삼성","சிங்கப்பூர்","商标","商店","商城","дети","мкд","中文网","中信","中国","中國","谷歌","భారత్","ලංකා","ભારત","भारत","网店","संगठन","网络","укр","香港","台湾","台灣","手机","мон","الجزائر","عمان","ایران","امارات","بازار","الاردن","بھارت","المغرب","السعودية","مليسيا","شبكة","გე","机构","组织机构","ไทย","سورية","рус","рф","تونس","みんな","グーグル","世界","ਭਾਰਤ","网址","游戏","vermögensberater","vermögensberatung","企业","مصر","قطر","广东","இலங்கை","இந்தியா","新加坡","فلسطين","政务","xxx","xyz","yachts","yandex","ye","yoga","yokohama","youtube","yt","za","zip","zm","zone","zuerich","zw"],Countries:[{phoneCode:"7 840",code:"AB",name:"Abkhazia",pattern:"",emoji:""},{phoneCode:"93",code:"AF",name:"Afghanistan",pattern:"93 XXX XXX XXX",emoji:"🇦🇫"},{phoneCode:"358 18",code:"AX",name:"Aland Islands",pattern:"",emoji:"🇦🇽"},{phoneCode:"355",code:"AL",name:"Albania",pattern:"355 XX XXX XXXX",emoji:"🇦🇱"},{phoneCode:"213",code:"DZ",name:"Algeria",pattern:"213 XXX XX XX XX",emoji:"🇩🇿"},{phoneCode:"1 684",code:"AS",name:"American Samoa",pattern:"1684 XXX XXXX",emoji:"🇦🇸"},{phoneCode:"376",code:"AD",name:"Andorra",pattern:"376 XX XX XX",emoji:"🇦🇩"},{phoneCode:"244",code:"AO",name:"Angola",pattern:"244 XXX XXX XXX",emoji:"🇦🇴"},{phoneCode:"1 264",code:"AI",name:"Anguilla",pattern:"1264 XXX XXXX",emoji:"🇦🇮"},{phoneCode:"1 268",code:"AG",name:"Antigua & Barbuda",pattern:"1268 XXX XXXX",emoji:"🇦🇬"},{phoneCode:"54",code:"AR",name:"Argentina",pattern:"",emoji:"🇦🇷"},{phoneCode:"374",code:"AM",name:"Armenia",pattern:"374 XX XXX XXX",emoji:"🇦🇲"},{phoneCode:"297",code:"AW",name:"Aruba",pattern:"297 XXX XXXX",emoji:"🇦🇼"},{phoneCode:"247",code:"SH",name:"Ascension",pattern:"290 XX XXX",emoji:"🇸🇭"},{phoneCode:"61",code:"AU",name:"Australia",pattern:"61 XXX XXX XXX",emoji:"🇦🇺"},{phoneCode:"672",code:"AU",name:"Australian External Territories",pattern:"61 XXX XXX XXX",emoji:"🇦🇺"},{phoneCode:"43",code:"AT",name:"Austria",pattern:"",emoji:"🇦🇹"},{phoneCode:"994",code:"AZ",name:"Azerbaijan",pattern:"994 XX XXX XX XX",emoji:"🇦🇿"},{phoneCode:"1 242",code:"BS",name:"Bahamas",pattern:"1242 XXX XXXX",emoji:"🇧🇸"},{phoneCode:"973",code:"BH",name:"Bahrain",pattern:"973 XXXX XXXX",emoji:"🇧🇭"},{phoneCode:"880",code:"BD",name:"Bangladesh",pattern:"",emoji:"🇧🇩"},{phoneCode:"1 246",code:"BB",name:"Barbados",pattern:"1246 XXX XXXX",emoji:"🇧🇧"},{phoneCode:"1 268",code:"AG",name:"Barbuda",pattern:"1268 XXX XXXX",emoji:"🇦🇬"},{phoneCode:"375",code:"BY",name:"Belarus",pattern:"375 XX XXX XXXX",emoji:"🇧🇾"},{phoneCode:"32",code:"BE",name:"Belgium",pattern:"32 XXX XX XX XX",emoji:"🇧🇪"},{phoneCode:"501",code:"BZ",name:"Belize",pattern:"",emoji:"🇧🇿"},{phoneCode:"229",code:"BJ",name:"Benin",pattern:"229 XX XXX XXX",emoji:"🇧🇯"},{phoneCode:"1 441",code:"BM",name:"Bermuda",pattern:"1441 XXX XXXX",emoji:"🇧🇲"},{phoneCode:"975",code:"BT",name:"Bhutan",pattern:"",emoji:"🇧🇹"},{phoneCode:"591",code:"BO",name:"Bolivia",pattern:"591 X XXX XXXX",emoji:"🇧🇴"},{phoneCode:"599 7",code:"BQ",name:"Caribbean Netherlands",pattern:"",emoji:"🇧🇶"},{phoneCode:"387",code:"BA",name:"Bosnia & Herzegovina",pattern:"",emoji:"🇧🇦"},{phoneCode:"267",code:"BW",name:"Botswana",pattern:"267 XX XXX XXX",emoji:"🇧🇼"},{phoneCode:"55",code:"BR",name:"Brazil",pattern:"55 XX XXXXX XXXX",emoji:"🇧🇷"},{phoneCode:"246",code:"IO",name:"British Indian Ocean Territory",pattern:"246 XXX XXXX",emoji:"🇮🇴"},{phoneCode:"1 284",code:"VG",name:"British Virgin Islands",pattern:"1284 XXX XXXX",emoji:"🇻🇬"},{phoneCode:"673",code:"BN",name:"Brunei",pattern:"673 XXX XXXX",emoji:"🇧🇳"},{phoneCode:"359",code:"BG",name:"Bulgaria",pattern:"",emoji:"🇧🇬"},{phoneCode:"226",code:"BF",name:"Burkina Faso",pattern:"226 XX XX XX XX",emoji:"🇧🇫"},{phoneCode:"95",code:"MM",name:"Myanmar (Burma)",pattern:"",emoji:"🇲🇲"},{phoneCode:"257",code:"BI",name:"Burundi",pattern:"257 XX XX XXXX",emoji:"🇧🇮"},{phoneCode:"855",code:"KH",name:"Cambodia",pattern:"",emoji:"🇰🇭"},{phoneCode:"237",code:"CM",name:"Cameroon",pattern:"237 XXXX XXXX",emoji:"🇨🇲"},{phoneCode:"1",code:"CA",name:"Canada",pattern:"1 XXX XXX XXXX",emoji:"🇨🇦"},{phoneCode:"238",code:"CV",name:"Cape Verde",pattern:"238 XXX XXXX",emoji:"🇨🇻"},{phoneCode:"1 345",code:"KY",name:"Cayman Islands",pattern:"1345 XXX XXXX",emoji:"🇰🇾"},{phoneCode:"236",code:"CF",name:"Central African Republic",pattern:"236 XX XX XX XX",emoji:"🇨🇫"},{phoneCode:"235",code:"TD",name:"Chad",pattern:"235 XX XX XX XX",emoji:"🇹🇩"},{phoneCode:"56",code:"CL",name:"Chile",pattern:"56 X XXXX XXXX",emoji:"🇨🇱"},{phoneCode:"86",code:"CN",name:"China",pattern:"86 XXX XXXX XXXX",emoji:"🇨🇳"},{phoneCode:"61",code:"CX",name:"Christmas Island",pattern:"",emoji:"🇨🇽"},{phoneCode:"61",code:"CC",name:"Cocos (Keeling) Islands",pattern:"",emoji:"🇨🇨"},{phoneCode:"57",code:"CO",name:"Colombia",pattern:"57 XXX XXX XXXX",emoji:"🇨🇴"},{phoneCode:"269",code:"KM",name:"Comoros",pattern:"269 XXX XXXX",emoji:"🇰🇲"},{phoneCode:"242",code:"CG",name:"Congo - Brazzaville",pattern:"242 XX XXX XXXX",emoji:"🇨🇬"},{phoneCode:"243",code:"CD",name:"Congo - Kinshasa",pattern:"243 XX XXX XXXX",emoji:"🇨🇩"},{phoneCode:"682",code:"CK",name:"Cook Islands",pattern:"",emoji:"🇨🇰"},{phoneCode:"506",code:"CR",name:"Costa Rica",pattern:"",emoji:"🇨🇷"},{phoneCode:"225",code:"CI",name:"Cote d’Ivoire",pattern:"225 XX XXX XXX",emoji:"🇨🇮"},{phoneCode:"385",code:"HR",name:"Croatia",pattern:"",emoji:"🇭🇷"},{phoneCode:"53",code:"CU",name:"Cuba",pattern:"53 XXXX XXXX",emoji:"🇨🇺"},{phoneCode:"599 9",code:"CW",name:"Curacao",pattern:"",emoji:"🇨🇼"},{phoneCode:"357",code:"CY",name:"Cyprus",pattern:"357 XXXX XXXX",emoji:"🇨🇾"},{phoneCode:"420",code:"CZ",name:"Czech Republic",pattern:"",emoji:"🇨🇿"},{phoneCode:"45",code:"DK",name:"Denmark",pattern:"45 XXXX XXXX",emoji:"🇩🇰"},{phoneCode:"246",code:"DG",name:"Diego Garcia",pattern:"",emoji:"🇩🇬"},{phoneCode:"253",code:"DJ",name:"Djibouti",pattern:"253 XX XX XX XX",emoji:"🇩🇯"},{phoneCode:"1 767",code:"DM",name:"Dominica",pattern:"1767 XXX XXXX",emoji:"🇩🇲"},{phoneCode:"1 809 and 1 829",code:"DO",name:"Dominican Republic",pattern:"1 XXX XXX XXXX",emoji:"🇩🇴"},{phoneCode:"670",code:"TL",name:"Timor-Leste",pattern:"",emoji:"🇹🇱"},{phoneCode:"593",code:"EC",name:"Ecuador",pattern:"",emoji:"🇪🇨"},{phoneCode:"20",code:"EG",name:"Egypt",pattern:"20 XX XXX XXXX",emoji:"🇪🇬"},{phoneCode:"503",code:"SV",name:"El Salvador",pattern:"503 XXXX XXXX",emoji:"🇸🇻"},{phoneCode:"240",code:"GQ",name:"Equatorial Guinea",pattern:"240 XXX XXX XXX",emoji:"🇬🇶"},{phoneCode:"291",code:"ER",name:"Eritrea",pattern:"291 X XXX XXX",emoji:"🇪🇷"},{phoneCode:"372",code:"EE",name:"Estonia",pattern:"",emoji:"🇪🇪"},{phoneCode:"251",code:"ET",name:"Ethiopia",pattern:"251 XX XXX XXXX",emoji:"🇪🇹"},{phoneCode:"500",code:"FK",name:"Falkland Islands",pattern:"",emoji:"🇫🇰"},{phoneCode:"298",code:"FO",name:"Faroe Islands",pattern:"298 XXX XXX",emoji:"🇫🇴"},{phoneCode:"679",code:"FJ",name:"Fiji",pattern:"",emoji:"🇫🇯"},{phoneCode:"358",code:"FI",name:"Finland",pattern:"",emoji:"🇫🇮"},{phoneCode:"33",code:"FR",name:"France",pattern:"33 X XX XX XX XX",emoji:"🇫🇷"},{phoneCode:"594",code:"GF",name:"French Guiana",pattern:"",emoji:"🇬🇫"},{phoneCode:"689",code:"PF",name:"French Polynesia",pattern:"",emoji:"🇵🇫"},{phoneCode:"241",code:"GA",name:"Gabon",pattern:"241 X XX XX XX",emoji:"🇬🇦"},{phoneCode:"220",code:"GM",name:"Gambia",pattern:"220 XXX XXXX",emoji:"🇬🇲"},{phoneCode:"995",code:"GE",name:"Georgia",pattern:"",emoji:"🇬🇪"},{phoneCode:"49",code:"DE",name:"Germany",pattern:"49 XXX XXXXXXXX",emoji:"🇩🇪"},{phoneCode:"233",code:"GH",name:"Ghana",pattern:"",emoji:"🇬🇭"},{phoneCode:"350",code:"GI",name:"Gibraltar",pattern:"350 XXXX XXXX",emoji:"🇬🇮"},{phoneCode:"30",code:"GR",name:"Greece",pattern:"30 XX XXXX XXXX",emoji:"🇬🇷"},{phoneCode:"299",code:"GL",name:"Greenland",pattern:"299 XXX XXX",emoji:"🇬🇱"},{phoneCode:"1 473",code:"GD",name:"Grenada",pattern:"1473 XXX XXXX",emoji:"🇬🇩"},{phoneCode:"590",code:"GP",name:"Guadeloupe",pattern:"",emoji:"🇬🇵"},{phoneCode:"1 671",code:"GU",name:"Guam",pattern:"1671 XXX XXXX",emoji:"🇬🇺"},{phoneCode:"502",code:"GT",name:"Guatemala",pattern:"502 X XXX XXXX",emoji:"🇬🇹"},{phoneCode:"44",code:"GG",name:"Guernsey",pattern:"",emoji:"🇬🇬"},{phoneCode:"224",code:"GN",name:"Guinea",pattern:"224 XXX XXX XXX",emoji:"🇬🇳"},{phoneCode:"245",code:"GW",name:"Guinea-Bissau",pattern:"245 XXX XXXX",emoji:"🇬🇼"},{phoneCode:"592",code:"GY",name:"Guyana",pattern:"",emoji:"🇬🇾"},{phoneCode:"509",code:"HT",name:"Haiti",pattern:"",emoji:"🇭🇹"},{phoneCode:"504",code:"HN",name:"Honduras",pattern:"504 XXXX XXXX",emoji:"🇭🇳"},{phoneCode:"852",code:"HK",name:"Hong Kong SAR China",pattern:"",emoji:"🇭🇰"},{phoneCode:"36",code:"HU",name:"Hungary",pattern:"36 XX XXX XXXX",emoji:"🇭🇺"},{phoneCode:"354",code:"IS",name:"Iceland",pattern:"354 XXX XXXX",emoji:"🇮🇸"},{phoneCode:"91",code:"IN",name:"India",pattern:"91 XXXXX XXXXX",emoji:"🇮🇳"},{phoneCode:"62",code:"ID",name:"Indonesia",pattern:"",emoji:"🇮🇩"},{phoneCode:"98",code:"IR",name:"Iran",pattern:"98 XXX XXX XXXX",emoji:"🇮🇷"},{phoneCode:"964",code:"IQ",name:"Iraq",pattern:"964 XXX XXX XXXX",emoji:"🇮🇶"},{phoneCode:"353",code:"IE",name:"Ireland",pattern:"353 XX XXX XXXX",emoji:"🇮🇪"},{phoneCode:"972",code:"IL",name:"Israel",pattern:"972 XX XXX XXXX",emoji:"🇮🇱"},{phoneCode:"39",code:"IT",name:"Italy",pattern:"39 XXX XXX XXXX",emoji:"🇮🇹"},{phoneCode:"1 876",code:"JM",name:"Jamaica",pattern:"1876 XXX XXXX",emoji:"🇯🇲"},{phoneCode:"47 79",code:"SJ",name:"Svalbard & Jan Mayen",pattern:"",emoji:"🇸🇯"},{phoneCode:"81",code:"JP",name:"Japan",pattern:"81 XX XXXX XXXX",emoji:"🇯🇵"},{phoneCode:"44",code:"JE",name:"Jersey",pattern:"",emoji:"🇯🇪"},{phoneCode:"962",code:"JO",name:"Jordan",pattern:"962 X XXXX XXXX",emoji:"🇯🇴"},{phoneCode:"7 7",code:"KZ",name:"Kazakhstan",pattern:"7 XXX XXX XX XX",emoji:"🇰🇿"},{phoneCode:"254",code:"KE",name:"Kenya",pattern:"254 XXX XXX XXX",emoji:"🇰🇪"},{phoneCode:"686",code:"KI",name:"Kiribati",pattern:"",emoji:"🇰🇮"},{phoneCode:"850",code:"KP",name:"North Korea",pattern:"",emoji:"🇰🇵"},{phoneCode:"82",code:"KR",name:"South Korea",pattern:"",emoji:"🇰🇷"},{phoneCode:"965",code:"KW",name:"Kuwait",pattern:"965 XXXX XXXX",emoji:"🇰🇼"},{phoneCode:"996",code:"KG",name:"Kyrgyzstan",pattern:"",emoji:"🇰🇬"},{phoneCode:"856",code:"LA",name:"Laos",pattern:"",emoji:"🇱🇦"},{phoneCode:"371",code:"LV",name:"Latvia",pattern:"371 XXX XXXXX",emoji:"🇱🇻"},{phoneCode:"961",code:"LB",name:"Lebanon",pattern:"",emoji:"🇱🇧"},{phoneCode:"266",code:"LS",name:"Lesotho",pattern:"266 XX XXX XXX",emoji:"🇱🇸"},{phoneCode:"231",code:"LR",name:"Liberia",pattern:"",emoji:"🇱🇷"},{phoneCode:"218",code:"LY",name:"Libya",pattern:"218 XX XXX XXXX",emoji:"🇱🇾"},{phoneCode:"423",code:"LI",name:"Liechtenstein",pattern:"",emoji:"🇱🇮"},{phoneCode:"370",code:"LT",name:"Lithuania",pattern:"370 XXX XXXXX",emoji:"🇱🇹"},{phoneCode:"352",code:"LU",name:"Luxembourg",pattern:"",emoji:"🇱🇺"},{phoneCode:"853",code:"MO",name:"Macau SAR China",pattern:"",emoji:"🇲🇴"},{phoneCode:"389",code:"MK",name:"Macedonia",pattern:"",emoji:"🇲🇰"},{phoneCode:"261",code:"MG",name:"Madagascar",pattern:"261 XX XX XXX XX",emoji:"🇲🇬"},{phoneCode:"265",code:"MW",name:"Malawi",pattern:"",emoji:"🇲🇼"},{phoneCode:"60",code:"MM",name:"Malaysia",pattern:"",emoji:"🇲🇲"},{phoneCode:"960",code:"MV",name:"Maldives",pattern:"",emoji:"🇲🇻"},{phoneCode:"223",code:"ML",name:"Mali",pattern:"223 XXXX XXXX",emoji:"🇲🇱"},{phoneCode:"356",code:"MT",name:"Malta",pattern:"356 XX XX XX XX",emoji:"🇲🇹"},{phoneCode:"692",code:"MH",name:"Marshall Islands",pattern:"",emoji:"🇲🇭"},{phoneCode:"596",code:"MQ",name:"Martinique",pattern:"",emoji:"🇲🇶"},{phoneCode:"222",code:"MR",name:"Mauritania",pattern:"222 XXXX XXXX",emoji:"🇲🇷"},{phoneCode:"230",code:"MU",name:"Mauritius",pattern:"",emoji:"🇲🇺"},{phoneCode:"262",code:"YT",name:"Mayotte",pattern:"",emoji:"🇾🇹"},{phoneCode:"52",code:"MX",name:"Mexico",pattern:"",emoji:"🇲🇽"},{phoneCode:"691",code:"FM",name:"Micronesia",pattern:"",emoji:"🇫🇲"},{phoneCode:"373",code:"MD",name:"Moldova",pattern:"373 XX XXX XXX",emoji:"🇲🇩"},{phoneCode:"377",code:"MC",name:"Monaco",pattern:"377 XXXX XXXX",emoji:"🇲🇨"},{phoneCode:"976",code:"MN",name:"Mongolia",pattern:"",emoji:"🇲🇳"},{phoneCode:"382",code:"ME",name:"Montenegro",pattern:"",emoji:"🇲🇪"},{phoneCode:"1 664",code:"MS",name:"Montserrat",pattern:"1664 XXX XXXX",emoji:"🇲🇸"},{phoneCode:"212",code:"MA",name:"Morocco",pattern:"212 XX XXX XXXX",emoji:"🇲🇦"},{phoneCode:"258",code:"MZ",name:"Mozambique",pattern:"258 XX XXX XXXX",emoji:"🇲🇿"},{phoneCode:"264",code:"NA",name:"Namibia",pattern:"264 XX XXX XXXX",emoji:"🇳🇦"},{phoneCode:"674",code:"NR",name:"Nauru",pattern:"",emoji:"🇳🇷"},{phoneCode:"977",code:"NP",name:"Nepal",pattern:"",emoji:"🇳🇵"},{phoneCode:"31",code:"NL",name:"Netherlands",pattern:"31 X XX XX XX XX",emoji:"🇳🇱"},{phoneCode:"687",code:"NC",name:"New Caledonia",pattern:"",emoji:"🇳🇨"},{phoneCode:"64",code:"NZ",name:"New Zealand",pattern:"",emoji:"🇳🇿"},{phoneCode:"505",code:"NI",name:"Nicaragua",pattern:"505 XXXX XXXX",emoji:"🇳🇮"},{phoneCode:"227",code:"NE",name:"Niger",pattern:"227 XX XX XX XX",emoji:"🇳🇪"},{phoneCode:"234",code:"NG",name:"Nigeria",pattern:"",emoji:"🇳🇬"},{phoneCode:"683",code:"NU",name:"Niue",pattern:"",emoji:"🇳🇺"},{phoneCode:"672",code:"NF",name:"Norfolk Island",pattern:"",emoji:"🇳🇫"},{phoneCode:"1 670",code:"MP",name:"Northern Mariana Islands",pattern:"1670 XXX XXXX",emoji:"🇲🇵"},{phoneCode:"47",code:"NO",name:"Norway",pattern:"47 XXXX XXXX",emoji:"🇳🇴"},{phoneCode:"968",code:"OM",name:"Oman",pattern:"968 XXXX XXXX",emoji:"🇴🇲"},{phoneCode:"92",code:"PK",name:"Pakistan",pattern:"92 XXX XXX XXXX",emoji:"🇵🇰"},{phoneCode:"680",code:"PW",name:"Palau",pattern:"",emoji:"🇵🇼"},{phoneCode:"970",code:"PS",name:"Palestinian Territories",pattern:"970 XXX XX XXXX",emoji:"🇵🇸"},{phoneCode:"507",code:"PA",name:"Panama",pattern:"507 XXXX XXXX",emoji:"🇵🇦"},{phoneCode:"675",code:"PG",name:"Papua New Guinea",pattern:"",emoji:"🇵🇬"},{phoneCode:"595",code:"PY",name:"Paraguay",pattern:"595 XXX XXX XXX",emoji:"🇵🇾"},{phoneCode:"51",code:"PE",name:"Peru",pattern:"51 XXX XXX XXX",emoji:"🇵🇪"},{phoneCode:"63",code:"PH",name:"Philippines",pattern:"63 XXX XXX XXXX",emoji:"🇵🇭"},{phoneCode:"64",code:"PN",name:"Pitcairn Islands",pattern:"",emoji:"🇵🇳"},{phoneCode:"48",code:"PL",name:"Poland",pattern:"48 XXX XXX XXX",emoji:"🇵🇱"},{phoneCode:"351",code:"PT",name:"Portugal",pattern:"351 X XXXX XXXX",emoji:"🇵🇹"},{phoneCode:"1 787 and 1 939",code:"PR",name:"Puerto Rico",pattern:"1 XXX XXX XXXX",emoji:"🇵🇷"},{phoneCode:"974",code:"QA",name:"Qatar",pattern:"",emoji:"🇶🇦"},{phoneCode:"262",code:"RE",name:"Reunion",pattern:"262 XXX XXX XXX",emoji:"🇷🇪"},{phoneCode:"40",code:"RO",name:"Romania",pattern:"40 XXX XXX XXX",emoji:"🇷🇴"},{phoneCode:"7",code:"RU",name:"Russia",pattern:"7 XXX XXX XX XX",emoji:"🇷🇺"},{phoneCode:"250",code:"RW",name:"Rwanda",pattern:"250 XXX XXX XXX",emoji:"🇷🇼"},{phoneCode:"590",code:"BL",name:"St. Barthelemy",pattern:"",emoji:"🇧🇱"},{phoneCode:"290",code:"SH",name:"St. Helena",pattern:"290 XX XXX",emoji:"🇸🇭"},{phoneCode:"1 869",code:"KN",name:"St. Kitts & Nevis",pattern:"1869 XXX XXXX",emoji:"🇰🇳"},{phoneCode:"1 758",code:"LC",name:"St. Lucia",pattern:"1758 XXX XXXX",emoji:"🇱🇨"},{phoneCode:"590",code:"MF",name:"St. Martin (France)",pattern:"",emoji:"🇲🇫"},{phoneCode:"508",code:"PM",name:"St. Pierre and Miquelon",pattern:"",emoji:"🇵🇲"},{phoneCode:"1 784",code:"VC",name:"St. Vincent and the Grenadines",pattern:"1784 XXX XXXX",emoji:"🇻🇨"},{phoneCode:"685",code:"WS",name:"Samoa",pattern:"",emoji:"🇼🇸"},{phoneCode:"378",code:"SM",name:"San Marino",pattern:"378 XXX XXX XXXX",emoji:"🇸🇲"},{phoneCode:"239",code:"ST",name:"São Tome & Principe",pattern:"239 XX XXXXX",emoji:"🇸🇹"},{phoneCode:"966",code:"SA",name:"Saudi Arabia",pattern:"",emoji:"🇸🇦"},{phoneCode:"221",code:"SN",name:"Senegal",pattern:"221 XX XXX XXXX",emoji:"🇸🇳"},{phoneCode:"381",code:"RS",name:"Serbia",pattern:"381 XX XXX XXXX",emoji:"🇷🇸"},{phoneCode:"248",code:"SC",name:"Seychelles",pattern:"248 X XX XX XX",emoji:"🇸🇨"},{phoneCode:"232",code:"SL",name:"Sierra Leone",pattern:"232 XX XXX XXX",emoji:"🇸🇱"},{phoneCode:"65",code:"SG",name:"Singapore",pattern:"65 XXXX XXXX",emoji:"🇸🇬"},{phoneCode:"599 3",code:"BQ",name:"Sint Eustatius",pattern:"",emoji:"🇧🇶"},{phoneCode:"1 721",code:"SX",name:"Sint Maarten",pattern:"1721 XXX XXXX",emoji:"🇸🇽"},{phoneCode:"421",code:"SK",name:"Slovakia",pattern:"",emoji:"🇸🇰"},{phoneCode:"386",code:"SI",name:"Slovenia",pattern:"",emoji:"🇸🇮"},{phoneCode:"677",code:"SB",name:"Solomon Islands",pattern:"",emoji:"🇸🇧"},{phoneCode:"252",code:"SO",name:"Somalia",pattern:"252 XX XXX XXX",emoji:"🇸🇴"},{phoneCode:"27",code:"ZA",name:"South Africa",pattern:"27 XX XXX XXXX",emoji:"🇿🇦"},{phoneCode:"500",code:"GS",name:"South Georgia & South Sandwich Islands",pattern:"",emoji:"🇬🇸"},{phoneCode:"995 34",code:"",name:"South Ossetia",pattern:"",emoji:""},{phoneCode:"211",code:"SS",name:"South Sudan",pattern:"211 XX XXX XXXX",emoji:"🇸🇸"},{phoneCode:"34",code:"ES",name:"Spain",pattern:"34 XXX XXX XXX",emoji:"🇪🇸"},{phoneCode:"94",code:"LK",name:"Sri Lanka",pattern:"94 XX XXX XXXX",emoji:"🇱🇰"},{phoneCode:"249",code:"SD",name:"Sudan",pattern:"249 XX XXX XXXX",emoji:"🇸🇩"},{phoneCode:"597",code:"SR",name:"Suriname",pattern:"597 XXX XXXX",emoji:"🇸🇷"},{phoneCode:"47 79",code:"SJ",name:"Svalbard",pattern:"",emoji:"🇸🇯"},{phoneCode:"268",code:"SZ",name:"Swaziland",pattern:"268 XXXX XXXX",emoji:"🇸🇿"},{phoneCode:"46",code:"SE",name:"Sweden",pattern:"46 XX XXX XXXX",emoji:"🇸🇪"},{phoneCode:"41",code:"CH",name:"Switzerland",pattern:"41 XX XXX XXXX",emoji:"🇨🇭"},{phoneCode:"963",code:"SY",name:"Syria",pattern:"",emoji:"🇸🇾"},{phoneCode:"886",code:"TW",name:"Taiwan",pattern:"",emoji:"🇹🇼"},{phoneCode:"992",code:"TJ",name:"Tajikistan",pattern:"",emoji:"🇹🇯"},{phoneCode:"255",code:"TZ",name:"Tanzania",pattern:"255 XX XXX XXXX",emoji:"🇹🇿"},{phoneCode:"66",code:"TH",name:"Thailand",pattern:"66 X XXXX XXXX",emoji:"🇹🇭"},{phoneCode:"228",code:"TG",name:"Togo",pattern:"228 XX XXX XXX",emoji:"🇹🇬"},{phoneCode:"690",code:"TK",name:"Tokelau",pattern:"",emoji:"🇹🇰"},{phoneCode:"676",code:"TO",name:"Tonga",pattern:"",emoji:"🇹🇴"},{phoneCode:"1 868",code:"TT",name:"Trinidad & Tobago",pattern:"1868 XXX XXXX",emoji:"🇹🇹"},{phoneCode:"216",code:"TN",name:"Tunisia",pattern:"216 XX XXX XXX",emoji:"🇹🇳"},{phoneCode:"90",code:"TR",name:"Turkey",pattern:"90 XXX XXX XXXX",emoji:"🇹🇷"},{phoneCode:"993",code:"TM",name:"Turkmenistan",pattern:"993 XX XXXXXX",emoji:"🇹🇲"},{phoneCode:"1 649",code:"TC",name:"Turks & Caicos Islands",pattern:"1649 XXX XXXX",emoji:"🇹🇨"},{phoneCode:"688",code:"TV",name:"Tuvalu",pattern:"",emoji:"🇹🇻"},{phoneCode:"256",code:"UG",name:"Uganda",pattern:"256 XX XXX XXXX",emoji:"🇺🇬"},{phoneCode:"380",code:"UA",name:"Ukraine",pattern:"380 XX XXX XX XX",emoji:"🇺🇦"},{phoneCode:"971",code:"AE",name:"United Arab Emirates",pattern:"971 XX XXX XXXX",emoji:"🇦🇪"},{phoneCode:"44",code:"GB",name:"United Kingdom",pattern:"44 XXXX XXXXXX",emoji:"🇬🇧"},{phoneCode:"1",code:"US",name:"United States",pattern:"1 XXX XXX XXXX",emoji:"🇺🇸"},{phoneCode:"598",code:"UY",name:"Uruguay",pattern:"598 XXXX XXXX",emoji:"🇺🇾"},{phoneCode:"1 340",code:"VI",name:"U.S. Virgin Islands",pattern:"1340 XXX XXXX",emoji:"🇻🇮"},{phoneCode:"998",code:"UZ",name:"Uzbekistan",pattern:"998 XX XXXXXXX",emoji:"🇺🇿"},{phoneCode:"678",code:"VU",name:"Vanuatu",pattern:"",emoji:"🇻🇺"},{phoneCode:"58",code:"VE",name:"Venezuela",pattern:"58 XXX XXX XXXX",emoji:"🇻🇪"},{phoneCode:"39 06 698",code:"VA",name:"Vatican City",pattern:"",emoji:"🇻🇦"},{phoneCode:"84",code:"VN",name:"Vietnam",pattern:"",emoji:"🇻🇳"},{phoneCode:"681",code:"WF",name:"Wallis & Futuna",pattern:"",emoji:"🇼🇫"},{phoneCode:"967",code:"YE",name:"Yemen",pattern:"967 XXX XXX XXX",emoji:"🇾🇪"},{phoneCode:"260",code:"ZM",name:"Zambia",pattern:"260 XX XXX XXXX",emoji:"🇿🇲"},{phoneCode:"255",code:"",name:"Zanzibar",pattern:"",emoji:""},{phoneCode:"263",code:"ZW",name:"Zimbabwe",pattern:"263 XX XXX XXXX",emoji:"🇿🇼"}]};window.Config=r,t.default=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.App={id:1025907,hash:"452b0359b988148995f22ff0f4229750",version:"0.3.0",domains:[],baseDcID:2},t.Modes={test:location.search.indexOf("test=1")>0,debug:location.search.indexOf("debug=1")>0,http:location.search.indexOf("http=1")>0,ssl:location.search.indexOf("ssl=1")>0||"https:"==location.protocol&&-1==location.search.indexOf("ssl=0"),multipleConnections:!0}},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const a=s(2);const i=new(o(s(17)).default)("page-chats",!1,()=>Promise.resolve().then(()=>r(s(15))).then(()=>{Promise.resolve().then(()=>r(s(37))),Array.from(document.getElementsByClassName("btn-menu-toggle")).forEach(e=>{e.addEventListener("click",t=>{if(!e.classList.contains("btn-menu-toggle"))return!1;let s=e.querySelector(".btn-menu");t.cancelBubble=!0,e.classList.contains("menu-open")?(e.classList.remove("menu-open"),s.classList.remove("active")):a.openBtnMenu(s)})})}));t.default=i},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class o{constructor(){this.channelLocals={},this.channelsByLocals={},this.channelCurLocal=0,this.fullMsgIDModulus=4294967296}getFullMessageID(e,t){if(!t||e<=0)return e;e=this.getMessageLocalID(e);var s=this.channelLocals[t];return s||(s=++this.channelCurLocal*this.fullMsgIDModulus,this.channelsByLocals[s]=t,this.channelLocals[t]=s),s+e}getMessageIDInfo(e){if(e<this.fullMsgIDModulus)return[e,0];var t=e%this.fullMsgIDModulus;return[t,this.channelsByLocals[e-t]]}getMessageLocalID(e){return e?e%this.fullMsgIDModulus:0}splitMessageIDsByChannels(e){var t,s,o,r,a={},i={};for(t=0;t<e.length;t++)s=e[t],void 0===a[r=(o=this.getMessageIDInfo(s))[1]]&&(a[r]=[],i[r]=[]),a[r].push(o[0]),i[r].push(s);return{msgIDs:a,mids:i}}}t.AppMessagesIDsManager=o,t.default=new o},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(0);t.default=class{constructor(e,t=!0){this.cancelable=t,this.preloader=null,this.circle=null,this.promise=null,this.tempID=0,this.detached=!0,this.preloader=document.createElement("div"),this.preloader.classList.add("preloader-container"),this.preloader.innerHTML='\n    <div class="you-spin-me-round">\n    <svg xmlns="http://www.w3.org/2000/svg" class="preloader-circular" viewBox="25 25 50 50">\n    <circle class="preloader-path-new" cx="50" cy="50" r="23" fill="none" stroke-miterlimit="10"/>\n    </svg>\n    </div>',t?this.preloader.innerHTML+='\n      <svg xmlns="http://www.w3.org/2000/svg" class="preloader-close" viewBox="0 0 20 20">\n      <line x1="0" y1="20" x2="20" y2="0" stroke-width="2" stroke-linecap="round"></line>\n      <line x1="0" y1="0" x2="20" y2="20" stroke-width="2" stroke-linecap="round"></line>\n      </svg>':this.preloader.classList.add("preloader-swing"),this.circle=this.preloader.firstElementChild.firstElementChild.firstElementChild,e&&this.attach(e),this.cancelable&&this.preloader.addEventListener("click",()=>{this.promise&&this.promise.cancel&&(this.promise.cancel(),this.detach())})}attach(e,t=!0,s){if(s){this.promise=s;let e=--this.tempID,t=()=>{e==this.tempID&&this.detach(),s.notify=null};s.then(t,t),s.notify=t=>{if(e!=this.tempID)return;console.log("preloader download",s,t);let o=t.done/t.total*100;this.setProgress(o)}}this.cancelable&&t&&this.setProgress(0),this.detached=!1,window.requestAnimationFrame(()=>{this.detached||(this.detached=!1,e.append(this.preloader))})}detach(){this.detached=!0,this.preloader.parentElement&&window.requestAnimationFrame(()=>{this.detached&&(this.detached=!0,this.preloader.parentElement&&this.preloader.parentElement.removeChild(this.preloader))})}setProgress(e){if(!o.isInDOM(this.circle))return;if(0==e)return void(this.circle.style.strokeDasharray="");let t=this.circle.getTotalLength();console.log("setProgress",e/100*t),this.circle.style.strokeDasharray=Math.max(5,e/100*t)+", 200"}}},function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function n(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,n)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(0),i=r(s(15)),n=r(s(7)),l=r(s(6)),d=r(s(4)),c=s(3),h=s(2),u=r(s(9)),p=s(13),g=r(s(5)),m=r(s(33));class _ extends class{constructor(e){this.element=document.createElement("div"),this.container=document.createElement("div"),this.header=document.createElement("div"),this.title=document.createElement("div"),this.element.classList.add("popup"),this.element.className="popup"+(e?" "+e:""),this.container.classList.add("popup-container","z-depth-1"),this.header.classList.add("popup-header"),this.title.classList.add("popup-title"),this.header.append(this.title),this.container.append(this.header),this.element.append(this.container)}show(){document.body.append(this.element),this.element.offsetWidth,this.element.classList.add("active")}destroy(){this.element.classList.remove("active"),setTimeout(()=>{this.element.remove()},1e3)}}{constructor(e,t={}){super("popup-peer"+(e?" "+e:"")),this.className=e;let s=new m.default;s.setAttribute("dialog","1"),s.setAttribute("peer",""+t.peerID),s.classList.add("peer-avatar"),this.title.innerText=t.title||"",this.header.prepend(s);let o=document.createElement("p");o.classList.add("popup-description"),o.innerHTML=t.description;let r=document.createElement("div");r.classList.add("popup-buttons");let a=t.buttons.map(e=>{let t=document.createElement("button");return h.ripple(t),t.className="btn"+(e.isDanger?" danger":""),t.innerHTML=e.text,e.callback?t.addEventListener("click",()=>{e.callback(),this.destroy()}):e.isCancel&&t.addEventListener("click",()=>{this.destroy()}),t});r.append(...a),this.container.append(o,r)}}class y{constructor(e){this.attachTo=e,this.element=document.getElementById("dialogs-contextmenu"),this.buttons={},Array.from(this.element.querySelectorAll(".btn-menu-item")).forEach(e=>{let t=e.className.match(/ menu-(.+?) /)[1];this.buttons[t]=e});const t=e=>{var t,s;let o=null;try{o=a.findUpTag(e.target,"LI")}catch(e){}if(!o)return;if(e.preventDefault(),this.element.classList.contains("active"))return!1;e.cancelBubble=!0,this.selectedID=+o.getAttribute("data-peerID");const r=l.default.getDialogByPeerID(this.selectedID)[0],i=r.peerID!=a.$rootScope.myID;if(i){const e=this.buttons.archive;let t="";1==r.folder_id?(t="Unarchive chat",e.classList.remove("tgico-archive")):(t="Archive chat",e.classList.add("tgico-archive")),e.innerText=t,this.buttons.archive.style.display=""}else this.buttons.archive.style.display="none";{const e=this.buttons.pin;let s="";(null===(t=r.pFlags)||void 0===t?void 0:t.pinned)?(s="Unpin from top",e.classList.remove("tgico-pin")):(s="Pin to top",e.classList.add("tgico-pin")),e.innerText=s}if(i){const e=this.buttons.mute;let t="";r.notify_settings&&r.notify_settings.mute_until>(Date.now()/1e3|0)?(t="Enable notifications",e.classList.remove("tgico-mute")):(t="Disable notifications",e.classList.add("tgico-mute")),e.innerText=t,this.buttons.mute.style.display=""}else this.buttons.mute.style.display="none";{const e=this.buttons.unread;let t="";(null===(s=r.pFlags)||void 0===s?void 0:s.unread_mark)?(t="Mark as read",e.classList.add("tgico-message")):(t="Mark as unread",e.classList.remove("tgico-message")),e.innerText=t}let d="";n.default.isMegagroup(this.selectedID)?(d="Leave group",this.peerType="megagroup"):n.default.isChannel(this.selectedID)?(d="Leave channel",this.peerType="channel"):this.selectedID<0?(d="Delete and leave",this.peerType="group"):(d="Delete chat",this.peerType=this.selectedID==a.$rootScope.myID?"saved":"chat"),this.buttons.delete.innerText=d,o.classList.add("menu-open"),h.positionMenu(e,this.element),h.openBtnMenu(this.element,()=>{o.classList.remove("menu-open")})};this.attachTo.forEach(e=>{e.addEventListener("contextmenu",t)}),this.buttons.archive.addEventListener("click",()=>{let e=l.default.getDialogByPeerID(this.selectedID)[0];e&&l.default.editPeerFolders([e.peerID],+!e.folder_id)}),this.buttons.pin.addEventListener("click",()=>{l.default.toggleDialogPin(this.selectedID)}),this.buttons.mute.addEventListener("click",()=>{i.default.mutePeer(this.selectedID)}),this.buttons.unread.addEventListener("click",()=>{l.default.markDialogUnread(this.selectedID)}),this.buttons.delete.addEventListener("click",()=>{let e,t,s,o=n.default.getPeerTitle(this.selectedID,!1,!0),r=e=>{l.default.flushHistory(this.selectedID,e)};switch(this.peerType){case"channel":e="Leave Channel?",t="Are you sure you want to leave this channel?",s=[{text:"LEAVE "+o,isDanger:!0,callback:()=>r(!0)}];break;case"megagroup":e="Leave Group?",t="Are you sure you want to leave this group?",s=[{text:"LEAVE "+o,isDanger:!0,callback:()=>r(!0)}];break;case"chat":e="Delete Chat?",t=`Are you sure you want to delete chat with <b>${o}</b>?`,s=[{text:"DELETE FOR ME AND "+o,isDanger:!0,callback:()=>r(!1)},{text:"DELETE JUST FOR ME",isDanger:!0,callback:()=>r(!0)}];break;case"saved":e="Delete Saved Messages?",t="Are you sure you want to delete all your saved messages?",s=[{text:"DELETE SAVED MESSAGES",isDanger:!0,callback:()=>r(!1)}];break;case"group":e="Delete and leave Group?",t=`Are you sure you want to delete all message history and leave <b>${o}</b>?`,s=[{text:"DELETE AND LEAVE "+o,isDanger:!0,callback:()=>r(!0)}]}s.push({text:"CANCEL",isCancel:!0}),new _("popup-delete-chat",{peerID:this.selectedID,title:e,description:t,buttons:s}).show()})}}class f{constructor(){this.chatList=document.getElementById("dialogs"),this.chatListArchived=document.getElementById("dialogs-archived"),this.doms={},this.domsArchived={},this.lastActiveListElement=null,this.rippleCallback=null,this.lastClickID=0,this.lastGoodClickID=0,this.chatsArchivedContainer=document.getElementById("chats-archived-container"),this.chatsContainer=document.getElementById("chats-container"),this.chatsArchivedOffsetIndex=0,this.chatsOffsetIndex=0,this.loadedAll=!1,this.loadedArchivedAll=!1,this.scroll=null,this.scrollArchived=null,this.log=p.logger("DIALOGS"),this.contextMenu=new y([this.chatList,this.chatListArchived]),this.chatsPreloader=h.putPreloader(null,!0),this.pinnedDelimiter=document.createElement("div"),this.pinnedDelimiter.classList.add("pinned-delimiter"),this.pinnedDelimiter.appendChild(document.createElement("span"));this.scroll=new u.default(this.chatsContainer,"y",1110,"CL",this.chatList,500),this.scroll.setVirtualContainer(this.chatList),this.scroll.onScrolledBottom=this.onChatsScroll.bind(this),this.scrollArchived=new u.default(this.chatsArchivedContainer,"y",1110,"CLA",this.chatListArchived,500),this.scrollArchived.setVirtualContainer(this.chatListArchived),this.scrollArchived.onScrolledBottom=this.onChatsArchivedScroll.bind(this),this.setListClickListener(this.chatList),this.setListClickListener(this.chatListArchived),window.addEventListener("resize",()=>{setTimeout(()=>{this.onChatsArchivedScroll()},0)}),a.$rootScope.$on("user_update",e=>{let t=e.detail,s=d.default.getUser(t),o=l.default.getDialogByPeerID(s.id)[0];if(o&&!d.default.isBot(o.peerID)&&o.peerID!=a.$rootScope.myID){let e=s.status&&"userStatusOnline"==s.status._,t=this.getDialogDom(o.peerID);t&&(e?t.avatarEl.classList.add("is-online"):t.avatarEl.classList.remove("is-online"))}i.default.peerID==s.id&&i.default.setPeerStatus()}),a.$rootScope.$on("dialog_top",e=>{let t=e.detail;this.setLastMessage(t),this.setDialogPosition(t),this.setPinnedDelimiter()}),a.$rootScope.$on("dialog_flush",e=>{let t=e.detail.peerID,s=l.default.getDialogByPeerID(t)[0];s&&this.setLastMessage(s)}),a.$rootScope.$on("dialogs_multiupdate",e=>{let t=e.detail;for(let e in t){let s=t[e];s.peerID in this.doms||this.addDialog(s),this.setLastMessage(s),this.setDialogPosition(s)}this.setPinnedDelimiter()}),a.$rootScope.$on("dialog_drop",e=>{let{peerID:t,dialog:s}=e.detail,o=this.getDialogDom(t);o&&(o.listEl.remove(),delete this.doms[t],(1==s.folder_id?this.scrollArchived:this.scroll).reorder())}),a.$rootScope.$on("dialog_unread",e=>{let t=e.detail,s=l.default.getDialogByPeerID(t.peerID)[0];s&&(this.setUnreadMessages(s),s.peerID==i.default.peerID&&i.default.updateUnreadByDialog(s))}),this.loadDialogs().then(e=>{this.setPinnedDelimiter(),this.loadDialogs(!0)})}loadDialogs(e=!1){return o(this,void 0,void 0,(function*(){if(this.loadDialogsPromise)return this.loadDialogsPromise;(e?this.chatsArchivedContainer:this.chatsContainer).append(this.chatsPreloader);let t=e?this.chatsArchivedOffsetIndex:this.chatsOffsetIndex;e?this.scrollArchived:this.scroll;try{console.time("getDialogs time");let s=50;this.loadDialogsPromise=l.default.getConversations(t,s,+e);let o=yield this.loadDialogsPromise;if(console.timeEnd("getDialogs time"),o&&o.dialogs&&o.dialogs.length){let t=o.dialogs[o.dialogs.length-1].index;e?this.chatsArchivedOffsetIndex=t:this.chatsOffsetIndex=t,o.dialogs.forEach(e=>{this.addDialog(e)})}o.dialogs.length&&(e?this.scrollArchived.length!=o.count:this.scroll.length!=o.count)||(e?this.loadedArchivedAll=!0:this.loadedAll=!0),this.log("getDialogs "+s+" dialogs by offset:",t,o,this.scroll.length),this.scroll.onScroll()}catch(e){this.log.error(e)}this.chatsPreloader.remove(),this.loadDialogsPromise=void 0}))}onChatsScroll(){this.loadedAll||this.loadDialogsPromise||this.loadDialogs()}onChatsArchivedScroll(){this.loadedArchivedAll||this.loadDialogsPromise||this.loadDialogs(!0)}setListClickListener(e,t){e.addEventListener("click",e=>{console.log("dialogs click list");let s=e.target,o=s.classList.contains("rp")?s:a.findUpClassName(s,"rp");if(!o)return;o=o.parentElement;let r=this.lastActiveListElement==o;this.lastActiveListElement&&!r&&this.lastActiveListElement.classList.remove("active");let n;Date.now();if(o){t&&t();let e=+o.getAttribute("data-peerID"),s=+o.dataset.mid;r||(o.classList.add("active"),this.lastActiveListElement=o),n=i.default.setPeer(e,s,!0),n instanceof Promise&&(this.lastGoodClickID=this.lastClickID,i.default.lazyLoadQueue.lock())}else n=i.default.setPeer(0)})}setDialogPosition(e){let t=l.default.getDialogByPeerID(e.peerID)[1],s=this.getDialogDom(e.peerID),o=a.whichChild(s.listEl);if((1==e.folder_id&&this.chatList==s.listEl.parentElement||0==e.folder_id&&this.chatListArchived==s.listEl.parentElement)&&(o=65535),o==t)return;o<t&&(t+=1);let r=1==e.folder_id?this.chatListArchived:this.chatList;r.childElementCount>t?r.insertBefore(s.listEl,r.children[t]):r.append(s.listEl),(1==e.folder_id?this.scrollArchived:this.scroll).reorder(),this.log("setDialogPosition:",e,s,t)}setPinnedDelimiter(){var e,t;let s=-1,o=l.default.dialogsStorage.dialogs[0];for(let t of o)(null===(e=t.pFlags)||void 0===e?void 0:e.pinned)&&s++;let r=null!==(t=this.pinnedDelimiter.parentElement&&a.whichChild(this.pinnedDelimiter.parentElement))&&void 0!==t?t:-1;if(s==r)return;let i=this.chatList.children,n=[];if(-1!=r&&i.length>r){let e=i[r];n.push(e)}if(-1!=s&&i.length>s){let e=i[s];n.push(e),e.append(this.pinnedDelimiter)}else this.pinnedDelimiter.remove();n.forEach(e=>{this.scroll.updateElement(e)})}setLastMessage(e,t,s,o){if(t||(t=l.default.getMessage(e.top_message)),s||(s=this.getDialogDom(e.peerID)),"messageEmpty"==t._)return s.lastMessageSpan.innerHTML="",s.lastTimeSpan.innerHTML="",void s.listEl.removeAttribute("data-mid");let r=e.peer,i=e.peerID;if(o&&t.message){let e,r=l.default.getRichReplyText(t,""),i=t.message,n=c.RichTextProcessor.parseEntities(i.replace(/\n/g," "),{noLinebreakers:!0}),d=new RegExp(a.escapeRegExp(o),"gi");n||(n=[]);let h=!1;for(;null!==(e=d.exec(i));)n.push({_:"messageEntityHighlight",length:o.length,offset:e.index}),h=!0;h&&n.sort((e,t)=>e.offset-t.offset);let u=c.RichTextProcessor.wrapRichText(i,{noLinebreakers:!0,entities:n,noTextFormat:!0});s.lastMessageSpan.innerHTML=r+u}else t.deleted?s.lastMessageSpan.innerHTML="":s.lastMessageSpan.innerHTML=t.rReply;if("peerUser"!=r._&&i!=-t.from_id){let e=d.default.getUser(t.from_id);if(e&&e.id){let t=document.createElement("b"),o="";o=e.id==a.$rootScope.myID?"You":e.first_name||e.last_name||e.username,t.innerHTML=c.RichTextProcessor.wrapRichText(o,{noLinebreakers:!0})+": ",s.lastMessageSpan.prepend(t)}}if(t.deleted)s.lastTimeSpan.innerHTML="";else{let e="",o=t.date,r=Date.now()/1e3,a=new Date(1e3*t.date);if(r-o<86400)e=("0"+a.getHours()).slice(-2)+":"+("0"+a.getMinutes()).slice(-2);else if(r-o<604800){e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(1e3*o).getDay()]}else{e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()]+" "+("0"+a.getDate()).slice(-2)}s.lastTimeSpan.innerHTML=e}s.listEl.setAttribute("data-mid",t.mid),(this.doms[i]||this.domsArchived[i])&&this.setUnreadMessages(e)}setUnreadMessages(e){let t=this.getDialogDom(e.peerID),s=l.default.getMessage(e.top_message);if("messageEmpty"!=s._&&!s.deleted&&s.from_id==a.$rootScope.myID&&s.peerID!=a.$rootScope.myID&&e.read_outbox_max_id){s.pFlags&&s.pFlags.unread?(t.statusSpan.classList.remove("tgico-checks"),t.statusSpan.classList.add("tgico-check")):(t.statusSpan.classList.remove("tgico-check"),t.statusSpan.classList.add("tgico-checks"))}else t.statusSpan.classList.remove("tgico-check","tgico-checks");if(t.unreadMessagesSpan.innerText="",t.unreadMessagesSpan.classList.remove("tgico-pinnedchat"),e.unread_count||e.pFlags.unread_mark?(t.unreadMessagesSpan.innerText=""+(e.unread_count||" "),t.unreadMessagesSpan.classList.add(new Date(1e3*e.notify_settings.mute_until)>new Date?"unread-muted":"unread")):e.pFlags.pinned&&0==e.folder_id&&(t.unreadMessagesSpan.classList.remove("unread","unread-muted"),t.unreadMessagesSpan.classList.add("tgico-pinnedchat")),1==e.folder_id){let e=Object.keys(this.domsArchived).map(e=>+e).reduce((e,t)=>{let s=l.default.getDialogByPeerID(t)[0];return s?e+s.unread_count:e},0);a.$rootScope.$broadcast("dialogs_archived_unread",{count:e})}}getDialogDom(e){return this.doms[e]||this.domsArchived[e]}addDialog(e,t,s=!0,o=!0,r=!1){let c;if("number"==typeof e){let t=l.default.getDialogByPeerID(e)[0];t||(t={peerID:e,pFlags:{}}),c=t}else c=e;let u=c.peerID;if((this.doms[u]||this.domsArchived[u])&&!t)return;let p=n.default.getPeerTitle(u,!1,r),_=new m.default;if(_.setAttribute("dialog","1"),_.setAttribute("peer",""+u),_.classList.add("dialog-avatar"),s&&u!=a.$rootScope.myID&&c.peer){switch(c.peer._){case"peerUser":let e=d.default.getUser(u);e.status&&"userStatusOnline"==e.status._&&_.classList.add("is-online")}}let y=document.createElement("div");y.classList.add("user-caption");let f=document.createElement("span");if(f.classList.add("user-title"),u<0){let e=g.default.getChat(-u);e&&e.pFlags&&e.pFlags.verified&&f.classList.add("is-verified")}else{let e=d.default.getUser(u);e&&e.pFlags&&e.pFlags.verified&&f.classList.add("is-verified")}u==a.$rootScope.myID&&(p=r?"Saved":"Saved Messages"),f.innerHTML=p;let b=document.createElement("span");b.classList.add("user-last-message");let x=document.createElement("div");x.classList.add("rp"),x.append(_,y),o&&h.ripple(x,e=>(this.log("dialogs click element"),this.lastClickID=e,new Promise((e,t)=>{this.rippleCallback=e})),e=>{e==this.lastGoodClickID&&i.default.lazyLoadQueue.unlock()});let v=document.createElement("li");v.append(x),v.setAttribute("data-peerID",""+u);let D=document.createElement("span");D.classList.add("message-status");let w=document.createElement("span");w.classList.add("message-time");let S=document.createElement("span"),E=document.createElement("p"),P=document.createElement("span");P.append(D,w),E.append(f,P);let C=document.createElement("p");C.append(b,S),y.append(E,C);let F={avatarEl:_,captionDiv:y,titleSpan:f,statusSpan:D,lastTimeSpan:w,unreadMessagesSpan:S,lastMessageSpan:b,containerEl:x,listEl:v};return t?t.append(v):(c.folder_id&&1==c.folder_id?(this.scrollArchived.append(v),this.domsArchived[c.peerID]=F):(this.scroll.append(v),this.doms[c.peerID]=F),this.setLastMessage(c)),{dom:F,dialog:c}}setTyping(e,t){let s=this.getDialogDom(e.peerID),o="";if(e.peerID<0){let e=t.rFirstName||t.username;if(!e)return;o=e+" "}let r=document.createElement("i");o+="typing...",r.innerHTML=o,s.lastMessageSpan.innerHTML="",s.lastMessageSpan.append(r),s.lastMessageSpan.classList.add("user-typing")}unsetTyping(e){let t=this.getDialogDom(e.peerID);t.lastMessageSpan.classList.remove("user-typing"),this.setLastMessage(e,null,t)}}t.AppDialogsManager=f,t.default=new f},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(12)),a=s(0);class i{constructor(){this.timestampNow=a.tsNow(!0),this.midnightNoOffset=this.timestampNow-this.timestampNow%86400,this.midnightOffseted=new Date,this.midnightOffset=this.midnightNoOffset-Math.floor(+this.midnightOffseted/1e3),this.serverTimeOffset=0,this.timeParams={midnightOffset:this.midnightOffset,serverTimeOffset:this.serverTimeOffset},this.midnightOffseted.setHours(0),this.midnightOffseted.setMinutes(0),this.midnightOffseted.setSeconds(0),r.default.get("server_time_offset").then(e=>{e&&(this.serverTimeOffset=e,this.timeParams.serverTimeOffset=e)})}}t.ServerTimeManager=i,t.default=new i},function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function n(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,n)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=s(10);t.default=new class{constructor(){this.blobSupported=!0;try{r.blobConstruct([],"")}catch(e){this.blobSupported=!1}}isAvailable(){return this.blobSupported}copy(e,t){return this.write(t,e).then(()=>(console.log("copy success"),t),e=>{console.error("copy error 1:",e);try{t.truncate(0)}catch(e){console.error("copy error",e)}return Promise.reject(e)})}write(e,t){return t.file?t.file(t=>e.write(t)):t instanceof Blob?new Promise((s,o)=>{let r=new FileReader;r.onload=function(t){let r=t.target.result,a=new Uint8Array(r);e.write(a).then(s,o)},r.readAsArrayBuffer(t)}):e.write(t)}chooseSaveFile(e,t,s,o){throw new Error("no writer")}getFakeFileWriter(e,t){var s=[];return{write:e=>o(this,void 0,void 0,(function*(){if(!this.blobSupported)throw!1;s.push(e)})),truncate:()=>{s=[]},finalize:()=>{var o=r.blobConstruct(s,e);return t&&t(o),o}}}getFileCorrectUrl(e,t){var s=r.blobSafeMimeType(t);return e instanceof Blob?URL.createObjectURL(e):"data:"+s+";base64,"+r.bytesToBase64(e)}download(e,t,s){if(window.navigator&&void 0!==navigator.msSaveBlob)return window.navigator.msSaveBlob(e,s),!1;if(window.navigator&&"getDeviceStorage"in navigator){var o="sdcard";switch(t.split("/")[0]){case"video":o="videos";break;case"audio":o="music";break;case"image":o="pictures"}var r=navigator.getDeviceStorage(o).addNamed(e,"telegram/"+s);return r.onsuccess=function(){console.log("Device storage save result",this.result)},void(r.onerror=()=>{})}let a=this.getFileCorrectUrl(e,t);var i=document.createElementNS("http://www.w3.org/1999/xhtml","a");i.href=a,i.download=s,i.dataset&&(i.dataset.downloadurl=["video/quicktime",s,a].join(":")),i.style.position="absolute",i.style.top="1px",i.style.left="1px",document.body.append(i);try{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(n)}catch(e){console.error("Download click error",e);try{i.click()}catch(e){window.open(a,"_blank")}}setTimeout(()=>{i.remove()},100)}}},function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function n(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,n)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(s(8)),n=r(s(1)),l=r(s(14)),d=r(s(29)),c=r(s(11)),h=s(0),u=r(s(24)),p=r(s(16)),g=r(s(43)),m=a(s(42)),_=s(3),y=s(2),f=r(s(6)),b=s(44),x=r(s(73));function v({doc:e,container:t,message:s,boxWidth:o,boxHeight:r,withTail:a,isOut:n,middleware:l,lazyLoadQueue:d}){let h;if(a)h=P(e,s,t,o,r,n);else if(o||r){if(!t.firstElementChild||"IMG"!=t.firstElementChild.tagName&&"VIDEO"!=t.firstElementChild.tagName){i.default.setAttachmentSize(e,t,o,r)}h=t.firstElementChild||new Image,t.contains(h)||t.append(h)}else{let s=e.thumbs;!e.downloaded&&s&&s[0].bytes&&i.default.setAttachmentPreview(s[0].bytes,t,!1),h=t.firstElementChild||new Image,t.contains(h)||t.append(h)}let p=document.createElement("video");if(a){let e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject"),t=h.getAttributeNS(null,"width"),s=h.getAttributeNS(null,"height");e.setAttributeNS(null,"width",t),e.setAttributeNS(null,"height",s),p.width=+t,p.height=+s,e.append(p),h.parentElement.append(e)}let g,_=document.createElement("source");if(p.append(_),"round"!=e.type)if(g=document.createElement("span"),g.classList.add("video-time"),t.append(g),"gif"!=e.type){g.innerText=(e.duration+"").toHHMMSS(!1);let s=document.createElement("span");s.classList.add("video-play","tgico-largeplay","btn-circle","position-center"),t.append(s)}else g.innerText="GIF";let f=()=>{let o=c.default.downloadDoc(e);if(s.media.preloader)s.media.preloader.attach(t);else if(!e.downloaded){new u.default(t,!0).attach(t,!0,o)}return o.then(s=>{if(!l||l())if(y.renderImageFromUrl(_,e.url),_.type=e.mime_type,p.append(_),a||(h&&t.contains(h)&&t.removeChild(h),t.append(p)),"gif"==e.type)p.autoplay=!0,p.loop=!0;else if("round"==e.type){p.dataset.ckin="circle",p.dataset.overlay="1";new m.default(p)}})};if(e.size>=2e7&&!e.downloaded){let e=document.createElement("div");e.classList.add("download");let s=document.createElement("span");return s.classList.add("btn-circle","tgico-download"),e.append(s),e.addEventListener("click",()=>{e.remove(),f()}),void t.prepend(e)}return e.downloaded?f():d.push({div:t,load:f,wasSeen:!0})}t.wrapVideo=v;let D=e=>{const t=new Date(1e3*e);return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()+" at "+t.getHours()+":"+("0"+t.getMinutes()).slice(-2)};function w(e,t=!1){let s=document.createElement("div");s.classList.add("audio"),console.log("wrapAudio doc:",e);let o=String(0|e.duration).toHHMMSS(!0),r=e.audioTitle||e.file_name,a=e.audioPerformer?_.RichTextProcessor.wrapPlainText(e.audioPerformer):"";t?a+=(a?" · ":"")+D(e.date):a||(a="Unknown Artist"),s.innerHTML=`\n  <div class="audio-download"><div class="tgico-download"></div></div>\n  <div class="audio-toggle audio-ico tgico-largeplay"></div>\n  <div class="audio-details">\n    <div class="audio-title">${r}</div>\n    <div class="audio-subtitle">${a}</div>\n    <div class="audio-time">${o}</div>\n  </div>\n  `;let i,n,l,d=s.lastElementChild,h=s.querySelector(".audio-download"),p=()=>{n?(h.classList.remove("downloading"),n.cancel(),n=null):(i||(i=new u.default(null,!0)),n=c.default.downloadDoc(e.id),i.attach(h,!0,n),n.then(t=>{h.classList.remove("downloading"),h.remove();let o=document.createElement("audio"),r=document.createElement("source");r.src=e.url,r.type=e.mime_type,o.volume=1,l=new m.MediaProgressLine(o),s.removeEventListener("click",p);let a=s.querySelector(".audio-toggle"),i=s.querySelector(".audio-subtitle"),n=!1;a.addEventListener("click",()=>{n||(s.classList.add("audio-show-progress"),n=!0),i.innerHTML="",i.append(l.container),o.paused?(S&&S.classList.contains("tgico-largepause")&&S.click(),o.currentTime=0,o.play(),S=a,a.classList.remove("tgico-largeplay"),a.classList.add("tgico-largepause")):(o.pause(),a.classList.add("tgico-largeplay"),a.classList.remove("tgico-largepause"))}),o.addEventListener("ended",()=>{a.classList.add("tgico-largeplay"),a.classList.remove("tgico-largepause"),d.innerText=String(0|o.currentTime).toHHMMSS(!0)}),o.style.display="none",o.append(r),s.append(o)}),h.classList.add("downloading"))};return s.addEventListener("click",p),s.click(),s}t.wrapDocument=function(e,t=!1,s=!1){if("voice"==e.type)return E(e,t);if("audio"==e.type)return w(e,t);let o=e.file_name?e.file_name.split("."):"",r="";r=o.length>1&&Array.isArray(o)?o.pop().toLowerCase():"file";let a=document.createElement("div");a.classList.add("document","ext-"+r);let i=r;"photo"==e.type&&(a.classList.add("photo"),i=`<img src="${URL.createObjectURL(e.file)}">`);let n=e.file_name||"Unknown.file",l=h.formatBytes(e.size);if(t&&(l+=" · "+D(e.date)),a.innerHTML=`\n  <div class="document-ico">${i}</div>\n  ${s?"":'<div class="document-download"><div class="tgico-download"></div></div>'}\n  <div class="document-name">${n}</div>\n  <div class="document-size">${l}</div>\n  `,!s){let t,s,o=a.querySelector(".document-download");a.addEventListener("click",()=>{if(s)o.classList.remove("downloading"),s=null;else{if(o.classList.contains("downloading"))return;t||(t=new u.default(null,!0)),c.default.saveDocFile(e.id).then(e=>{s=e.promise,t.attach(o,!0,s),s.then(()=>{o.classList.remove("downloading"),o.remove()})}),o.classList.add("downloading")}})}return a},t.wrapAudio=w;let S=null;function E(e,t=!1){let s=document.createElement("div");s.classList.add("audio","is-voice");let o=e.duration,r=String(0|o).toHHMMSS(!0);s.innerHTML=`\n  <div class="audio-toggle audio-ico tgico-largeplay"></div>\n  <div class="audio-download"><div class="tgico-download"></div></div>\n  <div class="audio-time">${r}</div>\n  `;let a,i,n=s.lastElementChild,l=s.querySelector(".audio-download"),d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.classList.add("audio-waveform"),d.setAttributeNS(null,"width","190"),d.setAttributeNS(null,"height","23"),d.setAttributeNS(null,"viewBox","0 0 190 23"),s.insertBefore(d,s.lastElementChild);let h=e.attributes[0].waveform,p=0,g=0;for(let e of h){if(p>0&&p%4==0){++p,++g;continue}let t=23*(e/255);t<2&&(t=2),d.insertAdjacentHTML("beforeend",`\n    <rect x="${4*(p-g)}" y="${23-t}" width="2" height="${t}" rx="1" ry="1"></rect>\n    `),++p}let m=s.querySelector(".audio-waveform"),_=()=>{i?(l.classList.remove("downloading"),i.cancel(),i=null):(a||(a=new u.default(null,!0)),i=c.default.downloadDoc(e.id),a.attach(l,!0,i),i.then(t=>{l.classList.remove("downloading"),l.remove();let o=document.createElement("audio"),r=document.createElement("source");r.src=e.url,r.type=e.mime_type,o.volume=1,s.removeEventListener("click",_);let a=s.querySelector(".audio-toggle"),i=0,c=0;a.addEventListener("click",()=>{o.paused?(S&&S.classList.contains("tgico-largepause")&&S.click(),o.currentTime=0,o.play(),S=a,a.classList.remove("tgico-largeplay"),a.classList.add("tgico-largepause"),Array.from(d.children).forEach(e=>e.classList.remove("active")),i=setInterval(()=>{c>d.childElementCount||isNaN(o.duration)?clearInterval(i):(n.innerText=String(0|o.currentTime).toHHMMSS(!0),c=Math.round(o.currentTime/o.duration*47),Array.from(d.children).slice(0,c+1).forEach(e=>e.classList.add("active")))},20)):(o.pause(),a.classList.add("tgico-largeplay"),a.classList.remove("tgico-largepause"),clearInterval(i))}),o.addEventListener("ended",()=>{a.classList.add("tgico-largeplay"),a.classList.remove("tgico-largepause"),clearInterval(i),Array.from(d.children).forEach(e=>e.classList.remove("active")),n.innerText=String(0|o.currentTime).toHHMMSS(!0)});let h=!1,u=!1;function p(e,t,s){let o=e.offsetX/190*t.duration;Array.from(d.children).forEach(e=>e.classList.remove("active")),c=Math.round(o/t.duration*47),Array.from(d.children).slice(0,c+1).forEach(e=>e.classList.add("active")),t.currentTime=o}m.addEventListener("mouseleave",e=>{h&&(o.play(),h=!1),u=!1}),m.addEventListener("mousemove",e=>{u=!0,h&&p(e,o,m)}),m.addEventListener("mousedown",e=>{e.preventDefault(),o.paused||(o.pause(),p(e,o,m),h=!0)}),m.addEventListener("mouseup",e=>{u&&h&&(o.play(),h=!1)}),m.addEventListener("click",e=>{o.paused||p(e,o,m)}),o.style.display="none",o.append(r),s.append(o)}),l.classList.add("downloading"))};return s.addEventListener("click",_),s.click(),s}function P(e,t,s,o,r,a){let n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.classList.add("bubble__media-container",a?"is-out":"is-in");let l=document.createElementNS("http://www.w3.org/2000/svg","image");n.append(l);i.default.setAttachmentSize("document"==e._?e:e.id,n,o,r);let d=+n.getAttributeNS(null,"width"),c=+n.getAttributeNS(null,"height"),h="clip"+t.mid;n.dataset.clipID=h;let u=document.createElementNS("http://www.w3.org/2000/svg","defs"),p="";return t.message||(p+=a?`\n      <use href="#message-tail" transform="translate(${d-2}, ${c}) scale(-1, -1)"></use>\n      <path />\n      `:`\n      <use href="#message-tail" transform="translate(2, ${c}) scale(1, -1)"></use>\n      <path />\n      `),u.innerHTML=`<clipPath id="${h}">${p}</clipPath>`,n.prepend(u),s.appendChild(n),l}function C(e,t,s,o=380,r=380,a=!0,n=!1,l,d,c=null){let h,p,g=i.default.getPhoto(e);if(a)h=P(g,t,s,o,r,n);else if(c){let e=g.sizes;!g.downloaded&&e&&e[0].bytes&&i.default.setAttachmentPreview(e[0].bytes,s,!1),h=s.firstElementChild||new Image,s.contains(h)||s.appendChild(h)}else o&&r&&(c=i.default.setAttachmentSize(e,s,o,r,!1),h=s.firstElementChild||new Image,s.contains(h)||s.appendChild(h));t.media.preloader?t.media.preloader.attach(s):g.downloaded||(p=new u.default(s,!1));let m=()=>{let t=i.default.preloadPhoto(e,c);return p&&p.attach(s,!0,t),t.then(()=>{d&&!d()||y.renderImageFromUrl(h||s,g.url)})};return g.downloaded?m():l.push({div:s,load:m,wasSeen:!0})}t.wrapVoiceMessage=E,t.wrapPhoto=C,t.wrapSticker=function(e,t,s,r,a,h,u=!1,m=!1){let _="application/x-tgsticker"==e.mime_type?2:"image/webp"==e.mime_type?1:0;if(2!=_||l.default.loaded||l.default.loadLottie(),!_)return console.error("wrong doc for wrapSticker!",e),Promise.resolve();if(e.thumbs&&!t.firstElementChild&&(!e.downloaded||2==_)){let s=e.thumbs[0];if(s.bytes&&(p.default.saveSmallFile(s.location,s.bytes),i.default.setAttachmentPreview(s.bytes,t,!0),m))return Promise.resolve()}if(m&&e.thumbs){let s=e.thumbs[0],o=()=>p.default.downloadSmallFile({_:"inputDocumentFileLocation",access_hash:e.access_hash,file_reference:e.file_reference,thumb_size:s.type,id:e.id},{dcID:e.dc_id}).then(s=>{let o=new Image;g.default.polyfillImage(o,s),t.append(o),t.dataset.docID=e.id,d.default.saveSticker(e)});return r?(r.push({div:t,load:o}),Promise.resolve()):o()}let y=e.downloaded,f=()=>c.default.downloadDoc(e.id).then(r=>{if(!s||s()){if(2==_){const s=new FileReader;s.addEventListener("loadend",s=>o(this,void 0,void 0,(function*(){console.time("decompress sticker"+e.id),console.time("render sticker"+e.id);const o=s.srcElement.result;let r=yield n.default.gzipUncompress(o,!0);console.timeEnd("decompress sticker"+e.id);let i=yield l.default.loadAnimation({container:t,loop:!1,autoplay:!1,animationData:JSON.parse(r),renderer:h?"canvas":"svg"},a);console.timeEnd("render sticker"+e.id),t.firstElementChild&&"CANVAS"!=t.firstElementChild.tagName&&t.firstElementChild.remove(),h||t.addEventListener("mouseover",e=>{let s=l.default.getAnimation(t,a);s&&(s.loop=!0,s.currentFrame==s.totalFrames-1?s.goToAndPlay(0,!0):s.play(),t.addEventListener("mouseout",()=>{s.loop=!1},{once:!0}))}),u&&i.play()}))),s.readAsArrayBuffer(r)}else if(1==_){let s=new Image;y||t.firstElementChild&&"IMG"==t.firstElementChild.tagName||(s.style.opacity="0",s.onload=()=>{window.requestAnimationFrame(()=>{s.style.opacity=""})}),e.url?s.src=e.url:g.default.polyfillImage(s,r).then(o=>{e.url=o,t.firstElementChild&&t.firstElementChild!=s&&t.firstElementChild.remove()}),t.append(s)}t.dataset.docID=e.id,d.default.saveSticker(e)}});return!r||e.downloaded&&2!=_?f():(r.push({div:t,load:f,wasSeen:"chat"==a}),Promise.resolve())},t.wrapReply=function(e,t,s){let o=document.createElement("div");o.classList.add("reply");let r=document.createElement("div");r.classList.add("reply-border");let a=document.createElement("div");a.classList.add("reply-content");let n=document.createElement("div");n.classList.add("reply-title");let l=document.createElement("div");l.classList.add("reply-subtitle"),n.innerHTML=e?_.RichTextProcessor.wrapEmojiText(e):"";let d=s&&s.media;if(d){if(l.innerHTML=s.rReply,d.photo||d.document&&-1!==["video"].indexOf(d.document.type)){let e=document.createElement("div");e.classList.add("reply-media");let t=d.photo||d.document,s=t.sizes||t.thumbs;s&&s[0].bytes&&i.default.setAttachmentPreview(s[0].bytes,e,!1,!0),i.default.preloadPhoto(t,i.default.choosePhotoSize(t,32,32)).then(s=>{y.renderImageFromUrl(e,"photo"==t._?t.url:URL.createObjectURL(s))}),a.append(e),o.classList.add("is-reply-media")}}else l.innerHTML=t?_.RichTextProcessor.wrapEmojiText(t):"";return a.append(n,l),o.append(r,a),o},t.wrapAlbum=function({groupID:e,attachmentDiv:t,middleware:s,uploading:o,lazyLoadQueue:r,isOut:a}){let n=[],l=f.default.groupedMessagesStorage[e];for(let e in l){let t=f.default.getMessage(+e),s=t.media.photo||t.media.document,o="photo"==s._?i.default.choosePhotoSize(s,380,380):{w:s.w,h:s.h};n.push({size:o,media:s,message:t})}let d=new b.Layouter(n.map(e=>({w:e.size.w,h:e.size.h})),451,100,2).layout();console.log("layout:",d,n.map(e=>({w:e.size.w,h:e.size.h})));for(let{geometry:e,sides:o}of d){let i=n.shift();if(!i){console.error("no item for layout!");continue}let{size:l,media:d,message:c}=i,h=document.createElement("div");h.classList.add("album-item"),h.dataset.mid=c.mid,h.style.width=e.width+"px",h.style.height=e.height+"px",h.style.top=e.y+"px",h.style.left=e.x+"px",o&b.RectPart.Right&&(t.style.width=e.width+e.x+"px"),o&b.RectPart.Bottom&&(t.style.height=e.height+e.y+"px"),o&b.RectPart.Left&&o&b.RectPart.Top&&(h.style.borderTopLeftRadius="inherit"),o&b.RectPart.Left&&o&b.RectPart.Bottom&&(h.style.borderBottomLeftRadius="inherit"),o&b.RectPart.Right&&o&b.RectPart.Top&&(h.style.borderTopRightRadius="inherit"),o&b.RectPart.Right&&o&b.RectPart.Bottom&&(h.style.borderBottomRightRadius="inherit"),"photo"==d._?C(d.id,c,h,0,0,!1,a,r,s,l):v({doc:c.media.document,container:h,message:c,boxWidth:0,boxHeight:0,withTail:!1,isOut:a,lazyLoadQueue:r,middleware:s}),t.append(h)}},t.wrapPoll=function(e,t){let s=new x.default;return s.setAttribute("poll-id",e),s.setAttribute("message-id",""+t),s}},function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function n(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,n)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(s(12)),i=r(s(1)),n=r(s(16)),l=r(s(11));const d=new class{constructor(){this.documents={},this.stickerSets={},a.default.get("stickerSets").then(e=>{if(e){for(let t in e){e[t].documents.forEach(e=>{delete e.downloaded,delete e.url,this.saveSticker(e)})}this.stickerSets=e}this.stickerSets.emoji||this.getStickerSet({id:"emoji",access_hash:""})})}saveSticker(e){return this.documents[e.id]?this.documents[e.id]:(e.file_reference=Array.from(e.file_reference),e=l.default.saveDoc(e),this.documents[e.id]=e,e)}getSticker(e){return this.documents[e]}getStickerSet(e){return o(this,void 0,void 0,(function*(){if(this.stickerSets[e.id])return this.stickerSets[e.id];let t=i.default.invokeApi("messages.getStickerSet",{stickerset:"emoji"==e.id?{_:"inputStickerSetAnimatedEmoji"}:{_:"inputStickerSetID",id:e.id,access_hash:e.access_hash}}),s=yield t;return this.saveStickerSet(s,e.id),s}))}getAnimatedEmojiSticker(e){return this.stickerSets.emoji.documents.find(t=>t.attributes.find(t=>t.alt==e))}saveStickerSet(e,t){return o(this,void 0,void 0,(function*(){this.stickerSets[t]={set:e.set,packs:e.packs,documents:e.documents},e.documents.forEach(this.saveSticker.bind(this)),yield a.default.set({stickerSets:this.stickerSets})}))}getStickerSetThumb(e){let t=e.thumb,s=e.thumb_dc_id;return n.default.downloadSmallFile({_:"inputStickerSetThumb",stickerset:{_:"inputStickerSetID",id:e.id,access_hash:e.access_hash},volume_id:t.location.volume_id,local_id:t.location.local_id},{dcID:s})}cleanup(){return o(this,void 0,void 0,(function*(){yield a.default.remove("stickerSets")}))}};window.appStickersManager=d,t.default=d},,,function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(2),a=o(s(9)),i=s(3),n=o(s(20)),l=s(0),d=o(s(66)),c=o(s(79)),h=o(s(1)),u=o(s(17)),p=s(21);let g=null;const m=new u.default("page-sign",!0,()=>{p.Modes.test&&(n.default.Countries.push({name:"Test Country",phoneCode:"999 66",code:"TC",emoji:"🤔",pattern:"999 66 XXX XX"}),console.log("Added test country to list!"));const e=n.default.Countries.filter(e=>e.emoji).sort((e,t)=>e.name.localeCompare(t.name));let t="";var s=m.pageEl.querySelector('input[name="countryCode"]'),o=s.parentElement,u=document.createElement("div");u.classList.add("select-wrapper","z-depth-3");var _=document.createElement("ul");u.appendChild(_);new a.default(u);let y=!1;m.pageEl.querySelector(".a-qr").addEventListener("click",()=>{c.default.mount()}),s.addEventListener("focus",(function(r){y||(e.forEach(e=>{y=!0;let t=e.emoji,s=[];e.phoneCode.split(" and ").forEach(o=>{let r=document.createElement("li");var a=document.createElement("span");let n=i.RichTextProcessor.wrapRichText(t);r.appendChild(a),a.outerHTML=n,r.append(e.name);var l=document.createElement("span");l.classList.add("phone-code"),l.innerText="+"+o,r.appendChild(l),s.push(r),_.append(r)}),e.li=s}),_.addEventListener("mousedown",(function(e){let o=e.target;"LI"!=o.tagName&&(o=l.findUpTag(o,"LI"));let r=o.childNodes[1].textContent,a=o.querySelector(".phone-code").innerText;s.value=r,t=r,f.value=a,setTimeout(()=>f.focus(),0),console.log("clicked",e,r,a)}))),o.appendChild(u)})),s.addEventListener("blur",(function(e){o.removeChild(u),e.cancelBubble=!0}),{capture:!0}),s.addEventListener("keyup",(function(s){if(s.ctrlKey||"Control"==s.key)return!1;let o=this.value.toLowerCase(),r=[];if(e.forEach(e=>{let t=-1!==e.name.toLowerCase().indexOf(o);e.li.forEach(e=>e.style.display=t?"":"none"),t&&r.push(e)}),1==r.length&&1==r[0].li.length){if(r[0].name==t)return!1;console.log("clicking",r[0]);var a=document.createEvent("MouseEvents");return a.initEvent("mousedown",!0,!0),r[0].li[0].dispatchEvent(a),!1}0==r.length&&e.forEach(e=>{e.li.forEach(e=>e.style.display="")})})),m.pageEl.querySelector(".arrow-down").addEventListener("mousedown",(function(e){e.cancelBubble=!0,e.preventDefault(),s.matches(":focus")?s.blur():s.focus()}));e.slice().sort((e,t)=>t.phoneCode.length-e.phoneCode.length);let f=m.pageEl.querySelector('input[name="phone"]');f.addEventListener("input",(function(e){this.classList.remove("error");let{formatted:o,country:a}=r.formatPhoneNumber(this.value);this.value=o?"+"+o:"",console.log(o,a);let i=a?a.name:"";i!=s.value&&(s.value=i,t=i),a&&this.value.length-1>=(a.pattern?a.pattern.length:9)?g.style.visibility="":g.style.visibility="hidden"})),f.addEventListener("keypress",(function(e){return this.value.length>=9&&"Enter"==e.key?g.click():/\D/.test(e.key)?(e.preventDefault(),!1):void 0})),g.addEventListener("click",(function(e){this.setAttribute("disabled","true"),this.textContent="PLEASE WAIT...",r.putPreloader(this);let t=f.value;h.default.invokeApi("auth.sendCode",{phone_number:t,api_id:p.App.id,api_hash:p.App.hash,settings:{_:"codeSettings",flags:0}}).then(e=>{console.log("got code",e),d.default.mount(Object.assign(e,{phone_number:t}))}).catch(e=>{switch(this.removeAttribute("disabled"),this.innerText="NEXT",e.type){case"PHONE_NUMBER_INVALID":f.classList.add("error");break;default:console.error("auth.sendCode error:",e),this.innerText=e.type}})}));h.default.invokeApi("help.getNearestDc").then(e=>(e.nearest_dc!=e.this_dc&&h.default.getNetworker(e.nearest_dc),e)).then(o=>{let r=e.find(e=>e.code==o.country);return r&&(s.value.length||f.value.length||(s.value=r.name,t=r.name,f.value="+"+r.phoneCode.split(" and ").shift())),console.log("woohoo",o,r)})},()=>{g||(g=m.pageEl.querySelector("button")),g.textContent="NEXT",g.removeAttribute("disabled")});t.default=m},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(19));class a extends HTMLElement{constructor(){super(),this.isDialog=!1}connectedCallback(){this.isDialog=!!this.getAttribute("dialog")}disconnectedCallback(){}static get observedAttributes(){return["peer","dialog"]}attributeChangedCallback(e,t,s){"peer"==e?this.peerID=+s:"dialog"==e&&(this.isDialog=!!s),this.update()}update(){r.default.putPhoto(this,this.peerID,this.isDialog)}adoptedCallback(){}}t.default=a,customElements.define("avatar-element",a)},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const a=s(2),i=o(s(9)),n=s(0),l=o(s(6)),d=o(s(8)),c=o(s(7)),h=o(s(4)),u=o(s(19)),p=s(3),g=s(13),m=o(s(15)),_=o(s(35)),y=o(s(36)),f=s(28),b=r(s(45));t.default=new class{constructor(){this.sidebarEl=document.getElementById("column-right"),this.profileContainer=this.sidebarEl.querySelector(".profile-container"),this.profileContentEl=this.sidebarEl.querySelector(".profile-content"),this.contentContainer=this.sidebarEl.querySelector(".content-container"),this.profileElements={avatar:this.profileContentEl.querySelector(".profile-avatar"),name:this.profileContentEl.querySelector(".profile-name"),subtitle:this.profileContentEl.querySelector(".profile-subtitle"),bio:this.profileContentEl.querySelector(".profile-row-bio"),username:this.profileContentEl.querySelector(".profile-row-username"),phone:this.profileContentEl.querySelector(".profile-row-phone"),notificationsRow:this.profileContentEl.querySelector(".profile-row-notifications"),notificationsCheckbox:this.profileContentEl.querySelector("#profile-notifications"),notificationsStatus:this.profileContentEl.querySelector(".profile-row-notifications > p")},this.sharedMedia={contentMembers:this.profileContentEl.querySelector("#content-members"),contentMedia:this.profileContentEl.querySelector("#content-media"),contentDocuments:this.profileContentEl.querySelector("#content-docs"),contentLinks:this.profileContentEl.querySelector("#content-links"),contentAudio:this.profileContentEl.querySelector("#content-audio")},this.lastSharedMediaDiv=null,this.loadSidebarMediaPromises={},this.loadedAllMedia={},this.sharedMediaTypes=["inputMessagesFilterContacts","inputMessagesFilterPhotoVideo","inputMessagesFilterDocument","inputMessagesFilterUrl","inputMessagesFilterMusic"],this.sharedMediaType="",this.sharedMediaSelected=null,this.lazyLoadQueueSidebar=new y.default(5),this.historiesStorage={},this.usedFromHistory={},this.log=g.logger("SR"),this.peerID=0,this.scroll=null,this.prevTabID=-1,this.mediaDivsByIDs={},this.urlsToRevoke=[],this.searchContainer=this.sidebarEl.querySelector("#search-private-container"),this.searchCloseBtn=this.searchContainer.querySelector(".sidebar-close-button"),this.searchInput=document.getElementById("private-search"),this.privateSearch=new b.default(this.searchContainer.querySelector(".chats-container"),this.searchInput,{messages:new b.SearchGroup("Private Search","messages")});let e=this.profileContentEl.querySelector(".content-container .tabs-container");this.profileTabs=this.profileContentEl.querySelector(".profile-tabs"),this.scroll=new i.default(this.profileContainer,"y",1200,"SR",void 0,400),this.scroll.container.addEventListener("scroll",this.onSidebarScroll.bind(this)),this.scroll.onScrolledBottom=()=>{this.sharedMediaSelected&&this.sharedMediaSelected.childElementCount&&(this.log("onScrolledBottom will load media"),this.loadSidebarMedia(!0))},a.horizontalMenu(this.profileTabs,e,(e,t)=>{this.prevTabID!=e&&(this.sharedMediaType=this.sharedMediaTypes[e],this.sharedMediaSelected=t.firstElementChild,this.profileTabs.offsetTop&&(this.scroll.scrollTop-=this.profileTabs.offsetTop),this.log("setVirtualContainer",e,this.sharedMediaSelected,this.sharedMediaSelected.childElementCount),this.scroll.setVirtualContainer(this.sharedMediaSelected),-1==this.prevTabID||this.sharedMediaSelected.childElementCount||(this.contentContainer.classList.remove("loaded"),this.loadSidebarMedia(!0)),this.prevTabID=e,this.scroll.onScroll())},()=>{this.onSidebarScroll.bind(this),this.scroll.onScroll()}),this.sidebarEl.querySelector(".sidebar-close-button").addEventListener("click",()=>{this.toggleSidebar(!1)}),this.searchCloseBtn.addEventListener("click",()=>{this.searchContainer.classList.remove("active"),this.privateSearch.reset()}),this.sharedMedia.contentMedia.addEventListener("click",e=>{let t=e.target,s=+t.dataset.mid;if(!s)return void this.log.warn("no messageID by click on target:",t);let o=l.default.getMessage(s),r=Object.keys(this.mediaDivsByIDs).map(e=>+e).sort((e,t)=>e-t),a=r.findIndex(e=>e==s),i=r.map(e=>({element:this.mediaDivsByIDs[e],mid:e}));_.default.openMedia(o,t,!1,this.sidebarEl,i.slice(a+1).reverse(),i.slice(0,a).reverse(),!0)}),this.profileElements.notificationsCheckbox.addEventListener("change",()=>{m.default.mutePeer(this.peerID)}),window.addEventListener("resize",this.onSidebarScroll.bind(this))}beginSearch(){this.toggleSidebar(!0),this.searchContainer.classList.add("active"),this.privateSearch.beginSearch(this.peerID)}onSidebarScroll(){this.lazyLoadQueueSidebar.check()}toggleSidebar(e){void 0===e?this.sidebarEl.classList.toggle("active"):e?(setTimeout(()=>this.lazyLoadQueueSidebar.check(),200),this.sidebarEl.classList.add("active")):this.sidebarEl.classList.remove("active")}filterMessagesByType(e,t){let s=[];for(let t of e){let e=l.default.getMessage(t);e.media&&s.push(e)}let o=[];switch(t){case"inputMessagesFilterPhotoVideo":for(let e of s){let t=e.media.photo||e.media.document||e.media.webpage&&e.media.webpage.document;t&&("document"==t._&&"video"!=t.type||o.push(e))}break;case"inputMessagesFilterDocument":for(let e of s){if(!e.media.document||"voice"==e.media.document.type||"audio"==e.media.document.type)continue;let t=e.media.document;t.attributes&&t.attributes.find(e=>"documentAttributeSticker"==e._)||o.push(e)}break;case"inputMessagesFilterUrl":for(let e of s)e.media.webpage&&"webPageEmpty"!=e.media.webpage._&&o.push(e);break;case"inputMessagesFilterMusic":for(let e of s)e.media.document&&"audio"==e.media.document.type&&o.push(e)}return o}performSearchResult(e,t){let s,o=this.peerID,r=[];switch(t){case"inputMessagesFilterPhotoVideo":s=this.sharedMedia.contentMedia;for(let t of e){let e=t.media.photo||t.media.document||t.media.webpage&&t.media.webpage.document,s=document.createElement("div"),i="photo"==e._,l=i?d.default.getPhoto(e.id):null,c=l&&l.downloaded||d.default.getDocumentCachedThumb(e.id);if(!c){let t=e.sizes||e.thumbs;t&&t[0].bytes&&d.default.setAttachmentPreview(t[0].bytes,s,!1,!0)}if(!i){let t=document.createElement("span");t.classList.add("video-time"),s.append(t),"gif"!=e.type?t.innerText=(e.duration+"").toHHMMSS(!1):t.innerText="GIF"}let h=()=>d.default.preloadPhoto(i?e.id:e,d.default.choosePhotoSize(e,200,200)).then(()=>{if(n.$rootScope.selectedPeerID!=o)return void this.log.warn("peer changed");let t=l&&l.url||d.default.getDocumentCachedThumb(e.id).url;t&&a.renderImageFromUrl(s,t)});s.dataset.mid=""+t.mid,c?h():this.lazyLoadQueueSidebar.push({div:s,load:h}),this.lastSharedMediaDiv.append(s),3==this.lastSharedMediaDiv.childElementCount&&(this.scroll.contains(this.lastSharedMediaDiv)||r.push(this.lastSharedMediaDiv),this.lastSharedMediaDiv=document.createElement("div")),this.mediaDivsByIDs[t.mid]=s}break;case"inputMessagesFilterDocument":s=this.sharedMedia.contentDocuments;for(let t of e){let e=f.wrapDocument(t.media.document,!0);r.push(e)}break;case"inputMessagesFilterUrl":s=this.sharedMedia.contentLinks;for(let t of e){let e=t.media.webpage,s=document.createElement("div"),i=document.createElement("div");if(i.classList.add("preview"),e.photo){let t=()=>d.default.preloadPhoto(e.photo.id,d.default.choosePhotoSize(e.photo,60,60)).then(()=>{n.$rootScope.selectedPeerID==o?a.renderImageFromUrl(i,e.photo.url):this.log.warn("peer changed")});this.lazyLoadQueueSidebar.push({div:i,load:t})}else i.innerText=(e.title||e.description||e.url||e.display_url).slice(0,1),i.classList.add("empty");let l=e.rTitle||"",c=e.rDescription||"",h=p.RichTextProcessor.wrapRichText(e.url||"");l||(l=e.display_url.split("/",1)[0]),s.append(i),s.insertAdjacentHTML("beforeend",`\n          <div class="title">${l}</div>\n          <div class="subtitle">${c}</div>\n          <div class="url">${h}</div>\n          `),s.innerText.trim().length&&r.push(s)}break;case"inputMessagesFilterMusic":s=this.sharedMedia.contentAudio;for(let t of e){let e=f.wrapAudio(t.media.document,!0);r.push(e)}}if(this.lastSharedMediaDiv.childElementCount&&!this.scroll.contains(this.lastSharedMediaDiv)&&r.push(this.lastSharedMediaDiv),r.length&&s.append(...r),s){let e=s.parentElement;e.lastElementChild.classList.contains("preloader")&&(e.lastElementChild.remove(),this.contentContainer.classList.add("loaded"))}this.onSidebarScroll()}loadSidebarMedia(e=!1){var t;this.log("loadSidebarMedia",e,this.peerID,this.loadSidebarMediaPromises);let s=this.peerID,o=e?[this.sharedMediaType]:this.sharedMediaTypes;if(o=o.filter(e=>!this.loadedAllMedia[e]),!o.length)return;let r=3*(d.default.windowH/130|0),a=null!==(t=this.historiesStorage[s])&&void 0!==t?t:this.historiesStorage[s]={},i=o.map(e=>{var t;if(this.loadSidebarMediaPromises[e])return this.loadSidebarMediaPromises[e];let o=null!==(t=a[e])&&void 0!==t?t:a[e]=[];if(o.length&&this.usedFromHistory[e]<o.length){let t=[],s=this.usedFromHistory[e];do{let a=o.slice(s,s+r);this.log("loadSidebarMedia: will render from cache",s,o,a,r),s+=a.length,t.push(...this.filterMessagesByType(a,e))}while(t.length<r&&s<o.length);if(t.length>r){let e=t.length-r;t=t.slice(0,t.length-e),s-=e}return this.usedFromHistory[e]=s,t.length&&this.performSearchResult(t,e),Promise.resolve()}let i=o[o.length-1]||0,d=!i&&l.default.historiesStorage[s]?l.default.historiesStorage[s].history.slice():[];return i=!i&&d.length?d[d.length-1]:i,this.log("loadSidebarMedia: search house of glass pre",e,d,i),this.loadSidebarMediaPromises[e]=l.default.getSearch(s,"",{_:e},i,r).then(t=>{d=d.concat(t.history),o.push(...d),this.log("loadSidebarMedia: search house of glass",e,t,d),n.$rootScope.selectedPeerID==s?(t.history.length<r&&(this.loadedAllMedia[e]=!0),this.usedFromHistory[e]=o.length,d.length&&this.performSearchResult(this.filterMessagesByType(d,e),e)):this.log.warn("peer changed")},e=>{this.log.error("load error:",e)}).then(()=>{this.loadSidebarMediaPromises[e]=null})});return Promise.all(i)}fillProfileElements(){let e=this.peerID=n.$rootScope.selectedPeerID;this.loadSidebarMediaPromises={},this.loadedAllMedia={},this.lastSharedMediaDiv=document.createElement("div"),this.contentContainer.classList.remove("loaded"),this.profileElements.avatar.setAttribute("peer",""+e),window.requestAnimationFrame(()=>{this.profileContentEl.parentElement.scrollTop=0,this.profileElements.bio.style.display="none",this.profileElements.phone.style.display="none",this.profileElements.username.style.display="none",this.profileElements.notificationsRow.style.display="",this.profileElements.notificationsCheckbox.checked=!0,this.profileElements.notificationsStatus.innerText="Enabled",Object.keys(this.sharedMedia).forEach(e=>{this.sharedMedia[e].innerHTML="";let t=this.sharedMedia[e].parentElement;t.querySelector(".preloader")||a.putPreloader(t,!0)}),this.prevTabID=-1,this.scroll.setVirtualContainer(null),this.profileTabs.firstElementChild.children[1].click(),this.loadSidebarMedia(!0)}),this.mediaDivsByIDs={},this.lazyLoadQueueSidebar.clear(),this.urlsToRevoke.forEach(e=>{URL.revokeObjectURL(e)}),this.urlsToRevoke.length=0,this.sharedMediaTypes.forEach(e=>{this.usedFromHistory[e]=0});let t=(e,t)=>{window.requestAnimationFrame(()=>{t.childElementCount>1&&t.firstElementChild.remove();let s=document.createElement("p");s.innerHTML=e,t.prepend(s),t.style.display=""})};if(e!=m.default.myID){c.default.getPeerUsername(e)&&t(c.default.getPeerUsername(e),this.profileElements.username);let s=l.default.getDialogByPeerID(e);if(s.length){s=s[0];let e=!1;s.notify_settings&&s.notify_settings.mute_until&&(e=new Date(1e3*s.notify_settings.mute_until)>new Date),m.default.setMutedState(e)}}else window.requestAnimationFrame(()=>{this.profileElements.notificationsRow.style.display="none"});if(e>0){let s=h.default.getUser(e);s.phone&&e!=m.default.myID&&t(s.rPhone,this.profileElements.phone),u.default.getProfile(e,!0).then(s=>{this.peerID==e?(s.rAbout&&e!=m.default.myID&&t(s.rAbout,this.profileElements.bio),s.pinned_msg_id&&(m.default.pinnedMsgID=s.pinned_msg_id,l.default.wrapSingleMessage(s.pinned_msg_id))):this.log.warn("peer changed")})}else{let s=c.default.getPeer(e);u.default.getChatFull(s.id).then(s=>{this.peerID==e?s.about&&t(p.RichTextProcessor.wrapRichText(s.about),this.profileElements.bio):this.log.warn("peer changed")})}}}},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(7)),a=o(s(8)),i=o(s(6)),n=s(3),l=s(13),d=o(s(24)),c=s(0),h=o(s(11)),u=o(s(42)),p=s(2);class g{constructor(){this.overlaysDiv=document.querySelector(".overlays"),this.mediaViewerDiv=this.overlaysDiv.firstElementChild,this.author={avatarEl:this.overlaysDiv.querySelector(".media-viewer-userpic"),nameEl:this.overlaysDiv.querySelector(".media-viewer-name"),date:this.overlaysDiv.querySelector(".media-viewer-date")},this.buttons={delete:this.overlaysDiv.querySelector(".media-viewer-delete-button"),forward:this.overlaysDiv.querySelector(".media-viewer-forward-button"),download:this.overlaysDiv.querySelector(".media-viewer-download-button"),close:this.overlaysDiv.querySelector(".media-viewer-close-button"),prev:this.overlaysDiv.querySelector(".media-viewer-switcher-left"),next:this.overlaysDiv.querySelector(".media-viewer-switcher-right")},this.content={container:this.overlaysDiv.querySelector(".media-viewer-media"),caption:this.overlaysDiv.querySelector(".media-viewer-caption"),mover:document.querySelector(".media-viewer-mover")},this.currentMessageID=0,this.preloader=null,this.lastTarget=null,this.prevTargets=[],this.nextTargets=[],this.targetContainer=null,this.loadMore=null,this.peerID=0,this.loadMediaPromiseUp=null,this.loadMediaPromiseDown=null,this.loadedAllMediaUp=!1,this.loadedAllMediaDown=!1,this.reverse=!1,this.needLoadMore=!0,this.log=l.logger("AMV"),this.preloader=new d.default,this.onKeyDownBinded=this.onKeyDown.bind(this),this.buttons.close.addEventListener("click",()=>{this.content.container.innerHTML="",this.content.container.firstElementChild&&URL.revokeObjectURL(this.content.container.firstElementChild.src),this.peerID=0,this.currentMessageID=0,this.setMoverToTarget(this.lastTarget,!0),this.lastTarget=null,this.prevTargets=[],this.nextTargets=[],this.loadedAllMediaUp=this.loadedAllMediaDown=!1,this.loadMediaPromiseUp=this.loadMediaPromiseDown=null,window.removeEventListener("keydown",this.onKeyDownBinded)}),this.buttons.prev.addEventListener("click",()=>{let e=this.prevTargets.pop();e?(this.nextTargets.unshift({element:this.lastTarget,mid:this.currentMessageID}),this.openMedia(i.default.getMessage(e.mid),e.element)):this.buttons.prev.style.display="none"}),this.buttons.next.addEventListener("click",()=>{let e=this.nextTargets.shift();e?(this.prevTargets.push({element:this.lastTarget,mid:this.currentMessageID}),this.openMedia(i.default.getMessage(e.mid),e.element)):this.buttons.next.style.display="none"}),this.buttons.download.addEventListener("click",()=>{let e=i.default.getMessage(this.currentMessageID);if(e.media.photo)a.default.downloadPhoto(e.media.photo.id);else{let t=null;t=e.media.webpage?e.media.webpage.document:e.media.document,t&&(console.log("will save document:",t),h.default.saveDocFile(t.id))}}),this.onClickBinded=e=>{let t=e.target,s=null;["media-viewer-mover","media-viewer-buttons","media-viewer-author"].find(e=>{try{if(s=c.findUpClassName(t,e),s)return!0}catch(e){return!1}}),s&&"IMG"!=t.tagName&&"image"!=t.tagName||this.buttons.close.click()},this.overlaysDiv.addEventListener("click",this.onClickBinded),this.content.mover.addEventListener("click",this.onClickBinded)}onKeyDown(e){"ArrowRight"==e.key?this.buttons.next.click():"ArrowLeft"==e.key&&this.buttons.prev.click()}setMoverToTarget(e,t=!1,s=0){let o=this.content.mover;t||(o.innerHTML="",o.append(this.buttons.prev,this.buttons.next));let r,i,n=0!==s,l=n?350:200;e&&(e instanceof SVGImageElement||e.parentElement instanceof SVGForeignObjectElement?(r=c.findUpClassName(e,"attachment"),i=r.getBoundingClientRect()):(r=e.parentElement,i=e.getBoundingClientRect()));let d,h,u=this.content.container.getBoundingClientRect(),p="";n?(d=1===s?a.default.windowW:-u.width,h=u.top):(d=i.left,h=i.top),p+=`translate(${d}px,${h}px) `,o.style.width=u.width+"px",o.style.height=u.height+"px",o.classList.remove("cover");let g=i.width/u.width,m=i.height/u.height;n||(p+=`scale(${g},${m}) `);let _,y=window.getComputedStyle(r).getPropertyValue("border-radius"),f=c.fillPropertyValue(y);y=f.map(e=>parseInt(e)/g+"px").join(" "),n||(o.style.borderRadius=y),o.style.transform=p;let b=e.classList.contains("is-out");if(t)e instanceof SVGSVGElement&&(_=o.querySelector("path"),_&&this.sizeTailPath(_,u,g,l,!1,b,y)),setTimeout(()=>{this.overlaysDiv.classList.remove("active")},0),setTimeout(()=>{o.style.borderRadius=y,o.firstElementChild&&(o.firstElementChild.style.borderRadius=y),"DIV"==e.tagName&&o.classList.add("cover")},l/2),setTimeout(()=>{o.innerHTML="",o.classList.remove("moving","active","cover"),o.style.display="none"},l);else{let t,s;if("DIV"==e.tagName)t=new Image,t.src=e.style.backgroundImage.slice(5,-2);else if("IMG"==e.tagName||"image"==e.tagName)t=new Image,t.src=e instanceof SVGImageElement?e.getAttributeNS(null,"href"):e.src,t.style.objectFit="contain";else if("VIDEO"==e.tagName){s=document.createElement("video");let t=document.createElement("source");t.src=e.querySelector("source").src,s.append(t)}else if(e instanceof SVGSVGElement){let t=e.dataset.clipID,s=t+"-mv",{width:r,height:a}=u,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"width",""+r),i.setAttributeNS(null,"height",""+a),i.insertAdjacentHTML("beforeend",e.firstElementChild.outerHTML.replace(t,s)),i.insertAdjacentHTML("beforeend",e.lastElementChild.outerHTML.replace(t,s));let n=i.firstElementChild,l=n.firstElementChild.firstElementChild;if(l instanceof SVGUseElement){let e,t=l.getAttributeNS(null,"transform");t=t.replace(/translate\((.+?), (.+?)\) scale\((.+?), (.+?)\)/,(e,t,s,o,i)=>`translate(${t=2!=(t=+t)?r-2/g:2/g}, ${a}) scale(${+o/g}, ${+i/m})`),l.setAttributeNS(null,"transform",t),_=n.firstElementChild.lastElementChild;let s=y.split(" ").map(e=>parseInt(e));e=b?c.generatePathData(0,0,r-9/g,a,...s):c.generatePathData(9/g,0,r-9/g,a,...s),_.setAttributeNS(null,"d",e)}let d=i.lastElementChild;d.setAttributeNS(null,"width",""+u.width),d.setAttributeNS(null,"height",""+u.height),o.prepend(i)}t?(t.style.borderRadius=y,o.prepend(t)):s&&(s.style.borderRadius=y,o.prepend(s)),o.style.display="",setTimeout(()=>{o.classList.add(n?"moving":"active")},0)}return()=>{o.style.transform=`translate(${u.left}px,${u.top}px) scale(1,1)`,setTimeout(()=>{o.style.borderRadius="",o.firstElementChild&&(o.firstElementChild.style.borderRadius=""),o.classList.remove("cover")},l/2),_&&this.sizeTailPath(_,u,g,l,!0,b,y)}}sizeTailPath(e,t,s,o,r,a,i){let n=Date.now(),{width:l,height:d}=t;o/=2;let h=i.split(" ").map(e=>parseInt(e)),u=()=>{let t=Date.now()-n,i=t/o;i>1&&(i=1),r&&(i=1-i);let p,g=h.map(e=>e*i);p=a?c.generatePathData(0,0,l-9/s*i,d,...g):c.generatePathData(9/s*i,0,l,d,...g),e.setAttributeNS(null,"d",p),t<o&&window.requestAnimationFrame(u)};u()}moveTheMover(e,t=!0){let s=a.default.windowW;e.classList.add("moving");let o=e.getBoundingClientRect(),r=e.style.transform.replace(/translate\((.+?),/,(e,r)=>{let a=+r.slice(0,-2);return a=t?-o.width:s,e.replace(r,a+"px")});e.style.transform=r,setTimeout(()=>{e.remove()},350)}setNewMover(){let e=document.createElement("div");return e.classList.add("media-viewer-mover"),this.content.mover.parentElement.append(e),e.addEventListener("click",this.onClickBinded),this.content.mover=e}isElementVisible(e,t){let s=e.getBoundingClientRect(),o=t.getBoundingClientRect();return o.bottom>s.top&&o.top<s.bottom}loadMoreMedia(e=!0){if(e&&this.loadedAllMediaDown)return;if(!e&&this.loadedAllMediaUp)return;if(e&&this.loadMediaPromiseDown)return this.loadMediaPromiseDown;if(!e&&this.loadMediaPromiseUp)return this.loadMediaPromiseUp;let t,s=e?0:50,o=this.currentMessageID;t=e?this.reverse?this.prevTargets[0]:this.nextTargets[this.nextTargets.length-1]:this.reverse?this.nextTargets[this.nextTargets.length-1]:this.prevTargets[0],t&&(o=t.mid),e||(o+=1);let r=this.peerID,a=i.default.getSearch(r,"",{_:"inputMessagesFilterPhotoVideo"},o,50,0,s).then(t=>{if(this.peerID!=r)return void this.log.warn("peer changed");this.log("loaded more media by maxID:",o,t,e,this.reverse),t.history.length<50&&(e?this.loadedAllMediaDown=!0:this.loadedAllMediaUp=!0),(e?t.history.forEach:t.history.forEachReverse).call(t.history,t=>{let s=i.default.getMessage(t).media;if(!s||!(s.photo||s.document||s.webpage&&s.webpage.document))return;if("document"==s._&&"video"!=s.type)return;let o={element:null,mid:t};e?this.reverse?this.prevTargets.unshift(o):this.nextTargets.push(o):this.reverse?this.nextTargets.push(o):this.prevTargets.unshift(o)}),this.buttons.prev.style.display=this.prevTargets.length?"":"none",this.buttons.next.style.display=this.nextTargets.length?"":"none"},()=>{}).then(()=>{e?this.loadMediaPromiseDown=null:this.loadMediaPromiseUp=null});return e?this.loadMediaPromiseDown=a:this.loadMediaPromiseUp=a,a}updateMediaSource(e,t,s){let o=e.querySelector(s);p.renderImageFromUrl(o,t)}openMedia(e,t,s=!1,o,i=[],l=[],d=!0){let g=e.media.photo||e.media.document||e.media.webpage.document||e.media.webpage.photo,m="video/mp4"==g.mime_type,_=!this.peerID;_&&(this.peerID=c.$rootScope.selectedPeerID,this.targetContainer=o,this.prevTargets=i,this.nextTargets=l,this.reverse=s,this.needLoadMore=d);let y=0;_||(y=this.reverse?this.currentMessageID<e.mid?1:-1:this.currentMessageID>e.mid?1:-1),this.buttons.prev.style.display=this.prevTargets.length?"":"none",this.buttons.next.style.display=this.nextTargets.length?"":"none";let f=this.content.container,b=!t;b&&(t=f),this.currentMessageID=e.mid,this.lastTarget=t,this.needLoadMore&&(this.nextTargets.length<20&&this.loadMoreMedia(!this.reverse),this.prevTargets.length<20&&this.loadMoreMedia(this.reverse)),f.firstElementChild&&(f.innerHTML="");let x=new Date(1e3*g.date),v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][x.getMonth()]+" "+x.getDate()+" at "+x.getHours()+":"+("0"+x.getMinutes()).slice(-2);this.author.date.innerText=v;let D=r.default.getPeerTitle(e.fromID);this.author.nameEl.innerHTML=D,e.message?this.content.caption.innerHTML=n.RichTextProcessor.wrapRichText(e.message,{entities:e.totalEntities}):this.content.caption.innerHTML="",this.author.avatarEl.setAttribute("peer",""+e.fromID),0!==y?(this.moveTheMover(this.content.mover,1===y),this.setNewMover()):(window.addEventListener("keydown",this.onKeyDownBinded),this.overlaysDiv.classList.add("active"));let w=this.content.mover,S=a.default.windowW-16,E=a.default.windowH-100;if(m){a.default.setAttachmentSize(g,f,S,E);b&&(t=t.querySelector("img, video")||t);let s=this.setMoverToTarget(t,!1,y);setTimeout(()=>{s();let o,r=w.querySelector("video")||document.createElement("video");if(r.firstElementChild&&(o=r.firstElementChild),"gif"==g.type&&(r.autoplay=!0),r.dataset.ckin="default",r.dataset.overlay="1",o&&o.src){if("gif"!=g.type){new u.default(r,!0)}}else{let s=h.default.downloadDoc(g);this.preloader.attach(w,!0,s),s.then(s=>{if(this.currentMessageID!=e.mid)return void this.log.warn("media viewer changed video");let a=g.url;if(t instanceof SVGSVGElement)this.updateMediaSource(w,a,"source"),this.updateMediaSource(t,a,"source");else{let e=w.firstElementChild;e instanceof Image&&w.removeChild(e),o=document.createElement("source"),p.renderImageFromUrl(o,a),o.type=g.mime_type,w.prepend(r),r.append(o)}if("gif"!=g.type){new u.default(r,!0)}})}},0)}else{let s=a.default.setAttachmentSize(g.id,f,S,E);b&&(t=t.querySelector("img, video")||t);let o=this.setMoverToTarget(t,!1,y);setTimeout(()=>{o(),this.preloader.attach(w),a.default.preloadPhoto(g.id,s).then(()=>{if(this.currentMessageID!=e.mid)return void this.log.warn("media viewer changed photo");let s=g.url;if(t instanceof SVGSVGElement)this.updateMediaSource(t,s,"image"),this.updateMediaSource(w,s,"image");else{let e=w.firstElementChild||new Image;p.renderImageFromUrl(e,s),w.prepend(e)}this.preloader.detach()}).catch(e=>{this.log.error(e)})},0)}}}t.AppMediaViewer=g,t.default=new g},function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function n(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,n)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=s(0);t.default=class{constructor(e=5){this.parallelLimit=e,this.lazyLoadMedia=[],this.loadingMedia=0,this.tempID=0,this.lockPromise=null,this.unlockResolve=null,this.log=console.log.bind(console,"[LL]:"),this.debug=!1}clear(){this.tempID--,this.lazyLoadMedia.length=0,this.loadingMedia=0}length(){return this.lazyLoadMedia.length+this.loadingMedia}lock(){this.lockPromise||(this.lockPromise=new Promise((e,t)=>{this.unlockResolve=e}))}unlock(){this.unlockResolve&&(this.lockPromise=null,this.unlockResolve(),this.unlockResolve=null)}processQueue(e){return o(this,void 0,void 0,(function*(){if(this.parallelLimit>0&&this.loadingMedia>=this.parallelLimit)return;let t,s;if(void 0!==e)t=this.lazyLoadMedia.splice(e,1)[0];else if(t=this.lazyLoadMedia.findAndSplice(e=>r.isElementInViewport(e.div)),!t){for(s=this.lazyLoadMedia.length-1;s>=0;--s)if(this.lazyLoadMedia[s].wasSeen){t=this.lazyLoadMedia.splice(s,1)[0];break}}if(t){this.loadingMedia++;let o=this.tempID;this.debug&&this.log("will load media",this.lockPromise,t);try{if(this.lockPromise){let e=performance.now();yield this.lockPromise,this.debug&&this.log("waited lock:",performance.now()-e)}yield new Promise((e,t)=>window.requestAnimationFrame(()=>window.requestAnimationFrame(e))),yield t.load()}catch(o){console.error("loadMediaQueue error:",o,t,e,s)}o==this.tempID&&this.loadingMedia--,this.debug&&this.log("loaded media"),this.lazyLoadMedia.length&&this.processQueue()}}))}check(e){if(void 0!==e){let{div:t,wasSeen:s}=this.lazyLoadMedia[e];return void(!s&&r.isElementInViewport(t)&&(this.lazyLoadMedia[e].wasSeen=!0,this.processQueue(e)))}for(let e=this.lazyLoadMedia.length-1;e>=0;--e){let{div:t,wasSeen:s}=this.lazyLoadMedia[e];!s&&r.isElementInViewport(t)&&(this.lazyLoadMedia[e].wasSeen=!0,this.processQueue(e))}}push(e){let t=this.lazyLoadMedia.push(e)-1;e.wasSeen?this.processQueue(t):(e.wasSeen=!1,this.check(t))}}},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),console.log("Services included!");const r=o(s(4)),a=o(s(5)),i=o(s(23)),n=o(s(18)),l=o(s(8)),d=o(s(25)),c=o(s(6)),h=o(s(19)),u=o(s(15)),p=o(s(7)),g=o(s(29)),m=o(s(11)),_=o(s(34)),y=o(s(46)),f=o(s(35));t.appUsersManager=r.default,t.appChatsManager=a.default,t.appMessagesIDsManager=i.default,t.apiUpdatesManager=n.default,t.appPhotosManager=l.default,t.appMessagesManager=c.default,t.appProfileManager=h.default,t.appImManager=u.default,t.appPeersManager=p.default,t.appStickersManager=g.default,t.appDocsManager=m.default,t.appSidebarRight=_.default,t.appSidebarLeft=y.default,t.appMediaViewer=f.default,t.appDialogsManager=d.default,window.Services={appUsersManager:t.appUsersManager,appChatsManager:t.appChatsManager,apiUpdatesManager:t.apiUpdatesManager,appMessagesManager:t.appMessagesManager,appPeersManager:t.appPeersManager,appProfileManager:t.appProfileManager,appPhotosManager:t.appPhotosManager,appDocsManager:t.appDocsManager,appDialogsManager:t.appDialogsManager,appImManager:t.appImManager,appStickersManager:t.appStickersManager,appSidebarRight:t.appSidebarRight,appSidebarLeft:t.appSidebarLeft,appMediaViewer:t.appMediaViewer}},,,function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(0),a=o(s(8)),i=o(s(11)),n=s(3);t.default=new class{constructor(){this.webpages={},this.pendingWebPages={},r.$rootScope.$on("apiUpdate",e=>{let t=e.detail;switch(t._){case"updateWebPage":this.saveWebPage(t.webpage)}})}saveWebPage(e,t,s){e.photo&&"photo"===e.photo._?e.photo=a.default.savePhoto(e.photo,s):delete e.photo,e.document&&"document"===e.document._?e.document=i.default.saveDoc(e.document,s):("document"==e.type&&delete e.type,delete e.document);var o=e.site_name,l=e.title||e.author||o||"";o&&l==o&&delete e.site_name,l.length>100&&(l=l.substr(0,80)+"..."),e.rTitle=n.RichTextProcessor.wrapRichText(l,{noLinks:!0,noLinebreaks:!0});var d="";if("GitHub"==o){var c=e.url.match(/(https?:\/\/github\.com\/[^\/]+\/[^\/]+)/);c&&(d=c[0]+"/issues/{1}")}var h=e.description||"";if(h.length>180&&(h=h.substr(0,150).replace(/(\n|\s)+$/,"")+"..."),e.rDescription=n.RichTextProcessor.wrapRichText(h,{contextSite:o||"external",contextHashtag:d}),"photo"!=e.type&&"video"!=e.type&&"gif"!=e.type&&"document"!=e.type&&!e.description&&e.photo&&(e.type="photo"),t&&(void 0===this.pendingWebPages[e.id]&&(this.pendingWebPages[e.id]={}),this.pendingWebPages[e.id][t]=!0,this.webpages[e.id]=e),void 0===this.webpages[e.id]?this.webpages[e.id]=e:r.safeReplaceObject(this.webpages[e.id],e),!t&&void 0!==this.pendingWebPages[e.id]){var u=[];for(let t in this.pendingWebPages[e.id])u.push(t);r.$rootScope.$broadcast("webpage_updated",{id:e.id,msgs:u})}}getWebPage(e){return this.webpages[e]}}},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(3),a=o(s(6)),i=o(s(7)),n=o(s(1)),l=o(s(18)),d=s(0);t.default=new class{constructor(){this.polls={},this.results={},d.$rootScope.$on("apiUpdate",e=>{let t=e.detail;this.handleUpdate(t)})}handleUpdate(e){switch(e._){case"updateMessagePoll":{console.log("updateMessagePoll:",e);let t=this.polls[e.poll_id]||e.poll;if(!t)break;t=this.savePoll(t,e.results),d.$rootScope.$broadcast("poll_update",{poll:t,results:e.results});break}}}savePoll(e,t){let s=e.id;return this.polls[s]?(e=this.polls[s],this.saveResults(e,t),e):(this.polls[s]=e,e.rQuestion=r.RichTextProcessor.wrapEmojiText(e.question),e.rReply=r.RichTextProcessor.wrapEmojiText("📊")+" "+(e.rQuestion||"poll"),this.saveResults(e,t),e)}saveResults(e,t){var s;this.results[e.id]=t,e.chosenIndex=null!==(s=t&&t.results&&t.results.findIndex(e=>{var t;return null===(t=e.pFlags)||void 0===t?void 0:t.chosen}))&&void 0!==s?s:-1}getPoll(e){return{poll:this.polls[e],results:this.results[e]}}sendVote(e,t){let s=a.default.getMessage(e),o=s.media.poll,r=t.map(e=>o.answers[e].option),d=i.default.getInputPeerByID(s.peerID),c=s.id;return n.default.invokeApi("messages.sendVote",{peer:d,msg_id:c,options:r}).then(e=>{console.log("appPollsManager sendVote updates:",e),l.default.processUpdateMessage(e)})}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class o{constructor(e){this.media=e,this.duration=0,this.container=document.createElement("div"),this.container.classList.add("media-progress"),this.filled=document.createElement("div"),this.filled.classList.add("media-progress__filled");let t=this.seek=document.createElement("input");t.classList.add("media-progress__seek"),t.value="0",t.setAttribute("min","0"),t.setAttribute("max","0"),t.type="range",t.step="0.1",this.setSeekMax(),this.setListeners(),this.container.append(this.filled,t)}setSeekMax(){let e=this.seek;this.duration=this.media.duration,this.duration>0?e.setAttribute("max",""+1e3*this.duration):this.media.addEventListener("loadeddata",()=>{this.duration=this.media.duration,e.setAttribute("max",""+1e3*this.duration)})}setProgress(){let e=this.media.currentTime,t=e/this.duration;this.filled.style.transform="scaleX("+t+")",this.seek.value=""+1e3*e}setListeners(){let e=!1,t=0;this.media.addEventListener("ended",()=>{this.setProgress()}),this.media.addEventListener("play",()=>{let e=()=>{this.setProgress(),!this.media.paused&&window.requestAnimationFrame(e)};window.requestAnimationFrame(e)}),this.container.addEventListener("mousemove",t=>{e&&this.scrub(t)}),this.container.addEventListener("mousedown",s=>{this.scrub(s),t=setTimeout(()=>{!this.media.paused&&this.media.pause(),t=0},150),e=!0}),this.container.addEventListener("mouseup",()=>{t&&clearTimeout(t),this.media.paused&&this.media.play(),e=!1})}scrub(e){let t=e.offsetX/this.container.offsetWidth*this.duration;this.media.currentTime=t;let s=t/this.duration;s>1&&(s=1),s<0&&(s=0),this.filled.style.transform="scaleX("+s+")"}}t.MediaProgressLine=o;t.default=class{constructor(e,t=!1){var s;if(this.video=e,this.wrapper=document.createElement("div"),this.wrapper.classList.add("ckin__player"),e.parentNode.insertBefore(this.wrapper,e),this.wrapper.appendChild(e),this.skin=null!==(s=e.dataset.ckin)&&void 0!==s?s:"default",this.stylePlayer(),"default"==this.skin){let t=this.wrapper.querySelector(".default__controls.ckin__controls");this.progress=new o(e),t.prepend(this.progress.container)}t&&this.wrapper.querySelector(".toggle").click()}stylePlayer(){let e=this.wrapper,t=this.video,s=this.skin;e.classList.add(s);let o=this.buildControls();e.insertAdjacentHTML("beforeend",o);let r=0,a=0,i=0;if("default"===s){var n=e.querySelectorAll(".toggle"),l=e.querySelector(".fullscreen"),d=e.querySelector("#time-elapsed");(p=e.querySelector("#time-duration")).innerHTML=String(0|t.duration).toHHMMSS(),Array.from(n).forEach(e=>e.addEventListener("click",()=>{this.togglePlay()})),t.addEventListener("click",()=>{this.togglePlay()}),t.addEventListener("play",()=>{this.updateButton(n)}),t.addEventListener("pause",()=>{this.updateButton(n),clearInterval(r)}),t.addEventListener("dblclick",()=>this.toggleFullScreen(l)),l.addEventListener("click",e=>this.toggleFullScreen(l));let s=()=>this.onFullScreen();"webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange".split(" ").forEach(t=>{e.addEventListener(t,s,!1)})}if("circle"===s){let s=document.createElement("div");s.classList.add("circle-time-left"),t.parentNode.insertBefore(s,t),s.innerHTML='<div class="circle-time"></div><div class="iconVolume tgico-nosound"></div>';var c=e.querySelector(".progress-ring__circle"),h=c.r.baseVal.value,u=2*Math.PI*h,p=e.querySelector(".circle-time"),g=e.querySelector(".iconVolume");c.style.strokeDasharray=u+" "+u,c.style.strokeDashoffset=""+u,c.addEventListener("click",()=>{this.togglePlay()}),t.addEventListener("play",()=>{g.style.display="none",r=setInterval(()=>{t.currentTime!=i&&(a=t.currentTime,i=t.currentTime);let e=u-a/t.duration*u;c.style.strokeDashoffset=""+e,t.paused&&clearInterval(r)},20)}),t.addEventListener("pause",()=>{g.style.display=""})}t.duration>0?p.innerHTML=String(Math.round(t.duration)).toHHMMSS():t.addEventListener("loadeddata",()=>{p.innerHTML=String(Math.round(t.duration)).toHHMMSS()}),t.addEventListener("timeupdate",()=>{"default"==s&&(d.innerHTML=String(0|t.currentTime).toHHMMSS()),r=this.handleProgress(p,u,c,r)})}togglePlay(e){return e?(this.video.pause(),void this.wrapper.classList.remove("is-playing")):!1===e?(this.video.play(),void this.wrapper.classList.add("is-playing")):(this.video[this.video.paused?"play":"pause"](),void(this.video.paused?this.wrapper.classList.remove("is-playing"):this.wrapper.classList.add("is-playing")))}handleProgress(e,t,s,o){let r=this.video,a=this.skin;clearInterval(o);let i=0,n=0;if("circle"===a){o=setInterval(()=>{r.currentTime!=n&&(i=r.currentTime,n=r.currentTime);let e=t-i/r.duration*t;s.style.strokeDashoffset=""+e,r.paused&&clearInterval(o)},20);let a=String(r.duration-r.currentTime|0).toHHMMSS();return"0"!=a&&(e.innerHTML=a),o}}buildControls(){let e=this.skin,t=[];return"default"===e?(t.push('<button class="'+e+'__button--big toggle tgico-largeplay" title="Toggle Play"></button>'),t.push('<div class="'+e+'__gradient-bottom ckin__controls"></div>'),t.push('<div class="'+e+'__controls ckin__controls">'),t.push('<div class="bottom-controls">','<div class="left-controls"><button class="'+e+'__button toggle tgico-play" title="Toggle Video"></button>','<div class="time">','<time id="time-elapsed">0:00</time>',"<span> / </span>",'<time id="time-duration">0:00</time>',"</div>","</div>",'<div class="right-controls"><button class="'+e+'__button fullscreen tgico-fullscreen" title="Full Screen"></button></div></div>'),t.push("</div>")):"circle"===e&&t.push('<svg class="progress-ring" width="200px" height="200px">','<circle class="progress-ring__circle" stroke="white" stroke-opacity="0.3" stroke-width="3.5" cx="100" cy="100" r="93" fill="transparent" transform="rotate(-90, 100, 100)"/>',"</svg>"),t.join("")}updateButton(e){let t=this.video.paused?"tgico-play":"tgico-pause";Array.from(e).forEach(e=>{e.classList.remove("tgico-play","tgico-pause"),e.classList.add(t)})}toggleFullScreen(e){let t=this.wrapper;document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(t.classList.remove("ckin__fullscreen"),document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),e.classList.remove("tgico-smallscreen"),e.classList.add("tgico-fullscreen"),e.setAttribute("title","Full Screen")):(t.classList.add("ckin__fullscreen"),t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen(),e.classList.remove("tgico-fullscreen"),e.classList.add("tgico-smallscreen"),e.setAttribute("title","Exit Full Screen"))}onFullScreen(){null!==document.webkitFullscreenElement||this.wrapper.classList.remove("ckin__fullscreen")}}},function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function n(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,n)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});t.default=new class{constructor(){this.webpMachine=null,this.queue=[],this.webpSupport=null,this.webpSupported().then(e=>{})}loadWebpHero(){if(this.loaded)return this.loaded;this.loaded=new Promise((e,t)=>o(this,void 0,void 0,(function*(){if(yield this.webpSupported())e();else{window.webpLoaded=()=>{console.log("webpHero loaded"),this.webpMachine=new window.WebpMachine,e()};let t=document.createElement("script");t.src="npm.webp-hero.chunk.js",t.async=!0,t.onload=window.webpLoaded,document.body.appendChild(t)}})))}convert(e){return this.webpMachine.decode(e)}processQueue(){return o(this,void 0,void 0,(function*(){if(this.busyPromise)return;this.busyPromise=Promise.resolve("");let{img:e,bytes:t,callback:s}=this.queue.pop();this.loaded||this.loadWebpHero(),yield this.loaded,this.busyPromise=this.convert(t);let o=yield this.busyPromise,r=new Image;r.src=o,r.onload=()=>{e.src=r.src},s(o),this.busyPromise=null,this.queue.length&&this.processQueue()}))}webpSupported(){return this.webpSupport?this.webpSupport:this.webpSupport=new Promise((e,t)=>{var s=new Image;s.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",s.onload=s.onerror=()=>{e(2===s.height)}})}polyfillImage(e,t){return o(this,void 0,void 0,(function*(){if(yield this.webpSupport){let s=URL.createObjectURL(t);return e.src=s,s}return new Promise((s,o)=>{const r=new FileReader;r.addEventListener("loadend",t=>{let o=new Uint8Array(t.srcElement.result);this.queue.push({bytes:o,img:e,callback:s}),this.processQueue()}),r.readAsArrayBuffer(t)})}))}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RectPart={None:0,Top:1,Right:2,Bottom:4,Left:8};let o=(e,t)=>e.reduce((e,t)=>e+t,t);function r(e,t,s){return e<t?t:e>s?s:e}class a{constructor(e,t,s,r,i=t){this.sizes=e,this.maxWidth=t,this.minWidth=s,this.spacing=r,this.maxHeight=i,this.count=e.length,this.ratios=a.countRatios(e),this.proportions=a.countProportions(this.ratios),this.averageRatio=o(this.ratios,1)/this.count,this.maxSizeRatio=t/this.maxHeight}layout(){return this.count?this.count>=5||this.ratios.find(e=>e>2)?new i(this.ratios,this.averageRatio,this.maxWidth,this.minWidth,this.spacing).layout():2==this.count?this.layoutTwo():3==this.count?this.layoutThree():this.layoutFour():[]}layoutTwo(){return"ww"==this.proportions&&this.averageRatio>1.4*this.maxSizeRatio&&this.ratios[1]-this.ratios[0]<.2?this.layoutTwoTopBottom():"ww"==this.proportions||"qq"==this.proportions?this.layoutTwoLeftRightEqual():this.layoutTwoLeftRight()}layoutThree(){return console.log("layoutThree:",this),"n"==this.proportions[0]?this.layoutThreeLeftAndOther():this.layoutThreeTopAndOther()}layoutFour(){return"w"==this.proportions[0]?this.layoutFourTopAndOther():this.layoutFourLeftAndOther()}layoutTwoTopBottom(){const e=this.maxWidth,s=Math.round(Math.min(e/this.ratios[0],Math.min(e/this.ratios[1],(this.maxHeight-this.spacing)/2)));return[{geometry:{x:0,y:0,width:e,height:s},sides:t.RectPart.Left|t.RectPart.Top|t.RectPart.Right},{geometry:{x:0,y:s+this.spacing,width:e,height:s},sides:t.RectPart.Left|t.RectPart.Bottom|t.RectPart.Right}]}layoutTwoLeftRightEqual(){const e=(this.maxWidth-this.spacing)/2,s=Math.round(Math.min(e/this.ratios[0],Math.min(e/this.ratios[1],1*this.maxHeight)));return[{geometry:{x:0,y:0,width:e,height:s},sides:t.RectPart.Top|t.RectPart.Left|t.RectPart.Bottom},{geometry:{x:e+this.spacing,y:0,width:e,height:s},sides:t.RectPart.Top|t.RectPart.Right|t.RectPart.Bottom}]}layoutTwoLeftRight(){const e=Math.round(1.5*this.minWidth),s=Math.min(Math.round(Math.max(.4*(this.maxWidth-this.spacing),(this.maxWidth-this.spacing)/this.ratios[0]/(1/this.ratios[0]+1/this.ratios[1]))),this.maxWidth-this.spacing-e),o=this.maxWidth-s-this.spacing,r=Math.min(this.maxHeight,Math.round(Math.min(o/this.ratios[0],s/this.ratios[1])));return[{geometry:{x:0,y:0,width:o,height:r},sides:t.RectPart.Top|t.RectPart.Left|t.RectPart.Bottom},{geometry:{x:o+this.spacing,y:0,width:s,height:r},sides:t.RectPart.Top|t.RectPart.Right|t.RectPart.Bottom}]}layoutThreeLeftAndOther(){const e=this.maxHeight,s=Math.round(Math.min((this.maxHeight-this.spacing)/2,this.ratios[1]*(this.maxWidth-this.spacing)/(this.ratios[2]+this.ratios[1]))),o=e-s-this.spacing,r=Math.max(this.minWidth,Math.round(Math.min((this.maxWidth-this.spacing)/2,Math.min(s*this.ratios[2],o*this.ratios[1])))),a=Math.min(Math.round(e*this.ratios[0]),this.maxWidth-this.spacing-r);return[{geometry:{x:0,y:0,width:a,height:e},sides:t.RectPart.Top|t.RectPart.Left|t.RectPart.Bottom},{geometry:{x:a+this.spacing,y:0,width:r,height:o},sides:t.RectPart.Top|t.RectPart.Right},{geometry:{x:a+this.spacing,y:o+this.spacing,width:r,height:s},sides:t.RectPart.Bottom|t.RectPart.Right}]}layoutThreeTopAndOther(){const e=this.maxWidth,s=Math.round(Math.min(e/this.ratios[0],.66*(this.maxHeight-this.spacing))),o=(this.maxWidth-this.spacing)/2,r=Math.min(this.maxHeight-s-this.spacing,Math.round(Math.min(o/this.ratios[1],o/this.ratios[2]))),a=e-o-this.spacing;return[{geometry:{x:0,y:0,width:e,height:s},sides:t.RectPart.Left|t.RectPart.Top|t.RectPart.Right},{geometry:{x:0,y:s+this.spacing,width:o,height:r},sides:t.RectPart.Bottom|t.RectPart.Left},{geometry:{x:o+this.spacing,y:s+this.spacing,width:a,height:r},sides:t.RectPart.Bottom|t.RectPart.Right}]}layoutFourTopAndOther(){const e=this.maxWidth,s=Math.round(Math.min(e/this.ratios[0],.66*(this.maxHeight-this.spacing))),o=Math.round((this.maxWidth-2*this.spacing)/(this.ratios[1]+this.ratios[2]+this.ratios[3])),r=Math.max(this.minWidth,Math.round(Math.min(.4*(this.maxWidth-2*this.spacing),o*this.ratios[1]))),a=Math.round(Math.max(Math.max(1*this.minWidth,.33*(this.maxWidth-2*this.spacing)),o*this.ratios[3])),i=e-r-a-2*this.spacing,n=Math.min(this.maxHeight-s-this.spacing,o);return[{geometry:{x:0,y:0,width:e,height:s},sides:t.RectPart.Left|t.RectPart.Top|t.RectPart.Right},{geometry:{x:0,y:s+this.spacing,width:r,height:n},sides:t.RectPart.Bottom|t.RectPart.Left},{geometry:{x:r+this.spacing,y:s+this.spacing,width:i,height:n},sides:t.RectPart.Bottom},{geometry:{x:r+this.spacing+i+this.spacing,y:s+this.spacing,width:a,height:n},sides:t.RectPart.Right|t.RectPart.Bottom}]}layoutFourLeftAndOther(){const e=this.maxHeight,s=Math.round(Math.min(e*this.ratios[0],.6*(this.maxWidth-this.spacing))),o=Math.round((this.maxHeight-2*this.spacing)/(1/this.ratios[1]+1/this.ratios[2]+1/this.ratios[3])),r=Math.round(o/this.ratios[1]),a=Math.round(o/this.ratios[2]),i=e-r-a-2*this.spacing,n=Math.max(this.minWidth,Math.min(this.maxWidth-s-this.spacing,o));return[{geometry:{x:0,y:0,width:s,height:e},sides:t.RectPart.Top|t.RectPart.Left|t.RectPart.Bottom},{geometry:{x:s+this.spacing,y:0,width:n,height:r},sides:t.RectPart.Top|t.RectPart.Right},{geometry:{x:s+this.spacing,y:r+this.spacing,width:n,height:a},sides:t.RectPart.Right},{geometry:{x:s+this.spacing,y:r+a+2*this.spacing,width:n,height:i},sides:t.RectPart.Bottom|t.RectPart.Right}]}static countRatios(e){return e.map(e=>e.w/e.h)}static countProportions(e){return e.map(e=>e>1.2?"w":e<.8?"n":"q").join("")}}t.Layouter=a;class i{constructor(e,t,s,o,r,a=4*s/3){this.averageRatio=t,this.maxWidth=s,this.minWidth=o,this.spacing=r,this.maxHeight=a,this.ratios=i.cropRatios(e,t),this.count=e.length}static cropRatios(e,t){return e.map(e=>t>1.1?r(e,1,2.75):r(e,.6667,1))}layout(){let e=new Array(this.count),s=[];const r=(e,t)=>{const s=this.ratios.slice(e,e+t),r=o(s,0);return(this.maxWidth-(t-1)*this.spacing)/r},a=e=>{let t=[],o=0;for(let s of e)t.push(r(o,s)),o+=s;s.push({lineCounts:e,heights:t})};for(let e=1;e!=this.count;++e){const t=this.count-e;e>3||t>3||a([e,t])}for(let e=1;e!=this.count-1;++e)for(let t=1;t!=this.count-e;++t){const s=this.count-e-t;e>3||t>(this.averageRatio<.85?4:3)||s>3||a([e,t,s])}for(let e=1;e!=this.count-1;++e)for(let t=1;t!=this.count-e;++t)for(let s=1;s!=this.count-e-t;++s){const o=this.count-e-t-s;e>3||t>3||s>3||o>3||a([e,t,s,o])}let i=null,n=0;for(const e of s){const{heights:t,lineCounts:s}=e,r=s.length,a=o(t,0)+this.spacing*(r-1),l=Math.min(...t),d=(Math.max(...t),l<this.minWidth?1.5:1),c=(()=>{for(let e=1;e!=r;++e)if(s[e-1]>s[e])return 1.5;return 1})(),h=Math.abs(a-this.maxHeight)*d*c;(!i||h<n)&&(i=e,n=h)}const l=i.lineCounts,d=i.heights,c=l.length;let h=0,u=0;for(let s=0;s!=c;++s){const o=l[s],r=d[s],a=Math.round(r);let i=0;for(let n=0;n!=o;++n){const l=t.RectPart.None|(0==s?t.RectPart.Top:t.RectPart.None)|(s==c-1?t.RectPart.Bottom:t.RectPart.None)|(0==n?t.RectPart.Left:t.RectPart.None)|(n==o-1?t.RectPart.Right:t.RectPart.None),d=this.ratios[h],p=n==o-1?this.maxWidth-i:Math.round(d*r);e[h]={geometry:{x:i,y:u,width:p,height:a},sides:l},i+=p+this.spacing,++h}u+=a+this.spacing}return e}}},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(25)),a=o(s(9)),i=o(s(23)),n=o(s(4)),l=o(s(7)),d=o(s(6)),c=s(0),h=s(2),u=o(s(5));t.SearchGroup=class{constructor(e,t,s=!0,o,a=!0){this.name=e,this.type=t,this.clearable=s,this.list=document.createElement("ul"),this.container=document.createElement("div"),o&&(this.container.className=o),this.nameEl=document.createElement("div"),this.nameEl.classList.add("search-group__name"),this.nameEl.innerText=e,this.container.classList.add("search-group","search-group-"+t),this.container.append(this.nameEl,this.list),this.container.style.display="none",a&&r.default.setListClickListener(this.list)}clear(){this.container.style.display="none",this.clearable&&(this.list.innerHTML="")}setActive(){this.container.style.display=""}};t.default=class{constructor(e,t,s){this.container=e,this.searchInput=t,this.searchGroups=s,this.minMsgID=0,this.loadedCount=0,this.foundCount=0,this.offsetRate=0,this.searchPromise=null,this.searchTimeout=0,this.query="",this.listsContainer=null,this.peerID=0,this.scrollable=new a.default(this.container),this.listsContainer=this.scrollable.container;for(let e in this.searchGroups)this.listsContainer.append(this.searchGroups[e].container);this.searchInput.addEventListener("input",e=>{let t=this.searchInput.value;t.trim()&&(this.query=t,this.reset(!1),this.searchMore())}),this.scrollable.onScrolledBottom=()=>{this.query.trim()&&(this.searchTimeout||(this.searchTimeout=setTimeout(()=>{this.searchMore(),this.searchTimeout=0},0)))}}reset(e=!0){e&&(this.searchInput.value="",this.query="",this.peerID=0),this.minMsgID=0,this.loadedCount=0,this.foundCount=0,this.offsetRate=0;for(let e in this.searchGroups)this.searchGroups[e].clear();this.searchPromise=null}beginSearch(e){e&&(this.peerID=e),this.searchInput.focus()}searchMore(){if(this.searchPromise)return this.searchPromise;let e=this.query;if(!e.trim())return;if(0!=this.loadedCount&&this.loadedCount>=this.foundCount)return Promise.resolve();let t=i.default.getMessageIDInfo(this.minMsgID)[0];return this.peerID||t||n.default.searchContacts(e,20).then(t=>{if(this.searchInput.value!=e)return;let s=(t,s,o=!1)=>{t.forEach(t=>{let a=l.default.getPeerID(t),i=l.default.getPeer(a),p=d.default.getDialogByPeerID(a)[0];p||(p={peerID:a,pFlags:{},peer:i});let{dialog:g,dom:m}=r.default.addDialog(p,s.list,!1);if(o&&(i.participants_count||i.participants)){let t=new RegExp(`(${c.escapeRegExp(e)})`,"gi");m.titleSpan.innerHTML=m.titleSpan.innerHTML.replace(t,"<i>$1</i>"),m.lastMessageSpan.innerText=u.default.getChatMembersString(-a)}else{let e=l.default.getPeerUsername(a);if(e)e="@"+e;else{let t=n.default.getUser(a);t&&t.phone&&(e="+"+h.formatPhoneNumber(t.phone).formatted)}m.lastMessageSpan.innerHTML="<i>"+e+"</i>"}}),t.length?s.setActive():s.clear()};s(t.my_results,this.searchGroups.contacts,!0),s(t.results,this.searchGroups.globalContacts)}),this.searchPromise=d.default.getSearch(this.peerID,e,null,t,20,this.offsetRate).then(t=>{if(this.searchPromise=null,this.searchInput.value!=e)return;let{count:s,history:o,next_rate:a}=t;o[0]==this.minMsgID&&o.shift();let i=this.searchGroups.messages;i.setActive(),o.forEach(t=>{let s=d.default.getMessage(t),o=d.default.getDialogByPeerID(s.peerID)[0];o||(o={peerID:s.peerID,pFlags:{},peer:s.to_id});let{dialog:a,dom:n}=r.default.addDialog(o,i.list,!1);r.default.setLastMessage(a,s,n,e)}),this.minMsgID=o[o.length-1],this.offsetRate=a,this.loadedCount+=o.length,this.foundCount||(this.foundCount=s)}).catch(e=>{console.error("search error",e),this.searchPromise=null})}}},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const a=o(s(25)),i=s(0),n=o(s(15)),l=o(s(1)),d=r(s(45)),c=s(2),h=o(s(4)),u=o(s(9)),p=o(s(8)),g=s(37),m=o(s(47)),_=o(s(5)),y=s(48),f=o(s(33)),b=o(s(19));f.default;const x=1,v=2,D=3,w=4,S=5,E=6,P=7;class C{constructor(){this.container=document.querySelector(".addmembers-container"),this.contentDiv=this.container.querySelector(".sidebar-content"),this.backBtn=this.container.querySelector(".sidebar-close-button"),this.nextBtn=this.contentDiv.querySelector(".btn-corner"),this.nextBtn.addEventListener("click",()=>{let e=this.selector.getSelected();if(e.length){if(this.takeOut)return void this.takeOut(e);this.nextBtn.classList.remove("tgico-next"),this.nextBtn.disabled=!0,c.putPreloader(this.nextBtn),this.selector.freezed=!0,_.default.inviteToChannel(this.peerID,e).then(()=>{this.backBtn.click()})}})}onCloseAfterTimeout(){this.selector&&(this.selector.container.remove(),this.selector=null)}init(e,t,s,o){this.peerID=Math.abs(e),this.peerType=t,this.takeOut=o,this.onCloseAfterTimeout(),this.selector=new y.AppSelectPeers(this.contentDiv,s?null:e=>{e?this.nextBtn.classList.add("is-visible"):this.nextBtn.classList.remove("is-visible")},"contacts"),this.nextBtn.innerHTML="",this.nextBtn.disabled=!1,this.nextBtn.classList.add("tgico-next"),s?this.nextBtn.classList.add("is-visible"):this.nextBtn.classList.remove("is-visible"),X.selectTab(w)}}class F{constructor(){this.container=document.querySelector(".new-channel-container"),this.canvas=this.container.querySelector(".avatar-edit-canvas"),this.channelNameInput=this.container.querySelector(".new-channel-name"),this.channelDescriptionInput=this.container.querySelector(".new-channel-description"),this.nextBtn=this.container.querySelector(".btn-corner"),this.backBtn=this.container.querySelector(".sidebar-close-button"),this.uploadAvatar=null,this.container.querySelector(".avatar-edit").addEventListener("click",()=>{m.default.open(this.canvas,e=>{this.uploadAvatar=e})}),this.channelNameInput.addEventListener("input",()=>{this.channelNameInput.value.length?this.nextBtn.classList.add("is-visible"):this.nextBtn.classList.remove("is-visible")}),this.nextBtn.addEventListener("click",()=>{let e=this.channelNameInput.value,t=this.channelDescriptionInput.value;this.nextBtn.disabled=!0,_.default.createChannel(e,t).then(e=>{this.uploadAvatar&&this.uploadAvatar().then(t=>{_.default.editPhoto(e,t)}),X.removeTabFromHistory(D),X.addMembersTab.init(e,"channel",!0)})})}onCloseAfterTimeout(){this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.uploadAvatar=null,this.channelNameInput.value="",this.channelDescriptionInput.value="",this.nextBtn.disabled=!1}}class k{constructor(){this.container=document.querySelector(".new-group-container"),this.contentDiv=this.container.querySelector(".sidebar-content"),this.canvas=this.container.querySelector(".avatar-edit-canvas"),this.groupNameInput=this.container.querySelector(".new-group-name"),this.nextBtn=this.container.querySelector(".btn-corner"),this.searchGroup=new d.SearchGroup("","contacts",!0,"new-group-members disable-hover",!1),this.uploadAvatar=null,this.container.querySelector(".avatar-edit").addEventListener("click",()=>{m.default.open(this.canvas,e=>{this.uploadAvatar=e})}),this.groupNameInput.addEventListener("input",()=>{this.groupNameInput.value.length?this.nextBtn.classList.add("is-visible"):this.nextBtn.classList.remove("is-visible")}),this.nextBtn.addEventListener("click",()=>{let e=this.groupNameInput.value;this.nextBtn.disabled=!0,_.default.createChat(e,this.userIDs).then(e=>{this.uploadAvatar&&this.uploadAvatar().then(t=>{_.default.editPhoto(e,t)}),X.selectTab(0)})});let e=document.createElement("div");e.classList.add("chats-container"),e.append(this.searchGroup.container);new u.default(e);this.contentDiv.append(e)}onClose(){}onCloseAfterTimeout(){this.searchGroup.clear(),this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.uploadAvatar=null,this.groupNameInput.value="",this.nextBtn.disabled=!1}init(e){this.userIDs=e,X.selectTab(S),this.userIDs.forEach(e=>{let{dom:t}=a.default.addDialog(e,this.searchGroup.list,!1,!1),s="";s=h.default.getUserStatusString(e),"online"==s&&(s=`<i>${s}</i>`),s&&(t.lastMessageSpan.innerHTML=s)}),this.searchGroup.nameEl.innerText=this.userIDs.length+" members",this.searchGroup.setActive()}}class M{constructor(){this.container=document.getElementById("contacts-container"),this.list=this.container.querySelector("#contacts"),this.input=this.container.querySelector("#contacts-search"),a.default.setListClickListener(this.list),this.scrollable=new u.default(this.list.parentElement);let e="";this.input.addEventListener("input",()=>{let t=this.input.value;e!=t&&(this.list.innerHTML="",this.openContacts(e=t))}),h.default.getContacts()}onClose(){let e=p.default.windowH/72*1.25|0;Array.from(this.list.children).slice(e).forEach(e=>e.remove())}onCloseAfterTimeout(){this.list.innerHTML=""}openContacts(e){if(X.selectTab(v),this.promise)return this.promise;this.scrollable.onScrolledBottom=null,this.promise=h.default.getContacts(e).then(e=>{if(this.promise=null,X.historyTabIDs[X.historyTabIDs.length-1]!=v)return void console.warn("user closed contacts before it's loaded");let t=e.map(e=>{let t=h.default.getUser(e);return{user:t,status:h.default.getUserStatusForSort(t.status)}}).sort((e,t)=>t.status-e.status),s=()=>{let e=p.default.windowH/72*1.25|0;t.splice(0,e).forEach(({user:e})=>{let{dialog:t,dom:s}=a.default.addDialog(e.id,this.list,!1),o=h.default.getUserStatusString(e.id);s.lastMessageSpan.innerHTML="online"==o?`<i>${o}</i>`:o}),t.length||(s=void 0)};s(),this.scrollable.onScrolledBottom=()=>{s?s():this.scrollable.onScrolledBottom=null}})}}class A{constructor(){this.container=document.querySelector(".settings-container"),this.avatarElem=this.container.querySelector(".profile-avatar"),this.nameDiv=this.container.querySelector(".profile-name"),this.phoneDiv=this.container.querySelector(".profile-subtitle"),this.logOutBtn=this.container.querySelector(".menu-logout"),this.buttons={},Array.from(this.container.querySelector(".profile-buttons").children).forEach(e=>{let t=e.className.match(/ menu-(.+?) /)[1];this.buttons[t]=e}),i.$rootScope.$on("user_auth",e=>{this.fillElements()}),this.logOutBtn.addEventListener("click",e=>{l.default.logOut()}),this.buttons.edit.addEventListener("click",()=>{X.selectTab(P),X.editProfileTab.fillElements()})}fillElements(){let e=h.default.getSelf();this.avatarElem.setAttribute("peer",""+e.id),this.nameDiv.innerHTML=e.rFullName||"",this.phoneDiv.innerHTML=e.rPhone||""}onClose(){}}class T{constructor(){this.container=document.querySelector(".edit-profile-container"),this.scrollWrapper=this.container.querySelector(".scroll-wrapper"),this.nextBtn=this.container.querySelector(".btn-corner"),this.canvas=this.container.querySelector(".avatar-edit-canvas"),this.uploadAvatar=null,this.firstNameInput=this.container.querySelector(".firstname"),this.lastNameInput=this.container.querySelector(".lastname"),this.bioInput=this.container.querySelector(".bio"),this.userNameInput=this.container.querySelector(".username"),this.avatarElem=document.createElement("avatar-element"),this.originalValues={firstName:"",lastName:"",userName:"",bio:""},this.container.querySelector(".avatar-edit").addEventListener("click",()=>{m.default.open(this.canvas,e=>{this.uploadAvatar=e,this.handleChange(),this.avatarElem.remove()})}),this.avatarElem.classList.add("avatar-placeholder");let e=this.userNameInput.nextElementSibling;this.firstNameInput.addEventListener("input",()=>this.handleChange()),this.lastNameInput.addEventListener("input",()=>this.handleChange()),this.bioInput.addEventListener("input",()=>this.handleChange()),this.userNameInput.addEventListener("input",()=>{this.handleChange();let t=this.userNameInput.value;if(console.log("userNameInput:",t),t==this.originalValues.userName)return this.userNameInput.classList.remove("valid","error"),void(e.innerText="Username (optional)");t.length<5||t.length>32||!/^[a-zA-Z0-9_]+$/.test(t)?(this.userNameInput.classList.add("error"),this.userNameInput.classList.remove("valid"),e.innerText="Username is invalid"):this.userNameInput.classList.remove("error"),l.default.invokeApi("account.checkUsername",{username:t}).then(s=>{this.userNameInput.value==t&&(s?(this.userNameInput.classList.add("valid"),this.userNameInput.classList.remove("error"),e.innerText="Username is available"):(this.userNameInput.classList.add("error"),this.userNameInput.classList.remove("valid"),e.innerText="Username is already taken"))},s=>{if(this.userNameInput.value==t)switch(s.type){case"USERNAME_INVALID":this.userNameInput.classList.add("error"),this.userNameInput.classList.remove("valid"),e.innerText="Username is invalid"}})}),this.nextBtn.addEventListener("click",()=>{this.nextBtn.disabled=!0,b.default.updateProfile(this.firstNameInput.value,this.lastNameInput.value,this.bioInput.value).then(()=>{X.selectTab(0)},e=>{console.error("updateProfile error:",e)}),this.uploadAvatar&&this.uploadAvatar().then(e=>{b.default.uploadProfilePhoto(e)}),this.userNameInput.value!=this.originalValues.userName&&this.userNameInput.classList.contains("valid")&&b.default.updateUsername(this.userNameInput.value)});new u.default(this.scrollWrapper,"y")}fillElements(){var e,t,s;let o=h.default.getSelf();this.firstNameInput.value=this.originalValues.firstName=null!==(e=o.first_name)&&void 0!==e?e:"",this.lastNameInput.value=this.originalValues.lastName=null!==(t=o.last_name)&&void 0!==t?t:"",this.userNameInput.value=this.originalValues.userName=null!==(s=o.username)&&void 0!==s?s:"",b.default.getProfile(o.id).then(e=>{e.rAbout&&(this.bioInput.value=this.originalValues.bio=e.rAbout)}),this.avatarElem.setAttribute("peer",""+i.$rootScope.myID),this.avatarElem.parentElement||this.canvas.parentElement.append(this.avatarElem),this.uploadAvatar=null}isChanged(){return!!this.uploadAvatar||this.firstNameInput.value!=this.originalValues.firstName||this.lastNameInput.value!=this.originalValues.lastName||this.userNameInput.value!=this.originalValues.userName||this.bioInput.value!=this.originalValues.bio}handleChange(){this.isChanged()?this.nextBtn.classList.add("is-visible"):this.nextBtn.classList.remove("is-visible")}onCloseAfterTimeout(){this.nextBtn.classList.remove("is-visible")}}const X=new class{constructor(){this.sidebarEl=document.getElementById("column-left"),this.toolsBtn=this.sidebarEl.querySelector(".sidebar-tools-button"),this.backBtn=this.sidebarEl.querySelector(".sidebar-back-button"),this.searchContainer=this.sidebarEl.querySelector("#search-container"),this.searchInput=document.getElementById("global-search"),this.menuEl=this.toolsBtn.querySelector(".btn-menu"),this.newGroupBtn=this.menuEl.querySelector(".menu-new-group"),this.contactsBtn=this.menuEl.querySelector(".menu-contacts"),this.archivedBtn=this.menuEl.querySelector(".menu-archive"),this.savedBtn=this.menuEl.querySelector(".menu-saved"),this.settingsBtn=this.menuEl.querySelector(".menu-settings"),this.archivedCount=this.archivedBtn.querySelector(".archived-count"),this.newBtnMenu=this.sidebarEl.querySelector("#new-menu"),this.newButtons={channel:this.newBtnMenu.querySelector(".menu-channel"),group:this.newBtnMenu.querySelector(".menu-group"),privateChat:this.newBtnMenu.querySelector(".menu-private-chat")},this.newChannelTab=new F,this.addMembersTab=new C,this.contactsTab=new M,this.newGroupTab=new k,this.settingsTab=new A,this.editProfileTab=new T,this.tabs={[D]:this.newChannelTab,[v]:this.contactsTab,[w]:this.addMembersTab,[S]:this.newGroupTab,[E]:this.settingsTab,[P]:this.editProfileTab},this.searchGroups={contacts:new d.SearchGroup("Contacts and Chats","contacts"),globalContacts:new d.SearchGroup("Global Search","contacts"),messages:new d.SearchGroup("Global Search","messages"),people:new d.SearchGroup("People","contacts",!1,"search-group-people"),recent:new d.SearchGroup("Recent","contacts",!1,"search-group-recent")},this.globalSearch=new d.default(this.searchContainer,this.searchInput,this.searchGroups),this.historyTabIDs=[];let e=document.createElement("div");e.classList.add("search-group-scrollable"),e.append(this.searchGroups.people.list),this.searchGroups.people.container.append(e);new u.default(e,"x");this.savedBtn.addEventListener("click",e=>{setTimeout(()=>{a.default.getDialogDom(n.default.myID);n.default.setPeer(n.default.myID)},0)}),this.archivedBtn.addEventListener("click",e=>{this.selectTab(x)}),this.contactsBtn.addEventListener("click",e=>{this.contactsTab.openContacts()}),this.settingsBtn.addEventListener("click",()=>{this.settingsTab.fillElements(),this.selectTab(E)}),this.searchInput.addEventListener("focus",e=>{this.toolsBtn.classList.remove("active"),this.backBtn.classList.add("active"),this.searchContainer.classList.remove("hide"),this.searchContainer.offsetWidth,this.searchContainer.classList.add("active")}),this.backBtn.addEventListener("click",e=>{a.default.chatsArchivedContainer.classList.remove("active"),this.toolsBtn.classList.add("active"),this.backBtn.classList.remove("active"),this.searchContainer.classList.remove("active"),setTimeout(()=>{this.searchContainer.classList.add("hide"),this.globalSearch.reset(),this.searchGroups.people.setActive()},150)}),this.newButtons.channel.addEventListener("click",e=>{this.selectTab(D)}),[this.newButtons.group,this.newGroupBtn].forEach(e=>{e.addEventListener("click",e=>{this.addMembersTab.init(0,"chat",!1,e=>{this.newGroupTab.init(e)})})}),i.$rootScope.$on("dialogs_archived_unread",e=>{this.archivedCount.innerText=""+e.detail.count}),this._selectTab=c.horizontalMenu(null,this.sidebarEl.querySelector(".sidebar-slider"),null,null,420),this._selectTab(0);let t=()=>{console.log("sidebar-close-button click:",this.historyTabIDs);let e=this.historyTabIDs.pop();this.onCloseTab(e),this._selectTab(this.historyTabIDs.pop()||0)};Array.from(this.sidebarEl.querySelectorAll(".sidebar-close-button")).forEach(e=>{e.addEventListener("click",t)}),h.default.getTopPeers().then(e=>{console.log("got top categories:",e);let t=e[0];t&&t.peers&&t.peers.forEach(e=>{let t=g.appPeersManager.getPeerID(e.peer),{dialog:s,dom:o}=a.default.addDialog(t,this.searchGroups.people.list,!1,!0,!0);this.searchGroups.people.setActive()})})}selectTab(e){this.historyTabIDs.push(e),this._selectTab(e)}removeTabFromHistory(e){this.historyTabIDs.findAndSplice(t=>t==e),this.onCloseTab(e)}onCloseTab(e){let t=this.tabs[e];t&&("onClose"in t&&t.onClose(),"onCloseAfterTimeout"in t&&setTimeout(()=>{t.onCloseAfterTimeout()},420))}};window.appSidebarLeft=X,t.default=X},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(74)),a=o(s(16));class i{constructor(){this.container=document.getElementById("popup-avatar"),this.input=this.container.querySelector("input"),this.cropContainer=this.container.querySelector(".crop"),this.closeBtn=this.container.querySelector(".popup-close"),this.image=new Image,this.cropper={crop:()=>{},removeHandlers:()=>{}},this.container.style.display="",this.cropContainer.append(this.image),this.input.addEventListener("change",e=>{var t=e.target.files[0];if(t){var s=new FileReader;s.onload=e=>{var t=e.target.result;this.image=new Image,this.cropContainer.append(this.image),this.image.src=t,this.image.onload=()=>{this.container.classList.remove("hide"),this.container.offsetWidth,this.container.classList.add("active"),this.cropper=r.default(this.image,this.canvas),this.input.value=""}},s.readAsDataURL(t)}},!1),this.container.querySelector(".btn-crop").addEventListener("click",()=>{this.cropper.crop(),this.closeBtn.click(),this.canvas.toBlob(e=>{this.blob=e,this.darkenCanvas(),this.resolve()},"image/jpeg",1)}),this.closeBtn.addEventListener("click",()=>{setTimeout(()=>{this.cropper.removeHandlers(),this.image&&this.image.remove(),this.container.classList.add("hide")},200)})}resolve(){this.onCrop(()=>a.default.uploadFile(this.blob))}open(e,t){this.canvas=e,this.onCrop=t,this.input.click()}darkenCanvas(){let e=this.canvas.getContext("2d");e.fillStyle="rgba(0, 0, 0, 0.3)",e.fillRect(0,0,this.canvas.width,this.canvas.height)}}t.PopupAvatar=i,t.default=new i},function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function n(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,n)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(s(9)),i=r(s(6)),n=s(0),l=r(s(25)),d=r(s(5)),c=r(s(4)),h=s(37),u=r(s(8));t.AppSelectPeers=class{constructor(e,t,s="dialogs"){this.appendTo=e,this.onChange=t,this.peerType=s,this.container=document.createElement("div"),this.list=document.createElement("ul"),this.chatsContainer=document.createElement("div"),this.selectedContainer=document.createElement("div"),this.input=document.createElement("input"),this.selected={},this.freezed=!1,this.myID=n.$rootScope.myID,this.offsetIndex=0,this.query="",this.container.classList.add("selector");let o=document.createElement("div");o.classList.add("selector-search-container"),this.selectedContainer.classList.add("selector-search"),this.input.placeholder="contacts"==s?"Add People...":"Select chat",this.input.type="text",this.selectedContainer.append(this.input),o.append(this.selectedContainer),this.selectedScrollable=new a.default(o);let r=document.createElement("hr");this.chatsContainer.classList.add("chats-container"),this.chatsContainer.append(this.list),this.scrollable=new a.default(this.chatsContainer),this.list.addEventListener("click",e=>{let t=e.target;if(n.cancelEvent(e),this.freezed)return;if("LI"!=t.tagName&&(t=n.findUpTag(t,"LI")),!t)return;let s=+t.getAttribute("data-peerID");t.classList.toggle("active"),s in this.selected?this.remove(s):this.add(s);let o=t.querySelector("input");o.checked=!o.checked}),this.selectedContainer.addEventListener("click",e=>{if(this.freezed)return;let t=e.target;if(t=n.findUpClassName(t,"selector-user"),!t)return;let s=t.dataset.peerID;this.list.querySelector('[data-peerid="'+s+'"]').click()}),this.input.addEventListener("input",()=>{let e=this.input.value;this.query!=e&&("contacts"==this.peerType&&(this.cachedContacts=null,this.promise=null),this.list.innerHTML="",this.query=e,console.log("selectPeers input:",this.query),this.getMoreResults())}),this.scrollable.onScrolledBottom=()=>{this.getMoreResults()},this.container.append(o,r,this.chatsContainer),e.append(this.container),this.getMoreResults()}getMoreDialogs(){i.default.getConversations(this.offsetIndex,50,0).then(e=>{let t=e.dialogs;this.offsetIndex=t[e.dialogs.length-1].index||0,t[0].peerID!=this.myID&&(t.findAndSplice(e=>e.peerID==this.myID),t.unshift({peerID:this.myID,pFlags:{}})),this.renderResults(t.map(e=>e.peerID))})}getMoreContacts(){return o(this,void 0,void 0,(function*(){if(this.promise)return this.promise;if(this.cachedContacts||(this.promise=c.default.getContacts(this.query),this.cachedContacts=(yield this.promise).slice(),this.cachedContacts.findAndSplice(e=>e==this.myID),this.promise=null),this.cachedContacts.length){let e=u.default.windowH/72*1.25|0,t=this.cachedContacts.splice(0,e);this.renderResults(t)}}))}getMoreResults(){"dialogs"==this.peerType?this.getMoreDialogs():this.getMoreContacts()}renderResults(e){e.forEach(e=>{let{dom:t}=l.default.addDialog(e,this.list,!1,!1);t.containerEl.insertAdjacentHTML("afterbegin",'<div class="checkbox"><label><input type="checkbox"><span></span></label></div>');let s="";e<0?s=d.default.getChatMembersString(-e):e==this.myID?s="chat with yourself":(s=c.default.getUserStatusString(e),"online"==s&&(s=`<i>${s}</i>`)),t.lastMessageSpan.innerHTML=s})}add(e){let t=document.createElement("div");t.classList.add("selector-user","scale-in"),t.dataset.peerID=""+e,this.selected[e]=t;let s=h.appPeersManager.getPeerTitle(e,!1,!0),o=document.createElement("avatar-element");o.classList.add("selector-user-avatar","tgico"),o.setAttribute("dialog","1"),o.setAttribute("peer",""+e),t.innerHTML=s,t.insertAdjacentElement("afterbegin",o),this.selectedContainer.insertBefore(t,this.input),this.selectedScrollable.scrollTop=this.selectedScrollable.scrollHeight,this.onChange&&this.onChange(Object.keys(this.selected).length)}remove(e){let t=this.selected[e];t.classList.remove("scale-in"),t.offsetWidth,t.classList.add("scale-out"),t.addEventListener("animationend",()=>{delete this.selected[e],t.remove(),this.onChange&&this.onChange(Object.keys(this.selected).length)},{once:!0})}getSelected(){return Object.keys(this.selected).map(e=>+e)}}},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(22)),a=s(2),i=o(s(14)),n=o(s(1));const l=new(o(s(17)).default)("page-password",!0,()=>{let e=0,t=void 0,s=!1;const o=l.pageEl.querySelector("button"),d=document.getElementById("password"),c=l.pageEl.querySelector(".toggle-visible");let h=e=>{o.removeAttribute("disabled"),e.type,o.innerText=e.type};return c.addEventListener("click",(function(o){s?(this.classList.remove("tgico-eye2"),d.setAttribute("type","password"),t.setDirection(1),e=49,t.play()):(this.classList.add("tgico-eye2"),d.setAttribute("type","text"),t.setDirection(-1),e=0,t.play()),s=!s})),o.addEventListener("click",(function(e){if(!d.value.length)return void d.classList.add("error");this.setAttribute("disabled","true");let s=d.value;this.textContent="PLEASE WAIT...",a.putPreloader(this),n.default.checkPassword(s).then(e=>{switch(console.log("passwordManager response:",e),e._){case"auth.authorization":n.default.setUserAuth({id:e.user.id}),r.default.mount(),t&&t.destroy();break;default:o.removeAttribute("disabled"),o.innerText=e._}}).catch(h)})),d.addEventListener("keypress",(function(e){if(this.classList.remove("error"),"Enter"==e.key)return o.click()})),Promise.all([i.default.loadLottie(),fetch("assets/img/TwoFactorSetupMonkeyClose.tgs").then(e=>e.arrayBuffer()).then(e=>n.default.gzipUncompress(e,!0)).then(e=>i.default.loadAnimation({container:l.pageEl.querySelector(".auth-image"),renderer:"svg",loop:!1,autoplay:!1,animationData:JSON.parse(e)})).then(s=>{t=s,t.addEventListener("enterFrame",s=>{let o=Math.round(s.currentTime);(1==s.direction&&o>=e||-1==s.direction&&o<=e)&&(t.setSpeed(1),t.pause())}),e=49,t.play()})])});t.default=l},,function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function n(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,n)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0}),s(52),s(54),s(59),document.addEventListener("DOMContentLoaded",()=>o(void 0,void 0,void 0,(function*(){let e=(yield Promise.resolve().then(()=>r(s(12)))).default,t=yield e.get("user_auth");console.log("got auth:",t),-1!=navigator.userAgent.search(/OS X|iPhone|iPad|iOS/i)&&document.body.classList.add("is-mac","emoji-supported"),t.id||0?(yield Promise.resolve().then(()=>r(s(22)))).default.mount():(yield Promise.resolve().then(()=>r(s(32)))).default.mount();let o=(yield Promise.resolve().then(()=>r(s(0)))).findUpClassName;Array.from(document.body.getElementsByClassName("popup-close")).forEach(e=>{let t=o(e,"popup");e.addEventListener("click",()=>{t.classList.remove("active")})});let a=(yield Promise.resolve().then(()=>r(s(2)))).ripple;Array.from(document.getElementsByClassName("rp")).forEach(e=>a(e))})))},function(e,t,s){var o=s(30),r=s(53);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},i=(o(r,a),r.locals?r.locals:{});e.exports=i},function(e,t,s){(t=s(31)(!1)).push([e.i,'/*! normalize.css v7.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:0.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,html [type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-cancel-button,[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}template{display:none}[hidden]{display:none}html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}a{text-decoration:none;-webkit-tap-highlight-color:transparent}.valign-wrapper{display:flex;align-items:center}.z-depth-0{box-shadow:none !important}.z-depth-1{box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.z-depth-1-half{box-shadow:0 3px 3px 0 rgba(0,0,0,0.14),0 1px 7px 0 rgba(0,0,0,0.12),0 3px 1px -1px rgba(0,0,0,0.2)}.z-depth-2{box-shadow:0 4px 5px 0 rgba(0,0,0,0.14),0 1px 10px 0 rgba(0,0,0,0.12),0 2px 4px -1px rgba(0,0,0,0.3)}.z-depth-3{box-shadow:0 8px 17px 2px rgba(0,0,0,0.14),0 3px 14px 2px rgba(0,0,0,0.12),0 5px 5px -3px rgba(0,0,0,0.2)}.z-depth-4{box-shadow:0 16px 24px 2px rgba(0,0,0,0.14),0 6px 30px 5px rgba(0,0,0,0.12),0 8px 10px -7px rgba(0,0,0,0.2)}.z-depth-5{box-shadow:0 24px 38px 3px rgba(0,0,0,0.14),0 9px 46px 8px rgba(0,0,0,0.12),0 11px 15px -7px rgba(0,0,0,0.2)}.hide{display:none !important}.no-select{user-select:none}.center-align{text-align:center}a{text-decoration:none}html{line-height:1.5;font-weight:normal}h1,h2,h3,h4,h5,h6{line-height:1.3}em{font-style:italic}strong{font-weight:500}small{font-size:75%}\n',""]),e.exports=t},function(e,t,s){var o=s(30),r=s(55);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},i=(o(r,a),r.locals?r.locals:{});e.exports=i},function(e,t,s){var o=s(31),r=s(38),a=s(56),i=s(57),n=s(58);t=o(!1);var l=r(a),d=r(i),c=r(n);t.push([e.i,'.chats-container{position:relative}.chats-container .input-search{position:relative;width:100%;margin-left:22px;margin-right:4px}.chats-container .input-search input{background-color:rgba(112,117,121,0.08);border:2px solid transparent;height:44px;border-radius:22px;box-sizing:border-box;padding:0px 1.5rem 0 40px;-webkit-transition:all .15s ease-out;transition:all .15s ease-out;width:100%;font-size:16px}.chats-container .input-search input:focus{background-color:rgba(112,117,121,0);border:2px solid #4EA4F6}.chats-container .input-search input:focus+.tgico{color:#4EA4F6;opacity:1}.chats-container .input-search .tgico{position:absolute;left:12px;top:50%;transform:translateY(-50%);text-align:center;font-size:24px;color:#707579;opacity:.6;-webkit-transition:all .15s ease-out;transition:all .15s ease-out}.chats-container .input-search .tgico:before{vertical-align:middle}.chats-container ul{margin:0;display:flex;flex-direction:column;width:100%}.chats-container li{padding-bottom:4px;background-color:#fff}.chats-container li>.rp{height:72px;max-height:72px;border-radius:10px;display:flex;align-items:flex-start;flex-direction:row;position:relative;cursor:pointer;padding:9px 8.5px;margin:0px 8px 0px 7px;overflow:hidden}.chats-container li>.rp:hover{background:rgba(112,117,121,0.08)}.chats-container li.active>.rp,.chats-container li.menu-open>.rp{background:rgba(112,117,121,0.08)}.chats-container .pinned-delimiter{display:flex;padding:8px 0 4px}.chats-container .pinned-delimiter span{margin:0;width:100%;height:1px;background-color:#DADCE0}.chats-container p{margin:0;display:flex;justify-content:space-between;flex-direction:row;align-items:flex-start;height:27px}.chats-container p .user-title+span{font-size:.75rem;padding:1px 0px 0px 0px}.chats-container p .user-last-message+span:not(.tgico-pinnedchat){font-size:.9rem}.chats-container span{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;vertical-align:middle;line-height:27px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.chats-container .dialog-avatar{flex:0 0 auto}.chats-container .user-caption{max-width:100%;max-height:100%;overflow:hidden;color:#707579;flex:1 1 auto;padding:1px 3.5px 1px 9px}.chats-container .user-caption p:last-child{margin-top:-3px}.chats-container .user-title{max-width:82%}.chats-container .user-title img.emoji{vertical-align:top;margin-top:4px;width:18px;height:18px}.chats-container .user-title span.emoji{overflow:visible;margin:0;width:auto;font-size:14px;margin-top:-1.5px}.chats-container .user-title.is-verified:after{content:" ";background:url(/assets/img/icon-verified.svg);display:inline-block;width:20px;height:20px;vertical-align:text-bottom;margin-left:2px}.chats-container .user-last-message{max-width:86%}.chats-container .user-last-message img.emoji{width:20px;height:20px;margin-top:-3px}.chats-container .user-last-message span.emoji{font-size:1.2rem;margin:0 .125rem;overflow:visible;margin-top:-1.5px}.chats-container .user-title i,.chats-container .user-last-message i{font-style:normal;color:#50a2e9}.chats-container .message-status{margin-right:.1rem;margin-top:-.3rem}.chats-container .message-status[class*=" tgico-"]{color:#4DCD5E;font-size:1.25rem}.chats-container .message-status:before{vertical-align:middle}.chats-container .unread,.chats-container .unread-muted,.chats-container .tgico-pinnedchat{height:24px;text-align:center;line-height:24px;color:#fff;border-radius:12px;margin-top:4px;margin-right:-2px}.chats-container .unread,.chats-container .unread-muted{min-width:24px;padding:0 8px;font-weight:500}.chats-container .tgico-pinnedchat{width:24px;font-size:1.5rem}.chats-container .unread:empty,.chats-container .unread-muted:empty{visibility:hidden}.chats-container .unread{background:#4DCD5E}.chats-container .unread-muted,.chats-container .tgico-pinnedchat{background:#c5c9cc}.chats-container .search-group{width:100%;border-bottom:1px solid #DADCE0;padding:1rem 0 .5rem;margin-bottom:.5rem}.chats-container .search-group__name{color:#707579;padding:0 23px;padding-bottom:1rem;font-weight:500}.chats-container .search-group-contacts{padding:16px 0 7px}.chats-container .search-group-contacts .search-group__name{padding-bottom:17px}.chats-container .search-group:last-child{border-bottom:none}.contacts-container .dialog-avatar,.search-group-contacts .dialog-avatar{width:48px;height:48px}.contacts-container li,.search-group-contacts li{padding-bottom:4px;padding-top:2px}.contacts-container li>.rp,.search-group-contacts li>.rp{padding:9px 11.5px !important;height:66px}.contacts-container .user-caption,.search-group-contacts .user-caption{padding:1px 3.5px 1px 13px}.contacts-container .user-title,.contacts-container b,.contacts-container .user-last-message b,.search-group-contacts .user-title,.search-group-contacts b,.search-group-contacts .user-last-message b{font-weight:normal}.contacts-container p,.search-group-contacts p{height:24px}.contacts-container span.user-last-message,.search-group-contacts span.user-last-message{font-size:14px}#contacts-container .sidebar-header{margin-bottom:1px}#contacts-container .input-search{margin-left:16px}#bubble-contextmenu>div{padding:0 84px 0 16px}#topbar{width:100%;background-color:#fff;box-sizing:border-box;user-select:none;-webkit-user-select:none;display:flex;align-items:center;box-shadow:0 1px 2px 0 rgba(16,35,47,0.07);padding:.5rem 15px;flex:0 0 auto;min-height:61px;max-height:61px;border-bottom:1px solid #DADCE0}#topbar .chat-more-button{margin-left:8px}#topbar .chat-more-button .btn-menu{top:calc(100% + 7px)}#topbar .chat-info{flex-grow:1}#topbar .content{flex:1;padding-left:17px;line-height:1.6}#topbar .person{display:flex;align-items:center;cursor:pointer;margin-left:4px}#topbar .person:hover{background-color:transparent}#topbar .person .bottom{font-size:14px;line-height:18px;color:#707579}#topbar .person .bottom .online{color:#50a2e9}#topbar #im-avatar{width:44px;height:44px;line-height:44px}#chat-input{display:flex;align-items:center;width:100%;max-width:696px;padding-top:.35rem;padding-bottom:21px;justify-content:space-between;flex:0 0 auto;position:relative}#chat-input #input-message{background:none;border:none;width:100%;font-size:16px;padding:10px 9px;max-height:30rem;overflow-y:none;resize:none;border:none;outline:none;cursor:text}#chat-input [contenteditable=true]:empty:before{content:attr(data-placeholder);color:#a2acb4;display:block}#chat-input .btn-circle{flex:0 0 auto;font-size:1.5rem;line-height:1.5rem;color:#9e9e9e;background-color:#fff;align-self:flex-end}#chat-input .btn-circle.tgico-send{color:#50a2e9}#chat-input .os-scrollbar-handle{background:rgba(0,0,0,0.2)}#im-title{cursor:pointer}#im-title span.emoji{vertical-align:inherit}.chat-container{display:flex;width:100%;align-items:center;height:100vh;overflow:hidden;flex-direction:column;position:relative;background-image:url('+l+");background-size:cover;background-position:center center}.chat-container #chat-background-canvas{display:none}.chat-container .input-message{display:flex;align-items:center;flex-direction:column;width:calc(100% - 3.75rem);justify-content:center;background-color:#fff;border-radius:12px;border-bottom-right-radius:0;box-shadow:0 1px 2px 0 rgba(16,35,47,0.07);margin-right:9px;padding:4.5px .5rem;min-height:54px;max-height:30rem;caret-color:#4EA4F6;flex:1;position:relative}.chat-container .input-message:after{position:absolute;bottom:-1px;width:11px;height:20px;background-repeat:no-repeat repeat;content:'';background-size:11px 20px;right:-9px;background-image:url("+d+');transform:scaleX(-1)}.chat-container .input-message #attach-file.menu-open{color:#50a2e9}.chat-container .input-message #attach-file .btn-menu{padding:8px 0;right:-8px;bottom:calc(100% + 16px)}.chat-container .input-message #attach-file .btn-menu>div{padding:0 38px 0 16px}.chat-container .input-message>div{display:flex;justify-content:space-between;align-items:center;width:100%}.chat-container .input-message .reply-wrapper{justify-content:flex-start;overflow:hidden;transition:.2s all;height:0px}.chat-container .input-message .reply-wrapper.active{height:39px}.chat-container .input-message .reply-wrapper .reply{width:100%;margin-left:.5rem;min-height:35px}.chat-container .input-message .new-message-wrapper{align-items:flex-end}.chat-container .input-message .new-message-wrapper .btn-icon:before{vertical-align:bottom}.chat-container .input-message .input-message-container{width:1%;max-height:inherit;flex:1 1 auto;position:relative;overflow:hidden}.chat-container .input-message .input-message-container>.scrollable{position:relative}.chat-container .input-message .btn-icon{display:block;transition:.2s color;flex:0 0 auto;font-size:24px;line-height:24px;padding:10px 7px 9px 7.5px;color:#8d969c}.chat-container .input-message .btn-icon.active{color:#50a2e9}.chat-container .input-message .emoji{font-size:24px;height:24px;width:24px}.chat-container .pinned-message,.chat-container .reply{cursor:pointer;display:flex;flex-direction:row;align-items:center;overflow:hidden;box-sizing:border-box;width:187px;margin-right:1rem;max-height:35px;position:relative}.chat-container .pinned-message.is-reply-media .pinned-message-content,.chat-container .pinned-message.is-reply-media .reply-content,.chat-container .reply.is-reply-media .pinned-message-content,.chat-container .reply.is-reply-media .reply-content{padding-left:40px}.chat-container .pinned-message:hover,.chat-container .reply:hover{background-color:rgba(112,117,121,0.08)}.chat-container .pinned-message-border,.chat-container .reply-border{height:32px;border-radius:1px;min-width:2px;background:#50a2e9}.chat-container .pinned-message-content,.chat-container .reply-content{margin-left:8px;flex-grow:1;flex-shrink:1;overflow:hidden;pointer-events:none;position:relative;height:32px;display:flex;flex-direction:column;justify-content:space-between}.chat-container .pinned-message-title,.chat-container .reply-title{color:#50a2e9}.chat-container .pinned-message-title,.chat-container .pinned-message-subtitle,.chat-container .reply-title,.chat-container .reply-subtitle{font-size:14px;line-height:15px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.chat-container .pinned-message-subtitle,.chat-container .reply-subtitle{white-space:nowrap;color:#111}.chat-container .pinned-message-media,.chat-container .reply-media{height:32px;width:32px;border-radius:8px;overflow:hidden;position:absolute;left:0;top:0;background-repeat:no-repeat;background-size:cover;background-position:center center}.chat-container .pinned-message i,.chat-container .reply i{font-style:normal;color:#50a2e9}.chat-container .pinned-message img.emoji,.chat-container .reply img.emoji{height:16px;width:16px;vertical-align:top}.chat-container .pinned-message span.emoji,.chat-container .reply span.emoji{font-size:16px;vertical-align:unset}#bubbles{width:100%;height:100%;max-height:100%;flex:1 1 auto;overflow:hidden;position:relative;padding:0 .5rem}#bubbles>.scrollable{height:auto;display:block}#bubbles:not(.scrolled-down){-webkit-mask-image:-webkit-linear-gradient(bottom, transparent, #000 20px);mask-image:linear-gradient(0deg, transparent 0, #000 20px)}#bubbles:not(.scrolled-down) #bubbles-go-down{opacity:1}#bubbles .preloader{width:100%;height:100%}#bubbles .preloader svg{width:50px;height:50px}#bubbles .preloader-container .preloader-circular{background-color:rgba(0,0,0,0.35)}#bubbles-inner{width:100%;display:flex;flex-direction:column;flex-shrink:1;margin:0 auto;box-sizing:border-box;min-height:100%;justify-content:flex-end}#bubbles-inner.is-chat .is-in .bubble__container{margin-left:3rem}#bubbles-inner.is-channel:not(.is-chat) .bubble__container{max-width:100%}#bubbles-inner.is-channel:not(.is-chat):not(.has-rights){padding-bottom:55px}#bubbles-inner:not(.is-channel) .message,#bubbles-inner.is-chat .message{max-width:480px}#bubbles-inner.is-scrolling .is-sticky{opacity:1}#bubbles-go-down{position:absolute;background-color:#fff;border-radius:50%;width:3.25rem;height:3.25rem;color:#9e9e9e;font-size:30px;display:flex;align-items:center;justify-content:center;right:17.5px;bottom:17.5px;cursor:pointer;opacity:0;transition:.2s opacity;user-select:none;-webkit-user-select:none}#bubbles-go-down:before{margin-left:.75px}.popup.popup-delete-message .popup-header{margin-bottom:1rem}.popup .popup-buttons{display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end}.popup .popup-buttons button{background:none;outline:none;border:none;padding:.5rem;text-transform:uppercase;transition:.2s;border-radius:8px;cursor:pointer;color:#50a2e9}.popup .popup-buttons button:hover{background-color:rgba(112,117,121,0.08)}.popup .popup-buttons button+button{margin-top:.5rem}@keyframes bubbleSelected{0%{opacity:0}25%{opacity:1}to{opacity:0}}.bubble{padding-top:5px;max-width:696px;margin:0 auto;position:relative}.bubble.is-selected:before{position:absolute;width:200%;height:100%;background-color:rgba(0,132,255,0.3);content:" ";display:block;left:-50%;top:0;animation:bubbleSelected 2s linear}.bubble.is-selected:not(.is-group-last):before{height:calc(100% + 5px)}.bubble.is-date{position:-webkit-sticky;position:sticky;top:5px;z-index:2;pointer-events:none}.bubble.is-date.is-sticky{-webkit-transition:opacity .3s ease;transition:opacity .3s ease;opacity:0}.bubble__container{min-width:56px;max-width:85%;border-radius:12px;box-shadow:0 1px 2px 0 rgba(16,35,47,0.15);position:relative;display:flex;flex-direction:column-reverse;width:max-content;height:fit-content}.bubble__container>.user-avatar{position:absolute;left:-3rem;width:40px;height:40px;line-height:40px;bottom:0;font-size:1rem;cursor:pointer}.bubble.service{padding:5px 0}.bubble.service .bubble__container{margin:0 auto;max-width:100%}.bubble.forwarded .forward{opacity:0;position:absolute;right:-46px;bottom:0;width:38px;height:38px;font-size:1.5rem;align-items:center;display:flex;justify-content:center;color:#fff;border-radius:50%;background:rgba(0,0,0,0.16);cursor:pointer;transition:.2s opacity}.bubble.forwarded .forward svg{width:20px;height:20px}.bubble.is-group-last{padding-bottom:5px}.bubble:not(.forwarded):not(.is-group-first) .bubble__container>.name{display:none}.bubble:not(.forwarded):not(.is-group-first):not(.is-message-empty):not(.is-reply) .message{padding-top:6px}.bubble:not(.is-group-last) .bubble__container>.user-avatar{display:none}.bubble:not(.hide-name) .audio{margin:4px 0}.bubble:hover .forward{opacity:1}.bubble .reply{width:auto}.bubble .reply .reply-content{height:auto;min-height:32px}.bubble.photo .bubble__container,.bubble.video .bubble__container{width:min-content}.bubble.photo .box.web,.bubble.video .box.web{max-width:100%}.bubble.webpage .time{float:none;width:0}.bubble img.emoji{height:18px;width:18px;margin:0 .05rem;vertical-align:bottom}.bubble span.emoji{height:auto;width:auto;overflow:visible;vertical-align:unset}.bubble.emoji-big{font-size:0}.bubble.emoji-big .bubble__container{background:none !important;box-shadow:none;line-height:1;user-select:none;-webkit-user-select:none}.bubble.emoji-big:not(.sticker) .attachment{padding-top:.5rem;padding-bottom:1.5rem;max-width:fit-content !important;max-height:fit-content !important}.bubble.emoji-big:not(.sticker) .attachment span.emoji{height:auto;width:auto}.bubble.emoji-big.sticker .bubble__container{max-width:140px;max-height:140px}.bubble.emoji-1x .attachment{font-size:96px}.bubble.emoji-1x .attachment img.emoji{height:64px;width:64px}.bubble.emoji-2x .attachment{font-size:64px}.bubble.emoji-2x .attachment img.emoji{height:48px;width:48px}.bubble.emoji-3x .attachment{font-size:52px}.bubble.emoji-3x .attachment img.emoji{height:32px;width:32px}.bubble.sticker .bubble__container,.bubble.round .bubble__container,.bubble.emoji-big .bubble__container{cursor:pointer;background:none !important;box-shadow:none}.bubble.sticker img,.bubble.round img,.bubble.emoji-big img{object-fit:contain}.bubble.sticker.is-message-empty .message,.bubble.round.is-message-empty .message,.bubble.emoji-big.is-message-empty .message{background-color:rgba(0,0,0,0.23)}.bubble.sticker .attachment{border-radius:0}.bubble.sticker .bubble__container{max-width:200px;max-height:200px}.bubble.round .attachment{max-width:200px;max-height:200px}.bubble.round .attachment img{border-radius:50%}.bubble:not(.is-message-empty) .attachment{border-bottom-left-radius:0;border-bottom-right-radius:0}.bubble:not(.emoji-big) .attachment{font-size:0}.bubble .attachment{max-width:100%;border-radius:inherit;overflow:hidden;display:flex;justify-content:center;position:relative}.bubble .attachment img,.bubble .attachment video{width:auto;height:auto;max-width:100%;cursor:pointer;opacity:1;transition:opacity .3s ease}.bubble .attachment .download{position:absolute;left:0;top:0;height:100%;width:100%;cursor:pointer;display:flex;justify-content:center;align-items:center}.bubble .attachment .download span{background-color:rgba(0,0,0,0.35);font-size:23px;color:#fff;text-align:center}.bubble .attachment .download ~ .video-play{display:none}.bubble:not(.sticker) .attachment{max-width:380px;max-height:380px;width:max-content}.bubble:not(.sticker) img:not(.emoji),.bubble:not(.sticker) video{object-fit:cover;width:100%;height:100%}.bubble.is-album .attachment{max-width:451px;max-height:none}.bubble.is-album .attachment>div{background-color:#000;background-size:cover;background-position:center center;max-width:100%;cursor:pointer;position:absolute}.bubble.is-album .attachment>div img,.bubble.is-album .attachment>div video{border-radius:inherit}.bubble.round.video .attachment{max-height:200px;max-width:200px}.bubble .box,.bubble .reply{font-size:.95rem;margin:4px 4px 4px 6px;padding:4px;margin-bottom:-5px;border-radius:4px}.bubble .box.web,.bubble .reply.web{margin-top:-6px;max-width:100%;overflow:hidden}.bubble .box.web .preview,.bubble .reply.web .preview{max-height:300px;max-width:380px;border-radius:4px;margin-bottom:3px;overflow:hidden;user-select:none;-webkit-user-select:none;cursor:pointer;position:relative;width:max-content}.bubble .box.web .preview img,.bubble .box.web .preview video,.bubble .reply.web .preview img,.bubble .reply.web .preview video{max-width:100%}.bubble .box.web .title,.bubble .reply.web .title{letter-spacing:-0.2px;line-height:1.2;font-weight:500 !important}.bubble .box.web .name,.bubble .reply.web .name{letter-spacing:-0.3px;display:block}.bubble .box.web .name:hover,.bubble .reply.web .name:hover{text-decoration:underline}.bubble .box.web .text,.bubble .reply.web .text{overflow:hidden;text-overflow:ellipsis;line-height:1.2;letter-spacing:-0.3px;margin-top:2px;font-size:0.965rem}.bubble .box .quote,.bubble .reply .quote{padding-left:0.55rem;max-width:100%;overflow:hidden;width:100%}.bubble .box .text,.bubble .reply .text{line-height:1.2}.bubble .box .name,.bubble .box .reply-title,.bubble .reply .name,.bubble .reply .reply-title{font-weight:500 !important;display:inline !important}.bubble .reply{max-width:300px;margin-bottom:6px;margin-top:0;cursor:pointer}.bubble.is-reply.emoji-big .reply,.bubble.is-reply.sticker .reply{padding:10px;border-radius:12px;border:1px solid #ccc;max-width:300px;height:54px;max-height:54px;white-space:nowrap;position:absolute;top:0;margin-bottom:0}.bubble.is-reply.emoji-big .reply .reply-content,.bubble.is-reply.sticker .reply .reply-content{margin-top:0}.bubble.is-reply .reply-content{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.bubble .message{font-size:16px;padding:0 .6rem 6px .6rem;overflow:hidden;text-overflow:ellipsis;max-width:100%;color:#000;line-height:21px;word-break:break-word}.bubble .message:last-child{padding-top:6px}.bubble .message .emoji{font-size:1.2rem}.bubble .message.audio-message{min-width:275px;max-width:275px !important;padding-top:8px !important;padding-left:8px !important}.bubble .message.audio-message .audio{justify-content:unset;max-width:none}.bubble .message.audio-message .audio-time{padding-bottom:7px}.bubble .message.audio-message .audio-time,.bubble .message.audio-message .audio-subtitle{color:#4fae4e;line-height:1.45;margin-top:0}.bubble .message.audio-message .audio-title{font-weight:500;margin-left:-1px}.bubble .message.audio-message .audio-details{margin-top:8px}.bubble .message.audio-message .audio-ico{font-size:2.15rem}.bubble .message.audio-message .media-progress{width:191px;margin:9px 0 9px}.bubble .message.audio-message .media-progress__filled{background-color:#47aa41;transform-origin:left;height:2px}.bubble .message.audio-message .media-progress__seek{height:2px;overflow:visible !important;background:rgba(124,195,107,0.52)}.bubble .message.audio-message .media-progress__seek::-webkit-slider-thumb{height:12px;width:12px;background:#47aa41}.bubble .message.audio-message .tgico-largeplay:before{content:"\\e929";margin-right:-2px}.bubble .message.audio-message .time{width:unset}.bubble .message.contact-message{min-width:200px;padding-left:8px}.bubble .message.contact-message .contact{display:flex;padding:2px 0;cursor:pointer}.bubble .message.contact-message .contact-avatar{color:#fff}.bubble .message.contact-message .contact-details{padding-left:12px;margin-top:8px}.bubble .message.contact-message .contact-name{font-size:1rem;font-weight:500}.bubble .message.contact-message .contact-number{font-size:14px;line-height:1.4}.bubble .message.contact-message .time{width:unset}.bubble .message.document-message{max-width:325px !important}.bubble .message.document-message .time{width:unset}.bubble .message.document-message .document{padding-left:66px;height:58px}.bubble .message.document-message .document-name{line-height:1.4;margin-top:1px;overflow:hidden;text-overflow:ellipsis}.bubble.is-message-empty .message{position:absolute;bottom:.1rem;right:.2rem;border-radius:12px;background-color:rgba(0,0,0,0.35);padding:0 .2rem;z-index:2}.bubble.is-message-empty .message .time{color:#fff;padding:0;display:flex;align-items:center;width:auto}.bubble.is-message-empty .message .time .inner{margin-bottom:0;position:relative;padding:0 2.5px;bottom:0}.bubble .time{font-size:.8rem;user-select:none;float:right;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;height:20px;line-height:20px}.bubble .time .inner{position:absolute;bottom:0;right:0;font-size:12px;display:flex;align-items:center;line-height:1}.bubble .time .inner i{font-size:1.15rem;margin-right:.4rem;margin-left:.1rem}.bubble .time .inner i.edited{overflow:visible;font-size:.8rem}.bubble span.video-time{position:absolute;top:3px;left:3px;border-radius:12px;background-color:rgba(0,0,0,0.35);padding:0px 6px 0px 6px;z-index:2;font-size:12px;color:white;display:flex;align-items:center;cursor:pointer;user-select:none;-webkit-user-select:none}.bubble span.video-play{background-color:rgba(0,0,0,0.35);color:#fff;text-align:center;font-size:34px;line-height:60px;cursor:pointer}.bubble.is-edited.channel-post .time{min-width:calc(5rem + 46px)}.bubble.channel-post .time{width:5rem}.bubble.is-edited .time{width:78px !important}.bubble.is-edited.emoji-big .time,.bubble.is-edited.sticker .time{width:81px !important}.bubble:not(.forwarded).hide-name .name,.bubble.emoji-big .name{display:none}.bubble .name{cursor:pointer}.bubble__container>.name{padding:5px .6rem 0 .6rem;font-weight:500 !important;color:#50a2e9;font-size:.9rem;max-width:100%;overflow:hidden;text-overflow:ellipsis}.bubble:not(.webpage).photo .name,.bubble:not(.webpage).video .name{padding-bottom:6px}.bubble:not(.webpage).photo:not(.is-message-empty) .message,.bubble:not(.webpage).video:not(.is-message-empty) .message{padding-top:6px}.bubble:not(.webpage):not(.is-album):not(.sticker):not(.round):not(.emoji-big) .attachment,.bubble .album-item{background-color:#000}.bubble.hide-name:not(.is-reply):not(.is-message-empty) .message{padding-top:6px}.bubble:not(.sticker):not(.emoji-big).hide-name .reply,.bubble:not(.sticker):not(.emoji-big):not(.is-group-first) .reply{margin-top:6px}.bubble:not(.sticker):not(.emoji-big):not(.round).is-group-last .bubble__container:after{position:absolute;bottom:0;width:11px;height:20px;background-repeat:no-repeat repeat;content:\'\';background-size:11px 20px;background-position-y:1px}.bubble.photo.is-message-empty.is-group-last.is-group-last .bubble__container:after,.bubble.video:not(.round).is-message-empty.is-group-last.is-group-last .bubble__container:after{display:none}.bubble.photo.is-message-empty.is-group-last .attachment,.bubble.video:not(.round).is-message-empty.is-group-last .attachment{overflow:visible}.bubble__media-container{cursor:pointer}.bubble.service{align-self:center}.bubble.service .service-msg{color:#fff;background-color:rgba(0,0,0,0.24);font-size:14px;padding:0 8px;line-height:24px;border-radius:12px;user-select:none;display:flex;align-items:center;justify-content:center}.bubble.service .service-msg .name{cursor:pointer;margin-right:5px}.bubble.service .service-msg img.emoji{margin-bottom:3px}.bubble-audio .time{width:unset !important}.bubble.is-in .bubble__container{margin-right:auto;background-color:#ffffff;border-radius:6px 12px 12px 6px}.bubble.is-in.is-group-first .bubble__container{border-radius:12px 12px 12px 6px}.bubble.is-in.is-group-last .bubble__container{border-radius:6px 12px 12px 0px}.bubble.is-in.is-group-last .bubble__container:after{left:-8.4px;background-image:url('+d+")}.bubble.is-in.is-group-first.is-group-last .bubble__container{border-radius:12px 12px 12px 0px}.bubble.is-in.forwarded .attachment,.bubble.is-in.is-reply .attachment,.bubble.is-in:not(.hide-name).is-message-empty .attachment{border-top-left-radius:0;border-top-right-radius:0}.bubble.is-in a{color:#50a2e9}.bubble.is-in .quote:hover,.bubble.is-in .reply:hover{background-color:rgba(112,117,121,0.08)}.bubble.is-in.is-reply.emoji-big .reply,.bubble.is-in.is-reply.sticker .reply{left:calc(100% + 10px);background-color:#fff}.bubble.is-in .quote{border-left:2px #50a2e9 solid}.bubble.is-in .quote *{overflow:hidden;text-overflow:ellipsis}.bubble.is-in .quote .name,.bubble.is-in .reply-title{color:#50a2e9}.bubble.is-in .time{color:#a3adb6;width:36px}.bubble.is-in .time .inner{padding:0 7px 0 5px;margin-bottom:4px}.bubble.is-in.photo.is-message-empty.is-group-last .attachment,.bubble.is-in.video:not(.round).is-message-empty.is-group-last .attachment{border-bottom-left-radius:0}.bubble.is-in.photo.is-message-empty.is-group-last .attachment .bubble__media-container,.bubble.is-in.video:not(.round).is-message-empty.is-group-last .attachment .bubble__media-container{margin-left:-9px}.bubble.is-in .audio-subtitle,.bubble.is-in .contact-number,.bubble.is-in .audio-time{color:#707579 !important}.bubble.is-in .message.audio-message .media-progress__seek{background:rgba(193,207,220,0.39)}.bubble.is-in .message.audio-message .media-progress__filled{background-color:#0089ff}.bubble.is-in .message.audio-message .media-progress input::-webkit-slider-thumb{background:#63a2e3}.bubble.is-out .bubble__container{margin-left:auto;background-color:#eeffde;border-radius:12px 6px 6px 12px}.bubble.is-out .bubble__container>.user-avatar{left:auto;right:-2.5rem}.bubble.is-out.is-group-first .bubble__container{border-radius:12px 12px 6px 12px}.bubble.is-out.is-group-last .bubble__container{border-radius:12px 6px 0px 12px}.bubble.is-out.is-group-last .bubble__container:after{right:-8.4px;background-image:url("+c+')}.bubble.is-out.is-group-first.is-group-last .bubble__container{border-radius:12px 12px 0px 12px}.bubble.is-out.forwarded .attachment,.bubble.is-out.is-reply .attachment{border-top-left-radius:0;border-top-right-radius:0}.bubble.is-out .quote:hover,.bubble.is-out .reply:hover{background-color:rgba(77,205,94,0.12)}.bubble.is-out.is-reply.emoji-big .box,.bubble.is-out.is-reply.emoji-big .reply,.bubble.is-out.is-reply.sticker .box,.bubble.is-out.is-reply.sticker .reply{background-color:#eeffde;right:calc(100% + 10px);border-color:rgba(77,205,94,0.12)}.bubble.is-out .quote{border-left:2px #50af4f solid}.bubble.is-out .reply-border{background-color:#50af4f}.bubble.is-out .quote .name,.bubble.is-out .reply-title{color:#50af4f}.bubble.is-out .time{color:#50af4f;width:50px;display:inline-block}.bubble.is-out .time .inner{padding:0 4px 0 4px;bottom:1px}.bubble.is-out .time .tgico:after{font-size:19px;vertical-align:middle;margin-left:1px}.bubble.is-out.forwarded .name{color:#50af4f}.bubble.is-out.is-read .time .tgico:after{content:""}.bubble.is-out.is-sent .time .tgico:after{content:""}.bubble.is-out.is-sending .time .tgico:after{content:""}.bubble.is-out.is-reply .name{display:none}.bubble.is-out.is-edited .time{width:85px}.bubble.is-out .document-ico:after{border-top-color:#eeffde;border-right-color:#eeffde}.bubble.is-out .audio-waveform rect{fill:#B8DDA9}.bubble.is-out .audio-waveform rect.active{fill:#68AB5A}.bubble.is-out .audio-time,.bubble.is-out .audio-subtitle{color:#68AB5A}.bubble.is-out .audio-toggle,.bubble.is-out .audio-download{background-color:#4FAE4E}.bubble.is-out.photo.is-message-empty.is-group-last .attachment,.bubble.is-out.video:not(.round).is-message-empty.is-group-last .attachment{border-bottom-right-radius:0}.bubble.is-out.photo.is-message-empty.is-group-last .attachment .bubble__media-container,.bubble.is-out.video:not(.round).is-message-empty.is-group-last .attachment .bubble__media-container{margin-right:-9px}.bubble.is-out .audio-subtitle,.bubble.is-out .contact-number,.bubble.is-out .document-size{color:#4FAE4E}.bubble.is-out poll-element .poll-desc,.bubble.is-out poll-element .poll-votes-count{color:#50af4f}.bubble.is-out poll-element .poll-line use{stroke:#4fae4e}.bubble.is-out poll-element .poll-answer-selected{background-color:#4fae4e}.bubble.is-out poll-element .poll-answer:hover .animation-ring{background-color:rgba(79,174,78,0.08)}.bubble.is-out poll-element .progress-ring__circle{stroke:#4fae4e}poll-element{margin-top:-1px;display:block;min-width:280px}poll-element .poll-title{font-weight:500}poll-element .poll-desc{font-size:14px;color:#707579;margin-bottom:7px}poll-element .poll-answer{display:flex;flex-direction:row;position:relative;padding-bottom:20px;padding-left:34px;cursor:pointer}poll-element .poll-answer-text{margin-top:7px;margin-left:14px}poll-element .poll-answer-percents{position:absolute;left:0;top:0;opacity:0;font-weight:500;margin-top:7px;transition:.34s opacity;margin-left:-3px;text-align:right;width:40px}poll-element .poll-answer-selected{position:absolute;top:33px;left:26px;color:#fff;background:#50a2e9;border-radius:50%;height:12px;width:12px;font-size:11px;line-height:15px;opacity:0;animation:fadeIn .1s ease forwards;animation-direction:reverse;animation-delay:.24s}poll-element .poll-answer:hover .animation-ring{visibility:visible;transform:scale(1)}poll-element .poll-answer.is-voting .progress-ring__circle{stroke-dashoffset:-19.792;animation:pollAnswerRotate 0.65s linear infinite}poll-element .poll-votes-count{color:#707579;font-size:14px;margin-top:7px}poll-element .poll-line{height:35px;position:absolute;left:17.5px;top:11px;transition:stroke-dashoffset .34s linear, stroke-dasharray .34s linear;stroke-dashoffset:0;stroke-dasharray:0, 485.9}poll-element .poll-line use{stroke-width:4px;stroke-linecap:round;stroke:#50a2e9;fill:none}poll-element+.time{height:unset !important;padding-top:0px !important;padding-bottom:7px !important}poll-element .circle-hover{display:flex;justify-content:center;align-items:center;width:34px;height:34px;margin-left:5px;position:absolute;left:0;top:0;transform:scale(1);transition:.1s transform}poll-element .animation-ring{display:block;border-radius:50%;height:34px;width:34px;transition:transform 0.12s;background-color:#f4f4f4;transform:scale(0.1);visibility:hidden}poll-element .progress-ring{height:26px;width:26px;top:unset;left:unset}poll-element .progress-ring__circle{transform-origin:center;transform:rotate(-90deg);transition:stroke-dashoffset 0.15s;stroke-dasharray:56.5487, 56.5487;stroke-dashoffset:0;stroke-opacity:1;stroke-width:2;stroke:#8d969c;fill:transparent}poll-element.is-voted .circle-hover,poll-element.is-voted .animation-ring{transform:scale(0)}poll-element.is-voted .poll-answer-percents{opacity:1}poll-element.is-voted .poll-answer-selected{animation-direction:normal}poll-element.is-retracting .circle-hover{transition-delay:.24s}poll-element.is-retracting .animation-ring{transition-delay:.22s}@keyframes pollAnswerRotate{to{transform:rotate(270deg)}}.sidebar{background-color:#fff;overflow:hidden}.sidebar-left{border-right:1px solid #DADCE0}.sidebar-right{border-left:1px solid #DADCE0}.sidebar-header{display:flex;align-items:center;justify-content:space-between;padding:7.5px 16px;min-height:60px}.sidebar-header__title{flex:1;font-weight:500;padding-left:23px;font-size:20px}.sidebar-header .btn-icon+.btn-icon{margin-left:.5rem}.sidebar-close-button{padding-left:10px}.sidebar-content{width:100%;max-height:100%;height:100%;overflow:hidden;display:flex;position:relative}.sidebar-content>div{width:100%}#column-left{display:flex;flex-direction:column}#column-left #chats-container{max-height:100%;overflow:hidden;position:relative}#column-left .sidebar-slider{height:100%}#column-left .sidebar-header__btn-container{position:relative;width:39.75px;height:39px}#column-left .sidebar-header__btn-container>*{visibility:hidden;opacity:0;position:absolute;left:0;top:0;transition:.2s opacity;z-index:2}#column-left .sidebar-header__btn-container>*:before{transition:.2s transform;transform:rotate(180deg)}#column-left .sidebar-header__btn-container>*+*{margin-left:0 !important}#column-left .sidebar-header__btn-container>*.active{opacity:1;visibility:visible;color:#707579}#column-left .sidebar-header__btn-container>*.active:before{transform:rotate(0deg)}#column-left .sidebar-tools-button .btn-menu{width:217px}#column-left .sidebar-tools-button .btn-menu .archived-count{border-radius:12px;min-width:24px;padding:0 8px;height:24px;text-align:center;line-height:24px;color:#fff;font-weight:500;background-color:#c5c9cc;justify-self:flex-end;position:absolute;right:16px}#column-left .sidebar-tools-button .btn-menu .archived-count:empty{display:none}#column-left .search-group-people ul{display:flex;flex-direction:row;padding-left:4px;margin-top:-1px;padding-bottom:1px}#column-left .search-group-people li{margin-right:5px;padding:0}#column-left .search-group-people .rp{height:98px;max-height:98px;border-radius:10px;max-width:78px;width:78px;align-items:center;position:relative;display:flex;flex-direction:column;cursor:pointer;padding:12px 0 0 !important;overflow:hidden;margin:0}#column-left .search-group-people .dialog-avatar{width:54px;height:54px}#column-left .search-group-people .user-caption{max-width:65px;padding:2px 0px 9px;font-size:12px}#column-left .search-group-people .user-title{max-width:unset}#column-left .search-group-people .search-group-scrollable{position:relative}#column-left .search-group-people .search-group-scrollable>.scrollable{position:relative}#column-left .item-main .sidebar-content .btn-menu{bottom:calc(100% + 10px)}#column-left .item-main .sidebar-content:hover .btn-corner{transform:translateY(0px)}#column-left .item-main .sidebar-content:hover .btn-corner.menu-open:before{content:""}#search-container{transition:150ms ease-in-out opacity,150ms ease-in-out transform;transform:scale(1.1, 1.1);opacity:0;display:flex}#search-container.active{transform:scale(1, 1);transform-origin:center;opacity:1}.new-channel-container .sidebar-content,.new-group-container .sidebar-content,.edit-profile-container .sidebar-content{flex-direction:column}.new-channel-container .avatar-edit,.new-group-container .avatar-edit,.edit-profile-container .avatar-edit{width:120px;height:120px;margin:1px auto 32px;flex:0 0 auto}.new-channel-container .input-wrapper,.new-group-container .input-wrapper,.edit-profile-container .input-wrapper{width:380px;margin:0 auto;flex:0 0 auto}.new-channel-container .chats-container,.new-group-container .chats-container,.edit-profile-container .chats-container{flex:1 1 auto}.new-channel-container .caption,.new-group-container .caption,.edit-profile-container .caption{font-size:0.875rem;margin-top:14px;margin-left:23px;color:#707579}.new-group-members{padding:1.5rem 0 0.4375rem}.new-group-members .search-group__name{text-transform:capitalize}.settings-container .profile-button{display:flex;padding:1.125rem 0.625rem;height:3.5rem;line-height:1.4;border-radius:0.625rem;margin:0px 0.5rem 0px 0.4375rem}.settings-container .profile-button:hover{background:rgba(112,117,121,0.08);cursor:pointer}.settings-container .profile-button:before{font-size:24px;color:#707579;margin-left:0.375rem;margin-top:-0.0625rem}.settings-container .profile-button p{padding-left:2rem;user-select:none}.settings-container .profile-buttons{margin-top:.9375rem;width:100%}.edit-profile-container .caption{margin-top:1.063rem;margin-left:1.438rem;line-height:1.2;padding-bottom:1.438rem}.edit-profile-container .sidebar-left-h2{color:#707579;padding:0 1.438rem;padding-bottom:1.5rem;font-weight:500}.edit-profile-container hr{margin-bottom:1.5rem}.edit-profile-container .scroll-wrapper{width:100%}#column-right{width:0%;position:relative;transition:.2s ease-in-out}#column-right .profile-container>.scrollable{min-width:25vw;display:flex;flex-direction:column}@media (min-width: 1680px){#column-right .profile-container>.scrollable{min-width:calc(1680px / 4 - 1px)}}#column-right:not(.active){border-left-width:0}#column-right.active{width:25%}#column-right .sidebar-header{flex:0 0 auto}#column-right #search-private-container .chats-container{position:relative;flex:1 1 auto}#column-right .sidebar-search{display:none}#column-right .sidebar-search.active{display:flex}.profile-content{flex:1 1 auto;display:flex;flex-direction:column;height:100%;position:relative;width:100%}.profile-content [type="checkbox"]+span{padding-left:54px;margin-left:-54px}.profile-content-wrapper{flex:0 0 auto;display:flex;flex-direction:column;margin-bottom:36px}.profile-content .content-container{width:100%;max-width:100%;flex:1 1 auto;position:relative}.profile-content .content-container.loaded .profile-tabs-content{position:relative;min-height:auto}.profile-name{text-align:center;font-size:24px;line-height:1.4;font-weight:500}.profile-name span.emoji{vertical-align:inherit;min-width:min-content}.profile-subtitle{text-align:center;color:#707579;font-size:14px;margin-bottom:2px}.profile-subtitle.online{color:#50a2e9}.profile-row{display:flex;width:100%;flex-direction:column;padding-left:80px;padding-right:12px;position:relative;margin-top:31px;line-height:1.4}.profile-row:before{position:absolute;left:24px;font-size:24px;color:#707579}.profile-row p{color:#000;margin:0;font-size:1rem}.profile-row-bio .emoji{width:24px;height:24px}.profile-row-label{color:#707579 !important;font-size:14px !important}.profile-row-notifications{margin-top:29px;line-height:1.3}.profile-avatar{width:120px;height:120px;margin:1px auto 21px;font-size:4rem !important}.profile-avatar.tgico-avatar_deletedaccount{font-size:6rem}.profile-tabs{position:-webkit-sticky !important;position:sticky !important;top:0;z-index:3;background-color:#fff}.profile-tabs-content{min-height:calc(100% - 49px);position:absolute}.profile-tabs-content>div{position:relative}.profile-tabs-content .preloader{padding:0;position:absolute !important;height:100%}.profile-tabs-content .preloader>svg{height:50px;width:50px}.profile-tabs-content #content-media{width:100%;display:flex;flex-direction:column;padding:4px 7.5px 7.5px}.profile-tabs-content #content-media>div{display:grid;grid-template-columns:1fr 1fr 1fr;grid-auto-rows:max-content;grid-gap:3.5px;place-items:start;padding-top:3.5px}.profile-tabs-content #content-media>div>div{width:100%;cursor:pointer;background-repeat:no-repeat;background-size:cover;background-position:center center;display:flex;background-color:#000;position:relative}.profile-tabs-content #content-media>div>div::before{content:"";display:inline-block;width:1px;height:0;padding-bottom:100%}.profile-tabs-content #content-media span.video-time{position:relative;left:5px;top:4px;height:18px;border-radius:4px;background-color:rgba(0,0,0,0.35);padding:0px 6px 0px 5px;z-index:2;font-size:12px;color:white}.profile-tabs-content #content-docs{padding:7px 20px}.profile-tabs-content #content-docs .document{padding-left:4rem;padding-right:1rem;height:calc(50px + 1.5rem)}.profile-tabs-content #content-docs .document-ico,.profile-tabs-content #content-docs .document-download{width:48px;height:48px}.profile-tabs-content #content-docs .document-name{font-weight:normal;width:100%;max-width:100%;overflow:hidden;text-overflow:ellipsis}.profile-tabs-content #content-links{padding:0 30px 15px 15px}.profile-tabs-content #content-links>div{display:flex;flex-direction:column;margin-top:20px;margin-left:5px;padding-bottom:2px;position:relative;padding-left:60px;overflow:hidden;min-height:58px}.profile-tabs-content #content-links>div .preview{height:48px;width:48px;border-radius:5px;overflow:hidden;position:absolute;left:0;top:0;background-repeat:no-repeat;background-size:cover;background-position:center center}.profile-tabs-content #content-links>div .preview.empty{display:flex;align-items:center;justify-content:center;font-size:2rem;color:#fff;text-transform:uppercase;background-color:#50a2e9}.profile-tabs-content #content-links>div .url{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.profile-tabs-content #content-links .title{font-size:16px;margin-top:3px}.profile-tabs-content #content-links .subtitle{font-size:14px}.profile-tabs-content #content-audio{padding:20px 15px 15px 20px}.profile-tabs-content #content-audio>div{min-height:60px}.profile-tabs-content #content-audio .audio{padding-bottom:26px;padding-left:61px;max-width:368px;justify-content:unset}.profile-tabs-content #content-audio .audio-details{height:66px}.profile-tabs-content #content-audio .audio.audio-show-progress .audio-subtitle{overflow:visible}.profile-tabs-content #content-audio .audio-ico{width:48px;height:48px}.profile-tabs-content #content-audio .audio-ico.tgico-largeplay:before{margin-right:-1px}.profile-tabs-content #content-audio .audio-download{border-radius:50%;background-color:#50a2e9;align-items:center}.profile-tabs-content #content-audio .audio-toggle,.profile-tabs-content #content-audio .audio-download{font-size:1.9rem}.profile-tabs-content #content-audio .audio-title{font-size:1rem;color:#000;line-height:1.2;padding-top:5px;margin-top:0;margin-left:-1px}.profile-tabs-content #content-audio .audio-subtitle{font-size:14px;line-height:1.25;color:#707579;margin-left:-1px;margin-top:3px}.profile-tabs-content #content-audio .audio-time{margin-top:1px}.profile-tabs-content #content-audio .audio-title,.profile-tabs-content #content-audio .audio-subtitle{overflow:hidden;text-overflow:ellipsis}.profile-tabs-content #content-audio .media-progress{margin:11px 0 8px}.profile-tabs-content #content-audio .media-progress__filled{background-color:#0089ff;transform-origin:left;height:2px}.profile-tabs-content #content-audio .media-progress__seek{height:2px;background:rgba(193,207,220,0.39)}.profile-tabs-content #content-audio .media-progress__seek::-webkit-slider-thumb{height:12px;width:12px}.media-viewer{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.88);display:flex;align-items:center;justify-content:center}.media-viewer-author{position:absolute;top:0;left:0;height:60px;padding:8px 8px 8px 80px;display:flex;flex-direction:column;justify-content:center;color:#8b8b8b;transition:.2s}.media-viewer-author:hover{color:#fff}.media-viewer-userpic{width:44px;height:44px;position:absolute;top:8px;left:20px}.media-viewer-name{font-weight:500}.media-viewer-date{font-size:15px}.media-viewer-buttons{position:absolute;top:0;right:0;display:flex;flex-flow:row nowrap;padding:8px}.media-viewer-buttons .btn-icon{margin:0 .25rem;transition:.2s}.media-viewer-buttons .btn-icon:hover{color:#fff}.media-viewer-content{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;max-height:100%;max-width:100%;overflow:hidden}.media-viewer-content .media-viewer-stub{flex:1}.media-viewer-content .media-viewer-container{align-self:center;position:relative;max-width:100%;max-height:100%;overflow:hidden;flex:1 1 auto;display:flex;align-items:center}.media-viewer-content .media-viewer-media{display:flex;align-items:center;justify-content:center;visibility:hidden}.media-viewer-content .media-viewer-media.loading img,.media-viewer-content .media-viewer-media.loading video{object-fit:cover;width:100%;height:100%}.media-viewer-content img,.media-viewer-content video{max-height:calc(100vh - 100px);max-width:calc(100vw - 16px)}.media-viewer-content img{object-fit:contain}.media-viewer-content video{width:100%;height:100%;object-fit:contain}.media-viewer-content .media-viewer-caption{flex:1;text-align:center;color:#707579;transition:.2s;max-width:50vw;word-break:break-word;overflow:hidden;text-overflow:ellipsis}.media-viewer-content .media-viewer-caption:hover{color:#fff}.media-viewer-switcher-left,.media-viewer-switcher-right{position:absolute;left:0;top:0;width:10rem;height:100%;cursor:pointer;z-index:5}.media-viewer-switcher-left:hover>span,.media-viewer-switcher-right:hover>span{opacity:1}.media-viewer-switcher-right{left:auto;right:0}.media-viewer-prev-button,.media-viewer-next-button{cursor:pointer;position:absolute;color:#fff;font-size:3rem;left:2rem;top:50%;transform:translateY(-50%) rotate(90deg);opacity:0;transition:.2s opacity;z-index:5}.media-viewer-next-button{left:auto;right:2rem;transform:translateY(-50%) rotate(-90deg)}.media-viewer-mover{position:fixed !important;z-index:4;display:flex;justify-content:center;align-items:center;min-height:auto !important;left:0;top:0;transform-origin:top left;overflow:hidden;background-repeat:no-repeat;background-size:cover;background-position:center center}.media-viewer-mover .ckin__player{width:100%;height:100%}.media-viewer-mover img,.media-viewer-mover video{width:100%;height:100%;opacity:1;transition:.2s opacity;user-select:none}.media-viewer-mover.cover{align-items:center}.media-viewer-mover.cover img,.media-viewer-mover.cover video{width:auto;height:auto;overflow:hidden;opacity:0}.media-viewer-mover.active{transition:.2s transform}.media-viewer-mover.moving{transition:350ms transform ease}.ckin__player{letter-spacing:0.02em}.ckin__overlay{position:relative}.ckin__overlay:before{background:radial-gradient(ellipse at center, transparent 0%, rgba(0,0,0,0.5) 100%)}.ckin__overlay--2:before{background:rgba(24,24,24,0.8)}.ckin__player.ckin__fullscreen{position:fixed;top:0;left:0;right:0;bottom:0;height:100%;width:100%;z-index:10000000;background:#000;border-radius:0 !important;display:-ms-flexbox;display:flex}.ckin__player.ckin__fullscreen video{max-height:none;max-width:none}.default{border:0 solid rgba(0,0,0,0.2);box-shadow:0 0 20px rgba(0,0,0,0.2);position:relative;font-size:0;overflow:hidden;cursor:pointer}.default:before{content:\'\';position:absolute;top:0;left:0;bottom:0;right:0;transition:opacity .2s;opacity:1;visibility:visible}.default__title{position:absolute;left:20px;top:20px;z-index:1;font-size:24px;color:rgba(255,255,255,0.8);font-style:italic}.default__button{background:none;border:0;color:#fff;outline:0;padding:3px 10px 6px 10px;cursor:pointer;font-size:24px;line-height:1;display:flex;align-items:center}.default__button i{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.default__button--big{background:none;border:0;line-height:1;color:#fff;text-align:center;outline:0;padding:0;cursor:pointer;position:absolute;opacity:1;visibility:visible;top:50%;left:50%;-ms-transform:translate(-50%, -50%) scale(1);transform:translate(-50%, -50%) scale(1);font-size:64px;transition:all .2s;-ms-touch-action:manipulation;touch-action:manipulation}.default__slider{width:10px;height:30px}.default__controls{position:absolute;bottom:0;right:0;left:0;transition:all .3s;text-align:left;direction:ltr;border-radius:0 0 5px 5px;z-index:6}.default__gradient-bottom{height:49px;padding-top:93px;bottom:0;z-index:2;background-position:bottom;width:100%;position:absolute;background-repeat:repeat-x;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==);-moz-transition:all .3s;-webkit-transition:all .3s;transition:all .3s;pointer-events:none}.default.is-playing .default__gradient-bottom{-ms-transform:translateY(50px);transform:translateY(50px)}.default.is-playing:hover .default__gradient-bottom{-ms-transform:translateY(0px);transform:translateY(0px)}.default.is-playing:before{opacity:0;visibility:hidden;-ms-transform:translate(-50%, -50%) scale(1.3);transform:translate(-50%, -50%) scale(1.3)}.default.is-playing .default__button--big{opacity:0;visibility:hidden}.default.is-playing .default__controls{-ms-transform:translateY(52px);transform:translateY(52px)}.default.is-playing:hover .default__controls{-ms-transform:translateY(0);transform:translateY(0)}.default .media-progress{margin:0 16px;height:5px;transition:height 0.3s;background:rgba(255,255,255,0.38);border-radius:4px;overflow:visible}.default .media-progress__filled{background:#63a2e3;transform-origin:left;border-radius:4px;height:5px;transform:scaleX(0)}@media (max-width: 480px){.ckin__player button{font-size:18px}}video::-webkit-media-controls-enclosure{display:none !important}.media-progress{position:relative;cursor:pointer}.media-progress input[type=range]{-webkit-appearance:none;-moz-appearance:none;background:transparent;height:4.5px;cursor:pointer;padding:0;outline:none}.media-progress input[type=range]:focus{outline:none}.media-progress input[type=range]:focus::-webkit-slider-runnable-track{background:transparent}.media-progress input[type=range]:focus::-moz-range-track{outline:none}.media-progress input[type=range]::-webkit-slider-runnable-track{width:100%;cursor:pointer;border-radius:1.3px;-webkit-appearance:none;transition:all 0.4s ease}.media-progress input[type=range]::-webkit-slider-thumb{height:15px;width:15px;border-radius:16px;background:#63a2e3;cursor:pointer;-webkit-appearance:none;margin-left:-1px}.media-progress input[type=range]::-moz-range-track{width:100%;height:8.4px;cursor:pointer;border:1px solid transparent;background:transparent;border-radius:1.3px}.media-progress input[type=range]::-moz-range-thumb{height:14px;width:14px;border-radius:50px;border:1px solid #63a2e3;background:#63a2e3;cursor:pointer;margin-top:5px}.media-progress__seek{position:absolute;top:0;width:100%;cursor:pointer;margin:0}input[type=range]::-ms-track{visibility:hidden}input[type=range]::-ms-ticks{background:none;color:none;border:none}input[type=range]::-ms-thumb{visibility:hidden}input[type=range]::-ms-tooltip{visibility:hidden}.left-controls{display:flex;align-items:center}.right-controls{float:right}.bottom-controls{padding:3px 4px 0px 4px;display:flex;justify-content:space-between;align-items:center}.time{float:right;padding:7px 0px 9px 14px;font-size:15px;color:white}.circle .circle-time{color:#fff;font-size:13px;float:left}.circle .circle-time-left{position:absolute;top:3px;left:2px;border-radius:12px;background-color:rgba(0,0,0,0.23);padding:1px 7px 2px 7px;z-index:2;display:flex;align-items:center}video[data-ckin="circle"]{border-radius:50%;overflow:hidden}.progress-ring{position:absolute;top:0;left:0;cursor:pointer}.progress-ring__circle{transition:stroke-dashoffset}.ckin__player.circle{position:relative;width:200px;height:200px}.iconVolume{padding:0 1px 0 3px;display:flex;align-items:center;font-size:1.25rem;color:#fff}.emoji-dropdown{position:absolute;left:0;top:calc(-420px + -4px);display:flex;flex-direction:column;width:420px;height:420px;background:#fff;box-shadow:0px 5px 10px 5px rgba(16,35,47,0.14);border-radius:10px;z-index:2;display:flex;overflow:hidden;transition:all 0.2s ease-out;transform:scale(0);transform-origin:0 100%}.emoji-dropdown.active{transition:all 0.2s ease-in;transform:scale(1)}.emoji-dropdown>.menu-horizontal{padding:0px 58px 0px 58px;margin-top:2px}.emoji-dropdown>.menu-horizontal>li.active:after{left:29px;right:28px}.emoji-dropdown .emoji-container{width:100%;max-width:100%;overflow:hidden;height:100%}.emoji-dropdown .btn-icon{color:#8d969c}.emoji-dropdown .tabs-container{height:100%}.emoji-dropdown .tabs-container .category-title{position:sticky;top:0;font-size:.85rem;color:#707579;background:linear-gradient(to bottom, #fff 0, rgba(255,255,255,0.9) 60%, rgba(255,255,255,0) 100%);z-index:2;padding:.53333rem 6PX .66667rem;width:100%}.emoji-dropdown .tabs-container .emoji-category{padding-top:1px;position:relative}.emoji-dropdown .tabs-container .emoji-category .category-items{display:grid;grid-column-gap:2.44px;grid-template-columns:1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;font-size:2.25rem;line-height:2.25rem}.emoji-dropdown .tabs-container .emoji-category .category-items>*{margin:0;padding:4px 4px;line-height:inherit;border-radius:8px;cursor:pointer;user-select:none;-webkit-user-select:none;width:42px;height:42px}.emoji-dropdown .tabs-container .emoji-category .category-items>* .emoji{width:100%;height:100%}.emoji-dropdown .tabs-container .emoji-category .category-items>*:hover{background-color:rgba(112,117,121,0.08)}.emoji-dropdown .tabs-container .emoji-category:first-child{padding-top:5px}.emoji-dropdown .tabs-container .sticker-category{position:relative}.emoji-dropdown .tabs-container .sticker-category::after{content:"";flex:auto}.emoji-dropdown .tabs-container .sticker-category .category-items{width:100%;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.emoji-dropdown .tabs-container .sticker-category .category-items>div{width:80px;height:80px;display:flex;align-items:center;cursor:pointer;user-select:none;-webkit-user-select:none;padding:1px 2.5px;justify-content:center;border-radius:12px;padding:0}.emoji-dropdown .tabs-container .sticker-category .category-items>div:hover{background-color:rgba(112,117,121,0.08)}.emoji-dropdown .tabs-container .sticker-category .category-items>div>*{max-width:100%;max-height:100%}.emoji-dropdown .tabs-container>div{min-height:100%;flex-direction:column;height:100%}.emoji-dropdown .tabs-container>div>div:first-of-type{flex:1;padding:0}.emoji-dropdown .tabs-container .scrollable{padding:0 10px}.emoji-dropdown .emoji-padding .menu-horizontal{border-top:1px solid #dadce0}.emoji-dropdown .emoji-padding .menu-horizontal,.emoji-dropdown .stickers-padding .menu-horizontal{height:47px;border-bottom:none;padding:2px 2px 2px 2px;width:100%}.emoji-dropdown .emoji-padding .menu-horizontal li,.emoji-dropdown .stickers-padding .menu-horizontal li{padding:0;width:50px;height:50px;line-height:50px;display:flex;align-items:center}.emoji-dropdown .emoji-padding .menu-horizontal li.active:after,.emoji-dropdown .stickers-padding .menu-horizontal li.active:after{display:none}.emoji-dropdown #content-stickers .scrollable{padding:15px 5px 0}.emoji-dropdown .emoji-padding .menu-horizontal li,.emoji-dropdown .stickers-padding .menu-horizontal li{font-size:1.65rem}.emoji-dropdown .stickers-padding .menu-wrapper{padding:0;height:50px;max-width:100%;border-top:1px solid #dadce0}.emoji-dropdown .stickers-padding .menu-wrapper .menu-horizontal{width:100%;height:100%}.emoji-dropdown .stickers-padding li{flex:0 0 auto}.emoji-dropdown .stickers-padding li.active:not(.tgico-recent){background-color:rgba(112,117,121,0.08)}.emoji-dropdown .stickers-padding li>*{padding:.75rem;max-width:100%;max-height:100%;width:100%;height:100%}.emoji-dropdown #content-gifs .gifs-masonry{display:flex;flex-wrap:wrap}.emoji-dropdown #content-gifs .gifs-masonry>div{flex:1 0 auto;max-width:100%;height:100px;margin:2.5px;cursor:pointer;background:#000;position:relative}.emoji-dropdown #content-gifs .gifs-masonry>div video{object-fit:cover;width:100%;height:100%}div.scrollable::-webkit-scrollbar{width:0;height:0}div.scrollable::-webkit-scrollbar-thumb{width:0;height:0}::-webkit-scrollbar-button{width:0;height:0;display:none}::-webkit-scrollbar-corner{background-color:transparent}.scrollable{width:100%;height:100%;overflow-y:hidden;overflow-x:hidden;max-height:100%;transform:translateZ(0);-webkit-transform:translateZ(0);position:absolute;top:0px;left:0px;bottom:0px;right:0px;display:flex;flex-direction:column}.scrollable.scrollable-x{overflow-x:auto;scrollbar-width:none;-ms-overflow-style:none}.scrollable.scrollable-y{overflow-y:auto;overflow-y:overlay;scrollbar-width:none;-ms-overflow-style:none}div.scrollable-y::-webkit-scrollbar{width:.375rem}::-webkit-scrollbar-thumb{opacity:0;transition:.2s ease-in-out}div.scrollable:hover::-webkit-scrollbar-thumb{height:200px;border-radius:10px;background-color:rgba(0,0,0,0.2);opacity:1}::-webkit-scrollbar-button{width:0;height:0;display:none}::-webkit-scrollbar-corner{background-color:transparent}.menu-horizontal{color:#707579;border-bottom:1px solid #dadce0;position:relative}.menu-horizontal ul{width:100%;height:100%;margin:0;display:flex;justify-content:space-around;align-items:center;position:relative;z-index:2}.menu-horizontal li{display:inline-block;padding:.75rem 1rem;cursor:pointer;text-align:center;flex:1;user-select:none;font-size:1rem;font-weight:500}.menu-horizontal li.active{color:#50a2e9}.menu-horizontal__stripe{position:absolute;background:#50a2e9;left:-2px;transition:.3s transform, .3s width;bottom:-1px;height:4px;width:1px;transform:scaleX(1) translateX(0px);border-top-left-radius:2px;border-top-right-radius:2px;z-index:1}.tabs-container{min-width:100%;width:100%;display:flex;overflow-x:hidden}.tabs-container.animated{transition:.3s transform}.tabs-container>div{width:100%;max-width:100%;overflow:hidden;display:none}.tabs-container>div.active{display:flex;flex-direction:column}.tabs-container>div>div:not(.scroll-padding){width:100%;max-width:100%;position:relative}@keyframes scaleIn{0%{transform:scale(0.2)}to{transform:scale(1)}}.selector{height:100%;display:flex;flex-direction:column}.selector-search-container{flex:1 1 auto;position:relative;max-height:132px}.selector-search-container .scrollable{position:relative}.selector-search{padding:0 24px 0 24px;display:flex;flex-flow:wrap}.selector-search input{border:none;padding:7px 0px 19px 0px;outline:none;flex:1 1 auto}.selector-user{color:#000;background-color:rgba(112,117,121,0.08);font-size:16px;padding:0 17px 0px 0px;line-height:31px;margin-left:-4px;margin-right:12px;height:32px;margin-bottom:7px;border-radius:24px;user-select:none;flex:0 0 auto;transition:.2s all}.selector-user:hover{background-color:#fae2e3;cursor:pointer}.selector-user:hover .selector-user-avatar:after{opacity:1;transform:scaleX(-1) rotate(-90deg)}.selector-user.scale-in{animation:scaleIn .15s ease forwards}.selector-user.scale-out{animation:scaleIn .1s ease forwards;animation-direction:reverse}.selector-user-avatar{height:32px !important;width:32px !important;float:left;margin-right:8px;overflow:hidden;font-size:14px}.selector-user-avatar:after{position:absolute;content:"";left:0;top:0;background-color:#df3f40;height:100%;width:100%;z-index:2;font-size:23px;line-height:32px !important;opacity:0;transition:.2s opacity, .2s transform;transform:scaleX(-1) rotate(0deg)}.selector .chats-container{height:100%;flex:1 1 auto}.selector ul .dialog-avatar{height:48px;width:48px}.selector ul .user-caption{padding:1px 3.5px 1px 12px}.selector ul p{height:24px}.selector ul span.user-title{font-weight:normal}.selector ul span.user-last-message{font-size:14px}.selector ul li{padding-bottom:0}.selector ul li>.rp{margin:0px 9px 0px 8px;padding:12px 8.5px}.selector hr{margin:0 0 8px}.selector [type="checkbox"]+span{padding-left:calc(9px + 2.25rem)}.selector .checkbox{margin-top:11px;padding-left:11px}.popup{position:fixed !important;left:0;top:0;height:100%;max-width:none;width:100%;z-index:3;background-color:rgba(0,0,0,0.3);margin:0;padding:0;box-shadow:none;opacity:0;visibility:hidden;-webkit-transition:opacity 0.3s 0s, visibility 0s 0.3s;-moz-transition:opacity 0.3s 0s, visibility 0s 0.3s;transition:opacity 0.3s 0s, visibility 0s 0.3s;overflow:auto;display:flex;align-items:center;justify-content:center}.popup.active{opacity:1;visibility:visible;-webkit-transition:opacity 0.3s 0s, visibility 0s 0s;-moz-transition:opacity 0.3s 0s, visibility 0s 0s;transition:opacity 0.3s 0s, visibility 0s 0s}.popup.active .popup-container{-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0)}.popup-container{position:relative;border-radius:10px;background-color:#fff;padding:1rem;-webkit-transform:translateY(-40px);-moz-transform:translateY(-40px);-ms-transform:translateY(-40px);-o-transform:translateY(-40px);transform:translateY(-40px);backface-visibility:hidden;-webkit-backface-visibility:hidden;-webkit-transition-property:-webkit-transform;-moz-transition-property:-moz-transform;transition-property:transform;-webkit-transition-duration:0.3s;-moz-transition-duration:0.3s;transition-duration:0.3s}.popup-close{cursor:pointer;color:#707579;z-index:3;text-align:center;justify-self:center;line-height:1;transition:.2s}.popup-close:hover{color:#000}.popup-header{display:flex;margin-bottom:2rem;align-items:center}.popup-avatar .popup-container{max-width:600px;padding:15px 16px 16px 24px;overflow:hidden;display:flex;flex-direction:column}.popup-avatar .popup-container>button{position:absolute;bottom:20px;right:20px}.popup-avatar .popup-close{font-size:1.5rem;margin-top:4px}.popup-avatar .popup-header{margin-bottom:1px}.popup-avatar h6{font-size:1.25rem;text-align:left;margin:0;margin-left:2rem}.popup-avatar .crop{max-width:100%;max-height:100%;padding:24px 54px 46px 46px;border-radius:8px}.popup-avatar .crop>img{display:none}.popup-avatar .crop img{border-radius:8px}.popup-send-photo .popup-container{width:420px;max-width:420px;overflow:hidden;padding:12px 20px 32.5px}.popup-send-photo .popup-container.is-media:not(.is-album) .popup-photo{max-height:320px;margin:0 auto;padding-bottom:8px}.popup-send-photo .popup-container.is-media:not(.is-album) .popup-photo img{object-fit:contain}.popup-send-photo .popup-container.is-media:not(.is-album) .popup-photo>div{display:flex;justify-content:center}.popup-send-photo .popup-container.is-album .popup-photo{margin:0 auto;position:relative}.popup-send-photo .popup-container.is-album .popup-photo>div{position:absolute}.popup-send-photo .popup-container.is-document .popup-photo img,.popup-send-photo .popup-container.is-document .popup-photo video,.popup-send-photo .popup-container.is-album .popup-photo img,.popup-send-photo .popup-container.is-album .popup-photo video{object-fit:cover;width:100%;height:100%}.popup-send-photo .popup-header{justify-content:space-between;align-items:center;margin-bottom:9px}.popup-send-photo .popup-header .btn-primary{width:79px;height:36px;font-size:14px;font-weight:normal;padding:0;padding-top:2px;margin-top:-3px;border-radius:10px}.popup-send-photo .popup-close{font-size:1.5rem;margin:-1px 0 0 -4px}.popup-send-photo .popup-title{flex:1;padding:0 2rem 0 1.5rem;margin:0;margin-top:-3px;font-size:1.25rem;font-weight:500}.popup-send-photo .popup-photo{max-width:380px;overflow:hidden;width:fit-content;border-radius:10px}.popup-send-photo .popup-photo .document{max-width:100%;overflow:hidden;cursor:default;padding-left:3.75rem;height:4.5rem}.popup-send-photo .popup-photo .document-name{font-weight:normal;width:100%;max-width:100%;overflow:hidden;text-overflow:ellipsis;line-height:1.5}.popup-send-photo .popup-photo .document-ico{height:48px;width:48px;font-size:16px;font-weight:normal;line-height:11px;letter-spacing:0}.popup-send-photo .input-field{margin-top:1rem}.popup-send-photo .input-field::placeholder{color:#a2acb4}.popup-send-photo .input-field input{height:54px;font-size:1rem;padding:0 15px;border-radius:10px}.popup-send-photo .input-field input:focus{padding:0 14.5px}.popup-send-photo .input-field label{font-size:inherit;opacity:0}.popup-peer .popup-header{display:flex;margin-bottom:0.4375rem;align-items:center;padding:0.125rem 0.25rem}.popup-peer .popup-container{padding:1rem 1.5rem 0.75rem 1rem}.popup-peer .popup-title{padding-left:0.75rem;font-size:1.25rem;font-weight:500;margin-bottom:0.125rem}.popup-peer .popup-description{padding:0 0.25rem;margin-top:0;margin-bottom:1.625rem;min-width:15rem;max-width:fit-content}.popup-peer .popup-buttons{margin-right:-0.75rem}.popup-peer .popup-buttons .btn{font-weight:500}.popup-peer .popup-buttons .btn+.btn{margin-top:0.625rem}.popup-peer .peer-avatar{height:2rem;width:2rem}html,body{height:100%;width:100%}html{font-size:16px}a{color:#50a2e9}button,input,optgroup,select,textarea,html{font-family:"Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif}.whole{height:100vh;min-height:100vh;width:100%;margin:0 auto;max-width:1680px}.disable-hover,.disable-hover *{pointer-events:none !important}.container{margin:0 auto}h1,h2,h3,h4,h5,h6{font-weight:500}body.is-mac *{font-weight:normal !important}h4{font-size:2rem;margin:22px 0 14px;line-height:110%}input{caret-color:#4EA4F6}.subtitle{color:#707579;line-height:1.35}.page-authCode .auth-image{transform:translateY(12px)}.page-authCode .phone-wrapper{display:flex;align-items:center;justify-content:center}.page-authCode .phone-wrapper h4[contenteditable="true"]{padding:0 1rem;border:none;outline:none;padding:0 1rem;border-bottom:2px solid #4EA4F6}.page-authCode .phone-wrapper .phone.error{border-color:#E53935 !important}.page-authCode .subtitle{margin-top:0}.btn-icon{text-align:center;font-size:1.5rem;line-height:1.5rem;border-radius:50%;-webkit-transition:background-color .15s ease-out;transition:background-color .15s ease-out;color:#707579;cursor:pointer;background:none;border:none;padding:.5rem;position:relative;display:flex;align-items:center;justify-content:center}.btn-icon.active{color:#50a2e9}.btn-icon:hover{background-color:rgba(112,117,121,0.08)}.btn-corner{position:absolute !important;bottom:20px;right:20px;transition:.2s ease;transform:translateY(calc(100% + 20px));z-index:3}.btn-corner.is-visible{transform:translateY(0px)}.danger{color:#E53935 !important}.btn-menu{visibility:hidden;position:absolute;background:#fff;box-shadow:0 5px 8px 1px rgba(0,0,0,0.24);z-index:3;top:100%;margin-top:8px;padding:9px 0;border-radius:10px;opacity:0;transform:scale(0.8);transition-property:opacity,transform,visibility;transition-duration:.2s;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);font-size:16px}.btn-menu.active{visibility:visible;opacity:1;transform:scale(1)}.btn-menu.bottom-left{right:0;top:100%;transform-origin:top right}.btn-menu.bottom-right{left:0;top:100%;transform-origin:top left}.btn-menu.top-left{top:initial;right:0;bottom:100%;transform-origin:bottom right}.btn-menu.top-right{top:initial;left:0;bottom:100%;transform-origin:bottom left}.btn-menu>div{display:flex;position:relative;padding:0 40px 0 20px;height:56px;cursor:pointer;background-position:16px center;background-size:24px 24px;background-repeat:no-repeat;color:#000;text-transform:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;align-items:center}.btn-menu>div:hover{background-color:rgba(112,117,121,0.06)}.btn-menu>div:before{color:#707579;font-size:1.5rem;margin-right:32px}.btn-menu>div.danger:before{color:#E53935}#bubble-contextmenu,#dialogs-contextmenu{position:fixed;right:auto;bottom:auto}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}hr{width:100%;border:none;border-bottom:1px solid #DADCE0;margin:0 0 8px}avatar-element{color:#fff;width:54px;height:54px;line-height:54px;border-radius:50%;background-color:#50a2e9;text-align:center;font-size:1.25em;position:relative;user-select:none;display:flex;align-items:center;justify-content:center}avatar-element img{width:100%;height:100%;border-radius:inherit;user-select:none}avatar-element img.fade-in{animation:fadeIn .2s ease forwards}avatar-element[class*=" tgico-"]{line-height:52px;font-size:28px}avatar-element path{fill:white}avatar-element.is-online:after{position:absolute;content:" ";display:block;border-radius:50%;border:2px solid white;background-color:#0ac630;left:74%;top:73%;width:14px;height:14px}avatar-element.tgico-avatar_deletedaccount{font-size:3rem}.user-title,b{color:#000;font-weight:500}.user-last-message b{font-weight:400}.rp{position:relative}.c-ripple{position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%;overflow:hidden;background:transparent;border-radius:inherit}.c-ripple__circle{background-color:rgba(0,0,0,0.08);display:block;position:absolute;transform:scale(0);border-radius:50%;animation:ripple-effect .7s forwards;transition:.35s opacity;overflow:hidden}.c-ripple__circle.hiding{opacity:0}@keyframes ripple-effect{0%{transform:scale(0)}to{transform:scale(2)}}.document{padding-left:4.5rem;height:70px}.document-ico{background-color:#50a2e9;border-radius:5px;line-height:10px}.document-ico:after{content:"";display:block;position:absolute;top:0;right:0;width:1.125rem;height:1.125rem;border-bottom-left-radius:.25rem;border-left:0.5625rem solid rgba(0,0,0,0.25);border-bottom:0.5625rem solid rgba(0,0,0,0.25);border-top:.5625rem solid #fff;border-right:.5625rem solid #fff}.document-ico,.document-download{font-weight:500;letter-spacing:1px;font-size:1.1rem;background-size:contain;overflow:hidden;text-overflow:ellipsis}.document-download{background-color:#50a2e9;border-radius:8px}.document.ext-zip .document-ico,.document.ext-zip .document-download{background-color:#FB8C00}.document.ext-pdf .document-ico,.document.ext-pdf .document-download{background-color:#DF3F40}.document.ext-apk .document-ico,.document.ext-apk .document-download{background-color:#43A047}.document:not(.photo) .document-ico{padding-top:1.5rem}.document.photo .document-ico{background:#000;border-radius:8px}.document.photo .document-ico:after{display:none}.document-name{white-space:nowrap;font-weight:500;line-height:1.3}.document-size{white-space:nowrap;color:#707579;font-size:14px;padding-right:32px;line-height:1.3}.document,.audio{display:flex;flex-direction:column;justify-content:center;cursor:pointer;position:relative}.document-ico,.document-download,.audio-ico,.audio-download{position:absolute;left:0;width:54px;height:54px;color:#fff;display:flex;justify-content:center}.document-download,.audio-download{z-index:2;align-items:center;font-size:24px;cursor:pointer}.document-download .tgico-download,.audio-download .tgico-download{transform:scale(1);transition:.2s scale}.document-download.downloading .tgico-download,.audio-download.downloading .tgico-download{transform:scale(0)}.document .preloader-container,.audio .preloader-container{width:42px;height:42px}.audio{position:relative;padding-left:67px;min-height:58px;max-width:244px;overflow:visible !important}.audio-toggle,.audio-download{border-radius:50%;background-color:#50a2e9;font-size:2.3rem;align-items:center}.audio-download{z-index:2}.audio-waveform{height:23px}.audio-waveform rect{fill:#CBCBCB}.audio-waveform rect.active{fill:#50a2e9}.audio-title{font-size:1rem;color:#000}.audio-time,.audio-subtitle{font-size:14px;color:#707579;margin-top:3px;margin-left:-1px}.audio-title,.audio:not(.audio-show-progress) .audio-subtitle{white-space:nowrap;overflow:hidden;max-width:100%;text-overflow:ellipsis}#auth-pages{max-width:720px;overflow:hidden}#auth-pages .subtitle{margin:0}#auth-pages .input-wrapper{margin-top:49px}#auth-pages .tabs-container{height:100%;transform:translateX(0);width:100%}#auth-pages .tabs-container.animated{transition:.42s transform}#auth-pages .tabs-container>div:before,#auth-pages .tabs-container>div:after{content:" ";flex:1;min-height:3rem;width:100%}#auth-pages .tabs-container>div>div{height:810px;padding:0;flex:1 1 auto;display:flex;flex-direction:column}@media (max-height: 858px){#auth-pages{height:auto}}.page-sign .auth-image,.page-signUp .auth-image{width:10rem;height:10rem;margin-bottom:1.5rem}.page-sign .qr,.page-signQR .qr{margin-top:1.5rem}.page-sign p.qr-description,.page-signQR p.qr-description{color:#707579;line-height:1.85;text-align:left;margin-left:auto;margin-right:auto}.avatar-edit{position:relative;border-radius:50%;cursor:pointer;overflow:hidden}.avatar-edit-canvas{max-width:100%;max-height:100%;width:100%;height:100%;background-color:#50a2e9}.avatar-edit .tgico-cameraadd{position:absolute;font-size:48px;line-height:48px;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);z-index:2;color:#fff}.avatar-edit .avatar-placeholder{position:absolute;left:0;top:0;width:100%;height:100%;filter:brightness(0.7)}.page-signUp .auth-image{margin-top:10px;margin-bottom:14px}.input-wrapper{width:360px;margin:0 auto}.input-field{position:relative}.input-field .arrow-down{position:absolute;content:" ";top:50%;bottom:0;right:21px;cursor:pointer;height:0;width:0;border:solid #bdbdbd;border-radius:1px;border-width:0 2px 2px 0;display:inline-block;padding:5px;vertical-align:middle;z-index:2;margin-top:-9px;transform:rotate(45deg);-webkit-transform:rotate(45deg);transition:.2s all}.input-field label{position:absolute;color:#9e9e9e;left:1rem;right:auto;z-index:2;top:50%;transform:translateY(-50%);background-color:#fff;transition:.2s all, .1s opacity;display:inline-block;cursor:text}.input-field input{border:1px solid #DADCE0;border-radius:10px;padding:0 1rem;box-sizing:border-box;width:100%;height:54px;transition:.2s border-color;position:relative;z-index:1}.input-field input:focus{border-color:#4EA4F6;border-width:2px;padding:0 calc(1rem - 1px)}.input-field input:disabled{background-color:#fff;color:#000}.input-field input.error{border-color:#E53935}.input-field input.error+label{color:#E53935 !important}.input-field input.valid{border-color:#26962F}.input-field input.valid+label{color:#26962F !important}.input-field input:focus ~ .arrow-down{margin-top:-4px;transform:rotate(225deg);-webkit-transform:rotate(225deg);border-color:#4EA4F6}.input-field input:focus+label{color:#4EA4F6}.input-field input:focus+label,.input-field input:valid+label,.input-field input:disabled+label{top:-.5rem;transform:none;padding:0 5px;left:.75rem;font-size:0.75rem !important;opacity:1}.checkbox-field{margin:1.25rem 0;display:block;text-align:left;padding:0 19px;position:relative}[type="checkbox"]{position:absolute;opacity:0;pointer-events:none;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0}[type="checkbox"]+span{position:relative;padding-left:calc(18px + 2.25rem);cursor:pointer;display:inline-block;height:25px;line-height:25px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type="checkbox"]+span:before,[type="checkbox"]+span:after{content:\'\';left:0;position:absolute;-webkit-transition:border .25s, background-color .25s, width .20s .1s, height .20s .1s, top .20s .1s, left .20s .1s;transition:border .25s, background-color .25s, width .20s .1s, height .20s .1s, top .20s .1s, left .20s .1s}[type="checkbox"]+span:before{border-radius:2px;z-index:1}[type="checkbox"]+span:after{height:18px;width:18px;z-index:0;border:2px solid #4EA4F6;border-radius:3px;top:50%;transform:translateY(-50%)}[type="checkbox"]:not(:checked)+span:before{width:0;height:0;border:2px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(45deg);transform:rotateZ(45deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type="checkbox"]:checked+span:before{top:4px;left:-1px;width:8px;height:14px;border-top:2px solid transparent;border-left:2px solid transparent;border-right:2px solid #fff;border-bottom:2px solid #fff;-webkit-transform:rotateZ(45deg);transform:rotateZ(45deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type="checkbox"]:not(:checked)+span:after{background-color:transparent;border-color:#8d969c}[type="checkbox"]:checked+span:after{background-color:#4EA4F6}.input-wrapper>*+*{margin-top:1.5rem}.select-wrapper{max-height:23.5rem;position:absolute;width:100%;top:calc(100% + .5rem);left:0;overflow:hidden;background-color:#fff;z-index:3;border-radius:10px;display:flex;flex-direction:column;flex-wrap:wrap}.select-wrapper ul{margin:.5rem 0}.select-wrapper li{align-items:center;padding:0 1rem;justify-content:space-between;height:3.5rem;cursor:pointer;text-align:left;display:grid;grid-template-columns:calc(26px + 2rem) 1fr 50px}.select-wrapper li:hover{background-color:rgba(112,117,121,0.08)}.select-wrapper .emoji{height:26px;width:26px;font-size:26px;line-height:1}.select-wrapper .scrollable{position:relative}.phone-code{color:#9e9e9e;text-align:right}::placeholder{color:#a2acb4;opacity:1}:-ms-input-placeholder{color:#a2acb4}::-ms-input-placeholder{color:#a2acb4}input:focus,button:focus{outline:none}.auth-image{width:166px;height:166px;margin:0 auto 18px}.phone-edit{display:inline-block;width:24px;height:24px;margin-left:.4rem;opacity:.5;transition:.2s;cursor:pointer;font-size:1.5rem}.phone-edit:hover{opacity:1}.btn-primary{background:#50a2e9;color:#fff;border-radius:10px;width:100%;text-align:center;height:54px;border:none;font-weight:500;cursor:pointer;overflow:hidden;position:relative;padding:0}.btn-primary:hover{background:#2c8fe4}.btn-primary svg,.btn-primary use{height:calc(100% - 20px);right:12.5px;left:auto;margin:4px 0 auto}.btn-primary.btn-circle .preloader-circular{height:calc(100% - 20px);right:auto;left:auto;margin:0;top:10px}.btn-primary.btn-circle .preloader-circular .preloader-path{stroke:#fff}.btn-menu-toggle{position:relative;overflow:visible !important;font-weight:normal !important}.btn-menu-toggle:not(.btn-primary).menu-open{background-color:rgba(112,117,121,0.08)}.preloader-circular{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.preloader-path{stroke-dasharray:1, 200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke-linecap:round;stroke:white;stroke-width:3}.preloader-container{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;width:50px;height:50px}.preloader-container .you-spin-me-round{width:100%;height:100%;animation:rotate 2s linear infinite}.preloader-container .preloader-circular{animation:none;cursor:pointer;background-color:rgba(0,0,0,0.7);border-radius:50%;width:100%;height:100%}.preloader-container .preloader-path-new{stroke-dasharray:5, 200;stroke-dashoffset:0;transition:stroke-dasharray 400ms ease-in-out;stroke-linecap:round;stroke:white;stroke-width:1.5}.preloader-container.preloader-swing{cursor:default}.preloader-container.preloader-swing .preloader-circular{cursor:default}.preloader-container.preloader-swing .preloader-path-new{stroke-dasharray:1, 200;stroke-dashoffset:0;animation:dashNew 1.5s ease-in-out infinite}.preloader-container .preloader-close{cursor:pointer;position:absolute;top:0;left:0;bottom:0;right:0;margin:auto;color:#fff;stroke:#fff;width:34%;height:34%}.preloader-container .preloader-close:hover{background:none}@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1, 200;stroke-dashoffset:0}50%{stroke-dasharray:89, 200;stroke-dashoffset:-35px}100%{stroke-dasharray:89, 200;stroke-dashoffset:-124px}}@keyframes dashNew{0%{stroke-dasharray:1, 200;stroke-dashoffset:0}50%{stroke-dasharray:89, 200;stroke-dashoffset:-35px}100%{stroke-dasharray:89, 200;stroke-dashoffset:-286%}}.emoji{display:inline-block;max-width:100%;max-height:100%;vertical-align:middle;line-height:1em;font-size:1em;font-family:apple color emoji,segoe ui emoji,noto color emoji,android emoji,emojisymbols,emojione mozilla,twemoji mozilla,segoe ui symbol}img.emoji{width:18px;height:18px}.btn-circle{border-radius:50%;height:54px;width:54px;line-height:54px}.btn-circle path{fill:white}.overlay::selection{background:transparent}.crop-component::selection{background:transparent}.crop-image,.overlay>img{width:auto;height:auto;display:block;object-fit:contain;object-position:center}.crop-image{display:block;position:relative;pointer-events:none}.crop-component{position:relative;z-index:999;background-color:white;margin:0 auto;overflow:hidden}.crop-component>img{max-width:100%}.crop-component .crop-overlay-color{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(255,255,255,0.7);border-radius:8px}.overlay{position:absolute;left:50%;top:50%;z-index:999;margin-left:-100px;margin-top:-100px;width:200px;height:200px;overflow:hidden;box-sizing:content-box;border-radius:50%}.overlay:hover,.overlay:active{cursor:move}.overlay>img{position:absolute;display:block}.overlays{top:0;left:0;width:100%;height:100%;position:fixed !important;background-color:rgba(0,0,0,0.2);z-index:4;opacity:0;visibility:hidden;-webkit-transition:opacity 0.2s 0s, visibility 0s 0.2s;-moz-transition:opacity 0.2s 0s, visibility 0s 0.2s;transition:opacity 0.2s 0s, visibility 0s 0.2s}.overlays.active{opacity:1;visibility:visible;-webkit-transition:opacity 0.2s 0s, visibility 0s 0s;-moz-transition:opacity 0.2s 0s, visibility 0s 0s;transition:opacity 0.2s 0s, visibility 0s 0s}[contenteditable]{-webkit-user-select:text;user-select:text}.justify-start{justify-content:flex-start !important}.position-center{position:absolute;left:50%;top:50%;transform:translate(-50%, -50%)}.page-chats{display:flex;max-height:100vh;min-height:100vh}.page-chats .avatar-edit .tgico-cameraadd{top:52%}.page-chats>div{height:100%;position:relative;min-height:100%;max-height:100%}.page-chats #column-left{width:25%}.page-chats .chat-container{background-color:#e6ebee;width:100%;flex:1}.page-chats .preloader{width:50px;height:50px;position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}.page-chats .preloader-path{stroke:#4EA4F6}.page-chats #search-container,.page-chats .sidebar-search{flex-direction:column;width:100%;max-height:100%;height:100%;overflow:hidden;position:absolute;left:0;top:0;z-index:3;background:#fff}@media (min-width: 1680px){.page-chats{border-top-width:0;border-bottom-width:0;border-left-width:1px;border-right-width:1px;border-style:solid;border-color:#DADCE0}}.page-password #password{padding-right:2.5rem}.page-password #password[type="password"]{font-size:2.25rem;padding-left:10px}.page-password .toggle-visible{position:absolute;right:.25rem;z-index:2;top:50%;transform:translateY(-50%);font-size:1.25rem;color:#9e9e9e;cursor:pointer;transition:.2s;padding:.5rem}.page-password .toggle-visible:hover{color:#000}\n',""]),e.exports=t},function(e,t){e.exports="assets/img/camomile_blurred.jpg"},function(e,t){e.exports="assets/img/msg-tail-left.svg"},function(e,t){e.exports="assets/img/msg-tail-right.svg"},function(e,t,s){var o=s(30),r=s(60);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},i=(o(r,a),r.locals?r.locals:{});e.exports=i},function(e,t,s){var o=s(31),r=s(38),a=s(61),i=s(62),n=s(63),l=s(64);t=o(!1);var d=r(a),c=r(i),h=r(n),u=r(l);t.push([e.i,'@font-face{font-family:"tgico";src:url('+d+");src:url("+d+') format("embedded-opentype"),url('+c+') format("truetype"),url('+h+') format("woff"),url('+u+') format("svg");font-weight:normal;font-style:normal;font-display:block}[class^="tgico-"],.tgico:before,.tgico:after,[class*=" tgico-"]:before,[class*=" tgico-"]:after{font-family:"tgico" !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.tgico-check:before{content:""}.tgico-settings:before{content:"\\e901"}.tgico-smallscreen:before{content:"\\e902"}.tgico-smile:before{content:"\\e903"}.tgico-sport:before{content:"\\e904"}.tgico-stop:before{content:"\\e905"}.tgico-unarchive:before{content:"\\e906"}.tgico-unlock:before{content:"\\e907"}.tgico-unmute:before{content:"\\e908"}.tgico-unpin:before{content:"\\e909"}.tgico-unread:before{content:"\\e90a"}.tgico-up:before{content:"\\e90b"}.tgico-username:before{content:"\\e90c"}.tgico-user:before{content:"\\e90d"}.tgico-play:before{content:"\\e90e"}.tgico-poll:before{content:"\\e90f"}.tgico-radiooff:before{content:"\\e910"}.tgico-radioon:before{content:"\\e911"}.tgico-recent:before{content:"\\e912"}.tgico-reply:before{content:"\\e913"}.tgico-revote:before{content:"\\e914"}.tgico-savedmessages:before{content:"\\e915"}.tgico-search:before{content:"\\e916"}.tgico-send:before{content:"\\e917"}.tgico-send2:before{content:"\\e918"}.tgico-sending:before{content:""}.tgico-sendingerror:before{content:"\\e91a"}.tgico-mute:before{content:"\\e91b"}.tgico-newchannel:before{content:"\\e91c"}.tgico-newchat_filled:before{content:"\\e91d"}.tgico-newgroup:before{content:"\\e91e"}.tgico-newprivate:before{content:"\\e91f"}.tgico-next:before{content:"\\e920"}.tgico-nosound:before{content:"\\e921"}.tgico-pause:before{content:"\\e922"}.tgico-permissions:before{content:"\\e923"}.tgico-phone:before{content:"\\e924"}.tgico-photo:before{content:"\\e925"}.tgico-pin:before{content:"\\e926"}.tgico-pinnedchat:before{content:"\\e927"}.tgico-largepause:before{content:"\\e928"}.tgico-largeplay:before{content:"\\e929"}.tgico-livelocation:before{content:"\\e92a"}.tgico-location:before{content:"\\e92b"}.tgico-lock:before{content:"\\e92c"}.tgico-logout:before{content:"\\e92d"}.tgico-menu:before{content:"\\e92e"}.tgico-message:before{content:"\\e92f"}.tgico-microphone:before{content:"\\e930"}.tgico-microphone2:before{content:"\\e931"}.tgico-minus:before{content:"\\e932"}.tgico-more:before{content:"\\e933"}.tgico-download:before{content:"\\e934"}.tgico-eats:before{content:"\\e935"}.tgico-edit:before{content:"\\e936"}.tgico-eye1:before{content:"\\e937"}.tgico-eye2:before{content:"\\e938"}.tgico-flag:before{content:"\\e939"}.tgico-forward:before{content:"\\e93a"}.tgico-fullscreen:before{content:"\\e93b"}.tgico-group:before{content:"\\e93c"}.tgico-help:before{content:"\\e93d"}.tgico-info:before{content:"\\e93e"}.tgico-lamp:before{content:"\\e93f"}.tgico-language:before{content:"\\e940"}.tgico-checkboxempty:before{content:"\\e941"}.tgico-checkboxon:before{content:"\\e942"}.tgico-close:before{content:"\\e943"}.tgico-colorize:before{content:"\\e944"}.tgico-copy:before{content:"\\e945"}.tgico-data:before{content:"\\e946"}.tgico-delete_filled:before{content:"\\e947"}.tgico-delete:before{content:"\\e948"}.tgico-deleteuser:before{content:"\\e949"}.tgico-document:before{content:"\\e94a"}.tgico-down:before{content:"\\e94b"}.tgico-attach:before{content:"\\e94c"}.tgico-avatar_archivedchats:before{content:"\\e94d"}.tgico-avatar_deletedaccount:before{content:"\\e94e"}.tgico-avatar_savedmessages:before{content:"\\e94f"}.tgico-back:before{content:"\\e950"}.tgico-camera:before{content:"\\e951"}.tgico-cameraadd:before{content:"\\e952"}.tgico-car:before{content:"\\e953"}.tgico-channel:before{content:"\\e954"}.tgico-channelviews:before{content:"\\e955"}.tgico-chatsplaceholder:before{content:"\\e956"}.tgico-check1:before{content:"\\e957"}.tgico-checkbox:before{content:"\\e958"}.tgico-checkboxblock:before{content:"\\e959"}.tgico-checks:before{content:""}.tgico-activesessions:before{content:"\\e95b"}.tgico-add:before{content:"\\e95c"}.tgico-addmember_filled:before{content:"\\e95d"}.tgico-adduser:before{content:"\\e95e"}.tgico-admin:before{content:"\\e95f"}.tgico-animals:before{content:"\\e960"}.tgico-archive:before{content:"\\e961"}\n',""]),e.exports=t},function(e,t){e.exports="assets/fonts/tgico.eot"},function(e,t){e.exports="assets/fonts/tgico.ttf"},function(e,t){e.exports="assets/fonts/tgico.woff"},function(e,t){e.exports="assets/fonts/tgico.svg"},function(e,t,s){!function(){"use strict";e.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var s,o=e.HTMLElement||e.Element,r=468,a={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:o.prototype.scroll||l,scrollIntoView:o.prototype.scrollIntoView},i=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,n=(s=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(s)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==d(arguments[0])?p.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):a.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(d(arguments[0])?a.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):p.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},o.prototype.scroll=o.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==d(arguments[0])){var e=arguments[0].left,t=arguments[0].top;p.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");a.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},o.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==d(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):a.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},o.prototype.scrollIntoView=function(){if(!0!==d(arguments[0])){var s=function(e){for(;e!==t.body&&!1===(o=c(s=e,"Y")&&h(s,"Y"),r=c(s,"X")&&h(s,"X"),o||r);)e=e.parentNode||e.host;var s,o,r;return e}(this),o=s.getBoundingClientRect(),r=this.getBoundingClientRect();s!==t.body?(p.call(this,s,s.scrollLeft+r.left-o.left,s.scrollTop+r.top-o.top),"fixed"!==e.getComputedStyle(s).position&&e.scrollBy({left:o.left,top:o.top,behavior:"smooth"})):e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})}else a.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function l(e,t){this.scrollLeft=e,this.scrollTop=t}function d(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(e,t){return"Y"===t?e.clientHeight+n<e.scrollHeight:"X"===t?e.clientWidth+n<e.scrollWidth:void 0}function h(t,s){var o=e.getComputedStyle(t,null)["overflow"+s];return"auto"===o||"scroll"===o}function u(t){var s,o,a,n,l=(i()-t.startTime)/r;n=l=l>1?1:l,s=.5*(1-Math.cos(Math.PI*n)),o=t.startX+(t.x-t.startX)*s,a=t.startY+(t.y-t.startY)*s,t.method.call(t.scrollable,o,a),o===t.x&&a===t.y||e.requestAnimationFrame(u.bind(e,t))}function p(s,o,r){var n,d,c,h,p=i();s===t.body?(n=e,d=e.scrollX||e.pageXOffset,c=e.scrollY||e.pageYOffset,h=a.scroll):(n=s,d=s.scrollLeft,c=s.scrollTop,h=l),u({scrollable:n,method:h,startTime:p,startX:d,startY:c,x:o,y:r})}}}}()},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(32)),a=o(s(67)),i=o(s(22)),n=o(s(49)),l=o(s(14)),d=o(s(1)),c=o(s(17));s(21);let h=null;let u=null,p=null;const g=new c.default("page-authCode",!0,()=>{let e=0,t=0,s=void 0;const o=h.type.length,c=g.pageEl.querySelector("#code"),u=c.nextElementSibling,p=g.pageEl.querySelector(".phone-edit");p.addEventListener("click",(function(){return r.default.mount()}));return c.addEventListener("input",(function(r){this.classList.remove("error"),this.value=this.value.replace(/\D/g,""),this.value.length>o&&(this.value=this.value.slice(0,o));let l,p=this.value.length;if(p==o)(e=>{c.setAttribute("disabled","true");let t={phone_number:h.phone_number,phone_code_hash:h.phone_code_hash,phone_code:e};console.log("invoking auth.signIn with params:",t),d.default.invokeApi("auth.signIn",t,{ignoreErrors:!0}).then(e=>{switch(console.log("auth.signIn response:",e),e._){case"auth.authorization":d.default.setUserAuth({id:e.user.id}),i.default.mount(),s&&s.destroy();break;case"auth.authorizationSignUpRequired":console.log("Registration needed!"),a.default.mount({phone_number:h.phone_number,phone_code_hash:h.phone_code_hash}),s&&s.destroy();break;default:c.innerText=e._}}).catch(e=>{switch(c.removeAttribute("disabled"),e.type){case"SESSION_PASSWORD_NEEDED":console.warn("pageAuthCode: SESSION_PASSWORD_NEEDED"),e.handled=!0,s&&s.destroy(),n.default.mount();break;case"PHONE_CODE_EMPTY":case"PHONE_CODE_INVALID":c.classList.add("error"),u.innerText="Invalid Code";break;default:u.innerText=e.type}})})(this.value);else if(p==t)return;if(t=p,!s)return;l=p?Math.round((p>45?45:p)*(165/45)+11.33):0;let g=e>l?-1:1;s.setDirection(g),0!=e&&0==l&&s.setSpeed(7),e=l,s.play()})),Promise.all([l.default.loadLottie(),fetch("assets/img/TwoFactorSetupMonkeyTracking.tgs").then(e=>e.arrayBuffer()).then(e=>d.default.gzipUncompress(e,!0)).then(e=>l.default.loadAnimation({container:g.pageEl.querySelector(".auth-image"),renderer:"svg",loop:!1,autoplay:!1,animationData:JSON.parse(e)})).then(t=>{s=t,s.setSpeed(1),s.addEventListener("enterFrame",t=>{let o=Math.round(t.currentTime);(1==t.direction&&o>=e||-1==t.direction&&o<=e)&&(s.setSpeed(1),s.pause())})})])},e=>{switch(h=e,u||(u=g.pageEl.getElementsByClassName("phone")[0],p=g.pageEl.getElementsByClassName("sent-type")[0]),u.innerText=h.phone_number,h.type._){case"auth.sentCodeTypeSms":p.innerHTML="We have sent you an SMS<br>with the code.";break;case"auth.sentCodeTypeApp":p.innerHTML="We have sent you a message in Telegram<br>with the code.";break;case"auth.sentCodeTypeCall":p.innerHTML="We will call you and voice<br>the code.";break;default:p.innerHTML=`Please check everything<br>for a code (type: ${h.type._})`}});t.default=g},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(2),a=o(s(22)),i=o(s(1)),n=o(s(17)),l=o(s(47)),d=o(s(19));let c=null;const h=new n.default("page-signUp",!0,()=>{const e=h.pageEl,t=e.querySelector("#canvas-avatar");let s;e.querySelector(".auth-image").addEventListener("click",()=>{l.default.open(t,e=>{s=e})});const o=e.getElementsByClassName("fullName")[0];let n=function(e){let t=u.value||"",s=p.value||"",r=t||s?(t+" "+s).trim():"Your Name";o.innerText!=r&&(o.innerText=r),this.classList.remove("error")};const u=document.getElementById("name");u.addEventListener("input",n);const p=document.getElementById("lastName");p.addEventListener("input",n),document.getElementById("signUp").addEventListener("click",(function(e){if(this.setAttribute("disabled","true"),!u.value.length)return u.classList.add("error"),!1;let t=u.value,o=p.value,n={phone_number:c.phone_number,phone_code_hash:c.phone_code_hash,first_name:t,last_name:o};console.log("invoking auth.signUp with params:",n),this.textContent="PLEASE WAIT...",r.putPreloader(this),i.default.invokeApi("auth.signUp",n).then(e=>{switch(console.log("auth.signUp response:",e),e._){case"auth.authorization":i.default.setUserAuth({id:e.user.id}),new Promise((e,t)=>{if(!s)return console.log("User has not selected avatar"),e();console.log("invoking uploadFile..."),s().then(s=>{console.log("uploaded smthn",s),d.default.uploadProfilePhoto(s).then(e,t)},t)}).then(()=>{a.default.mount()},()=>{a.default.mount()});break;default:this.innerText=e._}}).catch(e=>{this.removeAttribute("disabled"),e.type,this.innerText=e.type})}))},e=>{c=e});t.default=h},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(0),a=s(2),i=o(s(14));const n=new class{constructor(){this.pageID=-1,this.pagesDiv=document.getElementById("auth-pages"),this.selectTab=a.horizontalMenu(null,this.pagesDiv.firstElementChild,null,null,420)}setPage(e){if(e.isAuthPage){this.pagesDiv.style.display="";let t=r.whichChild(e.pageEl);if(this.pageID==t)return;this.selectTab(t),-1!=this.pageID&&i.default.loadLottie().then(()=>{i.default.lottie.resize()}),this.pageID=t}else this.pagesDiv.style.display="none",e.pageEl.style.display="",this.pageID=-1}};window.pagesManager=n,t.default=n},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(10);t.default=class{sha1Hash(e){return this.performTaskWorker("sha1-hash",e)}sha256Hash(e){return this.performTaskWorker("sha256-hash",e)}pbkdf2(e,t,s){return this.performTaskWorker("pbkdf2",e,t,s)}aesEncrypt(e,t,s){return this.performTaskWorker("aes-encrypt",o.convertToArrayBuffer(e),o.convertToArrayBuffer(t),o.convertToArrayBuffer(s))}aesDecrypt(e,t,s){return this.performTaskWorker("aes-decrypt",e,t,s).then(e=>o.convertToArrayBuffer(e))}rsaEncrypt(e,t){return this.performTaskWorker("rsa-encrypt",e,t)}factorize(e){return e=o.convertToByteArray(e),this.performTaskWorker("factorize",e)}modPow(e,t,s){return this.performTaskWorker("mod-pow",e,t,s)}gzipUncompress(e,t){return this.performTaskWorker("unzip",e,t)}}},function(e,t,s){e.exports=function(){return new Worker(s.p+"bfbe8535b5761ff8cc7d.worker.js")}},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(12)),a=s(21);class i{constructor(){this.disabled=a.Modes.test||-1==a.App.domains.indexOf(location.hostname)||"http:"!=location.protocol&&"https:"!=location.protocol||"https:"==location.protocol&&"web.telegram.org"!=location.hostname}setAuthorized(e){if(this.disabled)return!1;r.default.get("tgme_sync").then(t=>{var s=Date.now()/1e3;if(e&&t&&t.canRedirect==e&&t.ts+86400>s)return!1;r.default.set({tgme_sync:{canRedirect:e,ts:s}}),["//telegram.me/_websync_?authed="+(e?"1":"0"),"//t.me/_websync_?authed="+(e?"1":"0")].forEach(e=>{let t=document.createElement("script");t.onload=t.onerror=function(){t.remove()},t.src=e,document.body.appendChild(t)})})}}t.TelegramMeWebService=i,t.telegramMeWebService=new i},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(10),a=o(s(27));const i=new class{constructor(){this.dbName="cachedFiles",this.dbStoreName="files",this.dbVersion=2,this.storageIsAvailable=!0,this.storeBlobsAvailable=!0,this.name="IndexedDB",this.openDatabase()}isAvailable(){return this.storageIsAvailable}openDatabase(){if(this.openDbPromise)return this.openDbPromise;var e;try{var t=indexedDB.open(this.dbName,this.dbVersion);if(e=e=>{e.createObjectStore(this.dbStoreName)},!t)throw new Error}catch(e){return console.error("error opening db",e.message),this.storageIsAvailable=!1,Promise.reject(e)}var s=!1;return setTimeout(()=>{s||t.onerror({type:"IDB_CREATE_TIMEOUT"})},3e3),this.openDbPromise=new Promise((o,r)=>{t.onsuccess=e=>{s=!0;var a=t.result;a.onerror=e=>{this.storageIsAvailable=!1,console.error("Error creating/accessing IndexedDB database",e),r(e)},o(a)},t.onerror=e=>{s=!0,this.storageIsAvailable=!1,console.error("Error creating/accessing IndexedDB database",e),r(e)},t.onupgradeneeded=t=>{s=!0,console.warn("performing idb upgrade from",t.oldVersion,"to",t.newVersion);var o=t.target.result;1==t.oldVersion&&o.deleteObjectStore(this.dbStoreName),e(o)}})}deleteFile(e){return this.openDatabase().then(t=>{try{var s=t.transaction([this.dbStoreName],"readwrite").objectStore(this.dbStoreName);console.log("Delete file: `"+e+"`");var o=s.delete(e)}catch(e){return Promise.reject(e)}return new Promise((e,t)=>{o.onsuccess=function(t){console.log("deleted file",t),e()},o.onerror=function(e){t(e)}})})}saveFile(e,t){return this.openDatabase().then(s=>{if(!this.storeBlobsAvailable)return this.saveFileBase64(s,e,t);t instanceof Blob||(t=r.blobConstruct([t]));try{var o=s.transaction([this.dbStoreName],"readwrite").objectStore(this.dbStoreName).put(t,e)}catch(o){return this.storeBlobsAvailable?(this.storeBlobsAvailable=!1,this.saveFileBase64(s,e,t)):(this.storageIsAvailable=!1,Promise.reject(o))}return new Promise((e,s)=>{o.onsuccess=function(s){e(t)},o.onerror=function(e){s(e)}})})}saveFileBase64(e,t,s){if(this.getBlobSize(s)>10485760)return Promise.reject();if(!(s instanceof Blob)){var o="data:"+r.blobSafeMimeType(s.type||"image/jpeg")+";base64,"+r.bytesToBase64(s);return this.storagePutB64String(e,t,o).then(()=>s)}try{var a=new FileReader}catch(e){return this.storageIsAvailable=!1,Promise.reject()}let i=new Promise((o,r)=>{a.onloadend=()=>{this.storagePutB64String(e,t,a.result).then(()=>{o(s)},r)},a.onerror=r});try{a.readAsDataURL(s)}catch(e){return this.storageIsAvailable=!1,Promise.reject()}return i}storagePutB64String(e,t,s){try{var o=e.transaction([this.dbStoreName],"readwrite").objectStore(this.dbStoreName).put(s,t)}catch(e){return this.storageIsAvailable=!1,Promise.reject(e)}return new Promise((e,t)=>{o.onsuccess=function(t){e()},o.onerror=t})}getBlobSize(e){return e.size||e.byteLength||e.length}getFile(e,t){return this.openDatabase().then(t=>{var s=t.transaction([this.dbStoreName],"readonly").objectStore(this.dbStoreName).get(e);return new Promise((e,t)=>{s.onsuccess=function(s){var o=s.target.result;void 0===o?t():"string"==typeof o&&"data:"===o.substr(0,5)?e(r.dataUrlToBlob(o)):e(o)},s.onerror=t})})}getAllKeys(){return console.time("getAllEntries"),this.openDatabase().then(e=>{var t=e.transaction([this.dbStoreName],"readonly").objectStore(this.dbStoreName).getAllKeys();return new Promise((e,s)=>{t.onsuccess=function(t){var s=t.target.result;e(s),console.timeEnd("getAllEntries")},t.onerror=s})})}isFileExists(e){return console.time("isFileExists"),this.openDatabase().then(t=>{var s=t.transaction([this.dbStoreName],"readonly").objectStore(this.dbStoreName).openCursor(e);return new Promise((e,t)=>{s.onsuccess=function(t){var s=t.target.result;e(!!s),console.timeEnd("isFileExists")},s.onerror=t})})}getFileWriter(e,t){var s=a.default.getFakeFileWriter(t,t=>{this.saveFile(e,t)});return Promise.resolve(s)}};t.default=i},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(41)),a=s(3),i=s(0);let n=0;const l=[];i.$rootScope.$on("poll_update",e=>{let{poll:t,results:s}=e.detail;for(let e of l)if(e.id==t.id){e.element.performResults(s,t.chosenIndex)}});class d extends HTMLElement{constructor(){super(),this.maxOffset=-46.5,this.isQuiz=!1,this.isRetracted=!1,this.chosenIndex=-1}connectedCallback(){n||(n=document.getElementById("poll-line").getTotalLength(),console.log("line total length:",n));let e=this.getAttribute("poll-id"),{poll:t,results:s}=r.default.getPoll(e);l.push({id:e,element:this}),console.log("pollElement poll:",t,s);let o="";if(t.pFlags)if(t.pFlags.closed)o="Final results";else{t.pFlags.quiz&&(this.isQuiz=!0);let e=this.isQuiz?"Quiz":"Poll";o=(t.pFlags.public_voters?"Public":"Anonymous")+" "+e}let i=t.answers.map((e,t)=>`\n        <div class="poll-answer" data-index="${t}">\n          <div class="circle-hover">\n            <div class="animation-ring"></div>\n            <svg class="progress-ring">\n              <circle class="progress-ring__circle" cx="13" cy="13" r="9"></circle>\n            </svg>\n          </div>\n          <div class="poll-answer-percents"></div>\n          <svg version="1.1" class="poll-line" style="display: none;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 480 35" xml:space="preserve">\n            <use href="#poll-line"></use>\n          </svg>\n          <div class="poll-answer-text">${a.RichTextProcessor.wrapEmojiText(e.text)}</div>\n        </div>\n      `).join("");this.innerHTML=`\n      <div class="poll-title">${t.rQuestion}</div>\n      <div class="poll-desc">${o}</div>\n      ${i}\n      <div class="poll-votes-count"></div>\n    `,this.answerDivs=Array.from(this.querySelectorAll(".poll-answer")),this.votersCountDiv=this.querySelector(".poll-votes-count"),this.svgLines=Array.from(this.querySelectorAll(".poll-line")),this.numberDivs=Array.from(this.querySelectorAll(".poll-answer-percents"));let d=this.getBoundingClientRect().width;this.maxLength=d+9+this.maxOffset+-13.7,-1!==t.chosenIndex?this.performResults(s,t.chosenIndex):(this.setVotersCount(s),this.addEventListener("click",this.clickHandler))}disconnectedCallback(){l.findAndSplice(e=>e.element==this)}static get observedAttributes(){return[]}attributeChangedCallback(e,t,s){}adoptedCallback(){}clickHandler(e){let t=i.findUpClassName(e.target,"poll-answer");if(!t)return;let s=+t.dataset.index;this.sendVote(s)}sendVote(e){let t=this.answerDivs[e];t.classList.add("is-voting");let s=+this.getAttribute("message-id");this.classList.add("disable-hover"),r.default.sendVote(s,[e]).then(()=>{t.classList.remove("is-voting"),this.classList.remove("disable-hover")})}performResults(e,t){if(this.chosenIndex!=t&&(this.isRetracted=-1!=this.chosenIndex&&-1==t,this.chosenIndex=t,this.isRetracted?this.addEventListener("click",this.clickHandler):this.removeEventListener("click",this.clickHandler)),-1!=this.chosenIndex||this.isRetracted){const s=e.results.map(t=>t.voters/e.total_voters*100);this.setResults(this.isRetracted?this.percents:s,t),this.percents=s,this.isRetracted=!1}this.setVotersCount(e)}setResults(e,t){if(this.svgLines.forEach(e=>e.style.display=""),-1!==t){let e=this.answerDivs[t];this.selectedSpan||(this.selectedSpan=document.createElement("span"),this.selectedSpan.classList.add("poll-answer-selected","tgico-check")),e.append(this.selectedSpan)}let s=Math.max(...e);if(this.maxLengths=e.map(e=>e/s*this.maxLength),this.isRetracted?this.svgLines.forEach((e,t)=>{this.setLineProgress(t,-1)}):this.svgLines.forEach((e,t)=>{e.getBoundingClientRect(),this.setLineProgress(t,1)}),(e=>{let t=e.reduce((e,t)=>e+Math.round(t),0);if(t>100){let s=t-100,o=e.length;for(let t=0;t<s;++t){let t=-1,s=1;for(let r=0;r<o;++r){let o=e[r]%1;o>=.5&&o<s&&(s=o,t=r)}if(-1==t)throw new Error("lol chto");e[t]-=s}}else if(t<100){let s=100-t,o=e.length;for(let t=0;t<s;++t){let t=-1,s=0;for(let r=0;r<o;++r){let o=e[r]%1;o<.5&&o>s&&(s=o,t=r)}if(-1==t)throw new Error("lol chto");e[t]+=1-s}}})(e=e.slice()),this.isRetracted)for(let t=9,s=0;t>=0;--t,++s)setTimeout(()=>{e.forEach((e,s)=>{let o=Math.round(e/10*t);this.numberDivs[s].innerText=o+"%"})},34*s);else for(let t=0;t<10;++t)setTimeout(()=>{e.forEach((e,s)=>{let o=Math.round(e/10*(t+1));this.numberDivs[s].innerText=o+"%"})},34*t);this.isRetracted?(this.classList.add("is-retracting"),this.classList.remove("is-voted"),setTimeout(()=>{this.classList.remove("is-retracting"),this.svgLines.forEach(e=>e.style.display="none")},340)):this.classList.add("is-voted")}setVotersCount(e){let t=e.total_voters||0,s=this.isQuiz?t>1||!t?"answers":"answer":t>1||!t?"votes":"vote";this.votersCountDiv.innerText=""+(e.total_voters?e.total_voters+" "+s:"No "+s)}setLineProgress(e,t){let s=this.svgLines[e];-1==t?(s.style.strokeDasharray="",s.style.strokeDashoffset=""):(s.style.strokeDasharray=t*this.maxLengths[e]+", 485.9",s.style.strokeDashoffset=""+t*this.maxOffset)}}t.default=d,customElements.define("poll-element",d)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var s,o,r,a={},i=1,n=0,l=0,d=0,c=0;function h(){if(e.dataset.isCrop)throw"image is already crop";e.dataset.isCrop="true",e.classList.add("crop-blur"),e.draggable=!1,(r=new Image).crossOrigin=e.crossOrigin,r.src=e.src,r.draggable=!1,t||(t=document.createElement("canvas")),(s=document.createElement("div")).classList.add("crop-component"),(o=document.createElement("div")).classList.add("overlay");let a=document.createElement("div");a.classList.add("crop-overlay-color"),s.appendChild(o),e.parentNode.appendChild(s),s.appendChild(r),s.appendChild(e),s.appendChild(a),o.appendChild(r),r.style.maxWidth=e.width+"px",u(e.offsetWidth/2-100,e.offsetHeight/2-100),o.addEventListener("mousedown",y,!1),o.addEventListener("touchstart",y,!1),o.addEventListener("wheel",_,!1),document.addEventListener("keypress",m,!1)}function u(e,t){n=-e*i,l=-t*i,r.style.top=-t+"px",r.style.left=-e+"px"}function p(e,t){let s=t+100+"px",r=e+100+"px";o.style.top=s,o.style.left=r}function g(e){e=e*Math.PI*2;var t,s,a,n,l,d,c=Math.floor(o.clientWidth+e),h=Math.floor(o.clientHeight+e),g=r.clientWidth,m=r.clientHeight;c<50||(c>g||(a=(t=o.offsetLeft-e/2)+c,n=(s=o.offsetTop-e/2)+h,t<0&&(t=0),s<0&&(s=0),a>g||n>m||(i=200/c,l=c,d=c,o.style.width=l+"px",o.style.height=d+"px",u(t,s),p(t,s))))}function m(e){switch(e.preventDefault(),String.fromCharCode(e.charCode)){case"+":g(4);break;case"-":g(-4)}}function _(e){e.preventDefault(),g(e.deltaY>0?1:-1)}function y(e){e.preventDefault(),e.stopPropagation(),function(e){a.container_width=o.offsetWidth,a.container_height=o.offsetHeight,a.container_left=o.offsetLeft,a.container_top=o.offsetTop,a.mouse_x=(e.clientX||e.pageX||e.touches&&e.touches[0].clientX)+window.scrollX,a.mouse_y=(e.clientY||e.pageY||e.touches&&e.touches[0].clientY)+window.scrollY}(e),document.addEventListener("mousemove",b),document.addEventListener("touchmove",b),document.addEventListener("mouseup",f),document.addEventListener("touchend",f)}function f(e){e.preventDefault(),document.removeEventListener("mouseup",f),document.removeEventListener("touchend",f),document.removeEventListener("mousemove",b),document.removeEventListener("touchmove",b)}function b(e){var t,s,i,n,l={x:0,y:0};e.preventDefault(),e.stopPropagation(),l.x=e.pageX||e.touches&&e.touches[0].pageX,l.y=e.pageY||e.touches&&e.touches[0].pageY,t=l.x-(a.mouse_x-a.container_left),s=l.y-(a.mouse_y-a.container_top),i=o.offsetWidth,n=o.offsetHeight,t<0?t=0:t>r.offsetWidth-i&&(t=r.offsetWidth-i),s<0?s=0:s>r.offsetHeight-n&&(s=r.offsetHeight-n),u(t,s),p(t,s)}return e.complete?h():e.onload=h,{crop:function(){d=r.width*i,c=r.height*i,t.width=200,t.height=200,t.getContext("2d").drawImage(r,n,l,d,c)},removeHandlers:function(){o.removeEventListener("mousedown",y),o.removeEventListener("touchstart",y),o.removeEventListener("wheel",_),document.removeEventListener("mouseup",f),document.removeEventListener("touchend",f),document.removeEventListener("mousemove",b),document.removeEventListener("touchmove",b),document.removeEventListener("keypress",m),s.remove(),o.remove(),r.remove()}}}},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const a=o(s(9)),i=s(3),n=o(s(1)),l=o(s(40)),d=o(s(15)),c=s(0),h=s(28),u=o(s(6)),p=r(s(76)),g=o(s(14)),m=s(44);t.ChatInput=class{constructor(){this.pageEl=document.querySelector(".page-chats"),this.messageInput=document.getElementById("input-message"),this.fileInput=document.getElementById("input-file"),this.inputMessageContainer=document.getElementsByClassName("input-message-container")[0],this.inputScroll=new a.default(this.inputMessageContainer),this.btnSend=document.getElementById("btn-send"),this.emoticonsDropdown=null,this.emoticonsTimeout=0,this.emoticonsLazyLoadQueue=null,this.lastUrl="",this.lastTimeType=0,this.attachMenu={},this.attachMediaPopUp={},this.replyElements={},this.willSendWebPage=null,this.replyToMsgID=0,this.editMsgID=0,this.noWebPage=!1,this.toggleEmoticons=this.pageEl.querySelector(".toggle-emoticons"),this.attachMenu.container=document.getElementById("attach-file"),this.attachMenu.media=this.attachMenu.container.querySelector(".menu-media"),this.attachMenu.document=this.attachMenu.container.querySelector(".menu-document"),this.attachMenu.poll=this.attachMenu.container.querySelector(".menu-poll"),this.attachMediaPopUp.container=this.pageEl.querySelector(".popup-send-photo"),this.attachMediaPopUp.titleEl=this.attachMediaPopUp.container.querySelector(".popup-title"),this.attachMediaPopUp.sendBtn=this.attachMediaPopUp.container.querySelector(".btn-primary"),this.attachMediaPopUp.mediaContainer=this.attachMediaPopUp.container.querySelector(".popup-photo"),this.attachMediaPopUp.captionInput=this.attachMediaPopUp.container.querySelector("input"),this.replyElements.container=this.pageEl.querySelector(".reply-wrapper"),this.replyElements.cancelBtn=this.replyElements.container.querySelector(".reply-cancel"),this.replyElements.titleEl=this.replyElements.container.querySelector(".reply-title"),this.replyElements.subtitleEl=this.replyElements.container.querySelector(".reply-subtitle"),this.messageInput.addEventListener("keydown",e=>{if("Enter"==e.key){if(e.shiftKey||e.ctrlKey||e.metaKey)return;this.sendMessage()}}),this.messageInput.addEventListener("input",e=>{let t=this.messageInput.innerText,s=i.RichTextProcessor.parseEntities(t).find(e=>"messageEntityUrl"==e._);if(s){let e=t.slice(s.offset,s.offset+s.length);this.lastUrl!=e&&(this.lastUrl=e,this.willSendWebPage=null,n.default.invokeApi("messages.getWebPage",{url:e,hash:0}).then(t=>{l.default.saveWebPage(t),this.lastUrl==e&&(console.log("got webpage: ",t),this.setTopInfo(t.site_name||t.title,t.description||t.url),this.replyToMsgID=0,this.noWebPage=!1,this.willSendWebPage=t)}))}if(t.trim()||this.serializeNodes(Array.from(this.messageInput.childNodes)).trim()){if(!this.btnSend.classList.contains("tgico-send")){this.btnSend.classList.add("tgico-send"),this.btnSend.classList.remove("tgico-microphone2");let e=Date.now();e-this.lastTimeType>=6e3&&(this.lastTimeType=e,d.default.setTyping("sendMessageTypingAction"))}}else this.messageInput.innerHTML="",this.btnSend.classList.remove("tgico-send"),this.btnSend.classList.add("tgico-microphone2"),d.default.setTyping("sendMessageCancelAction")}),i.RichTextProcessor.emojiSupported||this.messageInput.addEventListener("copy",e=>{const t=document.getSelection();let s=t.getRangeAt(0),o=s.commonAncestorContainer,r="",a=Array.from(o.childNodes).slice(s.startOffset,s.endOffset);r=a.length?this.serializeNodes(a):t.toString(),event.clipboardData.setData("text/plain",r),event.preventDefault()}),this.messageInput.addEventListener("paste",e=>{e.preventDefault();let t=(e.originalEvent||e).clipboardData.getData("text/plain");t=i.RichTextProcessor.wrapEmojiText(t),window.document.execCommand("insertHTML",!1,t)});let e=e=>new Promise((t,o)=>{let r={};r.file=e,console.log("selected file:",e,typeof e,s);let a=document.createElement("div");switch(s.type){case"media":{let s=0===e.type.indexOf("video/");if(a.classList.add("popup-item-media"),s){let s=document.createElement("video"),o=document.createElement("source");o.src=r.objectURL=URL.createObjectURL(e),s.autoplay=!1,s.controls=!1,s.onloadeddata=()=>{r.width=s.videoWidth,r.height=s.videoHeight,r.duration=Math.floor(s.duration),a.append(s),t(a)},s.append(o)}else{let s=new Image;s.src=r.objectURL=URL.createObjectURL(e),s.onload=()=>{r.width=s.naturalWidth,r.height=s.naturalHeight,a.append(s),t(a)}}break}case"document":{let s=h.wrapDocument({file:e,file_name:e.name||"",size:e.size,type:-1!==e.type.indexOf("image/")?"photo":"doc"},!1,!0);a.append(s),t(a);break}}s.sendFileDetails.push(r)}),t=t=>{this.fileInput.value="";let o=this.attachMediaPopUp.container.firstElementChild;if(o.classList.remove("is-media","is-document","is-album"),this.attachMediaPopUp.captionInput.value="",this.attachMediaPopUp.mediaContainer.innerHTML="",this.attachMediaPopUp.mediaContainer.style.width=this.attachMediaPopUp.mediaContainer.style.height="",s.sendFileDetails=[],(t=t.filter(e=>"media"!=s.type||["image/","video/"].find(t=>0===e.type.indexOf(t)))).length)if("document"==s.type)this.attachMediaPopUp.titleEl.innerText="Send "+(t.length>1?t.length+" Files":"File"),o.classList.add("is-document");else{o.classList.add("is-media");let e=0,s=0;t.forEach(t=>{0===t.type.indexOf("image/")?++e:0===t.type.indexOf("video/")&&++s}),e&&s?this.attachMediaPopUp.titleEl.innerText="Send Album":e?this.attachMediaPopUp.titleEl.innerText="Send "+(e>1?e+" Photos":"Photo"):s&&(this.attachMediaPopUp.titleEl.innerText="Send "+(s>1?s+" Videos":"Video"))}Promise.all(t.map(e)).then(e=>{if("media"==s.type)if(s.sendFileDetails.length>1){o.classList.add("is-album");let t=new m.Layouter(s.sendFileDetails.map(e=>({w:e.width,h:e.height})),380,100,4).layout();for(let{geometry:s,sides:o}of t){let t=e.shift();t.style.width=s.width+"px",t.style.height=s.height+"px",t.style.top=s.y+"px",t.style.left=s.x+"px",o&m.RectPart.Right&&(this.attachMediaPopUp.mediaContainer.style.width=s.width+s.x+"px"),o&m.RectPart.Bottom&&(this.attachMediaPopUp.mediaContainer.style.height=s.height+s.y+"px"),this.attachMediaPopUp.mediaContainer.append(t)}console.log("chatInput album layout:",t)}else{let t=s.sendFileDetails[0],o=e[0],{w:r,h:a}=c.calcImageInBox(t.width,t.height,380,320);o.style.width=r+"px",o.style.height=a+"px",this.attachMediaPopUp.mediaContainer.append(o)}else this.attachMediaPopUp.mediaContainer.append(...e);this.attachMediaPopUp.container.classList.add("active")})},s={sendFileDetails:[]};this.fileInput.addEventListener("change",e=>{let s=e.target.files;s.length&&t(Array.from(s))},!1),this.attachMenu.media.addEventListener("click",()=>{s.type="media",this.fileInput.click()}),this.attachMenu.document.addEventListener("click",()=>{s.type="document",this.fileInput.click()}),document.addEventListener("paste",e=>{if(d.default.peerID&&!this.attachMediaPopUp.container.classList.contains("active")){var o=(e.clipboardData||e.originalEvent.clipboardData).items;for(let r=0;r<o.length;++r)if("file"==o[r].kind){e.preventDefault(),e.cancelBubble=!0,e.stopPropagation();let a=o[r].getAsFile();if(!a)continue;s.type=0===a.type.indexOf("image/")?"media":"document",t([a])}}},!0),this.attachMediaPopUp.sendBtn.addEventListener("click",()=>{this.attachMediaPopUp.container.classList.remove("active");let e=this.attachMediaPopUp.captionInput.value;s.isMedia="media"==s.type,console.log("will send files with options:",s);let t=d.default.peerID;if(s.sendFileDetails.length>1&&s.isMedia)u.default.sendAlbum(t,s.sendFileDetails.map(e=>e.file),Object.assign({caption:e,replyToMsgID:this.replyToMsgID},s));else{e&&s.sendFileDetails.length>1&&(u.default.sendText(t,e,{replyToMsgID:this.replyToMsgID}),e="",this.replyToMsgID=0);s.sendFileDetails.map(o=>{let r=u.default.sendFile(t,o.file,Object.assign({isMedia:s.isMedia,caption:e,replyToMsgID:this.replyToMsgID},o));return e="",this.replyToMsgID=0,r})}this.onMessageSent()}),this.btnSend.addEventListener("click",()=>{this.btnSend.classList.contains("tgico-send")&&this.sendMessage()}),this.toggleEmoticons.onmouseover=e=>{clearTimeout(this.emoticonsTimeout),this.emoticonsTimeout=setTimeout(()=>{if(this.emoticonsDropdown)this.emoticonsDropdown.classList.add("active"),this.emoticonsLazyLoadQueue.check();else{let e=p.default(this.pageEl,d.default,u.default,this.messageInput,this.toggleEmoticons,this.btnSend);this.emoticonsDropdown=e.dropdown,this.emoticonsLazyLoadQueue=e.lazyLoadQueue,this.toggleEmoticons.onmouseout=this.emoticonsDropdown.onmouseout=e=>{clearTimeout(this.emoticonsTimeout),this.emoticonsTimeout=setTimeout(()=>{this.emoticonsDropdown.classList.remove("active"),this.toggleEmoticons.classList.remove("active"),g.default.checkAnimations(!0,p.EMOTICONSSTICKERGROUP)},200)},this.emoticonsDropdown.onmouseover=e=>{clearTimeout(this.emoticonsTimeout)}}this.toggleEmoticons.classList.add("active"),g.default.checkAnimations(!1,p.EMOTICONSSTICKERGROUP)},0)},this.replyElements.cancelBtn.addEventListener("click",()=>{if(this.replyElements.container.classList.remove("active"),this.replyToMsgID=0,this.editMsgID)if(this.willSendWebPage){let e=u.default.getMessage(this.editMsgID);this.setTopInfo("Editing",e.message)}else this.editMsgID=0,this.messageInput.innerHTML="",this.btnSend.classList.remove("tgico-send"),this.btnSend.classList.add("tgico-microphone2");this.noWebPage=!0,this.willSendWebPage=null})}serializeNodes(e){return e.reduce((e,t)=>"object"==typeof t&&t.textContent?e+t.textContent:t.innerText?e+t.innerText:"IMG"==t.tagName&&t.classList&&t.classList.contains("emoji")?e+t.getAttribute("alt"):e,"")}onMessageSent(e=!0,t=!0){e&&(d.default.scroll.scrollTop=d.default.scroll.scrollHeight);let s=u.default.getDialogByPeerID(d.default.peerID)[0];s&&s.top_message&&u.default.readHistory(d.default.peerID,s.top_message),t&&(this.lastUrl="",this.editMsgID=0,this.replyToMsgID=0,this.noWebPage=!1,this.replyElements.container.classList.remove("active"),this.willSendWebPage=null,this.messageInput.innerText="",this.btnSend.classList.remove("tgico-send"),this.btnSend.classList.add("tgico-microphone2"))}sendMessage(){let e=c.getRichValue(this.messageInput);this.editMsgID?u.default.editMessage(this.editMsgID,e,{noWebPage:this.noWebPage}):u.default.sendText(d.default.peerID,e,{replyToMsgID:0==this.replyToMsgID?void 0:this.replyToMsgID,noWebPage:this.noWebPage,webPage:this.willSendWebPage}),this.onMessageSent(!this.editMsgID)}setTopInfo(e,t,s,o){"DIV"==this.replyElements.container.lastElementChild.tagName&&(this.replyElements.container.lastElementChild.remove(),this.replyElements.container.append(h.wrapReply(e,t,o))),this.replyElements.container.classList.add("active"),void 0!==s&&(this.messageInput.innerHTML=s?i.RichTextProcessor.wrapRichText(s):"",this.btnSend.classList.remove("tgico-microphone2"),this.btnSend.classList.add("tgico-send"))}}},function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function n(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,n)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(2),i=r(s(14)),n=r(s(9)),l=s(0),d=s(3),c=r(s(29)),h=r(s(1)),u=r(s(36)),p=s(28),g=r(s(43)),m=r(s(11)),_=r(s(24)),y=r(s(20));t.EMOTICONSSTICKERGROUP="emoticons-dropdown";t.default=(e,s,r,f,b,x)=>{let v=e.querySelector(".emoji-dropdown");v.classList.add("active");let D=new u.default(5),w=e.querySelector(".emoji-container .tabs-container"),S=e.querySelector(".emoji-dropdown .emoji-tabs");a.horizontalMenu(S,w,e=>{i.default.checkAnimations(!0,t.EMOTICONSSTICKERGROUP),1==e&&F?F():2==e&&k&&k()},()=>{i.default.checkAnimations(!1,t.EMOTICONSSTICKERGROUP),D.check()}),S.firstElementChild.children[0].click(),S.lastElementChild.style.cssText="width: 44.1719px; transform: translateX(88.5781px);";let E=(e,s,o,r)=>{e.addEventListener("click",(function(e){let r=e.target;r=l.findUpTag(r,"LI");let a=l.whichChild(r),n=s[a-1]||0;o.container.scrollTop=n,setTimeout(()=>{i.default.checkAnimations(!0,t.EMOTICONSSTICKERGROUP),D.check()},100)}))},P=(e,t,s,o,r)=>{let a=o.scrollTop;for(let o=0;o<t.length;++o){if(a<t[o]){e.children[s].classList.remove("active"),s=o,e.children[s].classList.add("active"),r&&(o<t.length-4?r.container.scrollLeft=47*(o-3):r.container.scrollLeft=47*o);break}}return s};{let e=["Smileys & Emotion","Animals & Nature","Food & Drink","Travel & Places","Activities","Objects","Flags","Skin Tones"],t={},s=y.default.Emoji.keyCategory,o={};for(let e in y.default.Emoji.emoji){let t=y.default.Emoji.emoji[e],r=t[s];"Symbols"==r&&(r="Objects"),t.unified=e,o[r]||(o[r]=[]),o[r][t.sort_order]=t}Object.keys(o).forEach(e=>o[e].sort((e,t)=>e-t)),e.pop(),delete o["Skin Tones"];for(let e in o){let s=document.createElement("div");s.classList.add("emoji-category");let r=document.createElement("div");r.classList.add("category-title"),r.innerText=e;let a=document.createElement("div");a.classList.add("category-items"),s.append(r,a),o[e].forEach(e=>{let t=e.unified,s=document.createElement("span"),o=d.RichTextProcessor.wrapRichText(t);o.includes("emoji")?(s.innerHTML=o,a.appendChild(s)):console.log(e,t,o,s,t.length,(new TextEncoder).encode(t))}),t[e]=s}let r=document.getElementById("content-emoji"),a=[0],i=1,l=r.nextElementSibling.firstElementChild,c=new n.default(r,"y",500,"EMOJI",null);c.container.addEventListener("scroll",e=>{i=P(l,a,i,c.container)}),e.map(e=>{let s=t[e];return s||console.error("no div by category:",e),c.append(s),s}).forEach(e=>{a.push((a[a.length-1]||0)+e.scrollHeight)}),r.addEventListener("click",(function(e){let t=e.target;if("SPAN"!=t.tagName||t.classList.contains("emoji")){if("DIV"==t.tagName)return}else t=t.firstElementChild;f.innerHTML+=t.outerHTML,x.classList.add("tgico-send"),x.classList.remove("tgico-microphone2")})),E(l,a,c)}let C=e=>{let t=e.target;t=l.findUpTag(t,"DIV");let o=t.dataset.docID,a=m.default.getDoc(o);"documentEmpty"!=a._?(r.sendFile(s.peerID,a,{isMedia:!0}),s.chatInputC.onMessageSent(!0,!1),v.classList.remove("active"),b.classList.remove("active")):console.warn("got no doc by id:",o)},F=()=>{let e=document.getElementById("content-stickers"),s=e.nextElementSibling,r=s.firstElementChild.firstElementChild,a=new n.default(s,"x"),l=document.createElement("div");l.classList.add("stickers-categories"),e.append(l),l.addEventListener("mouseover",e=>{let s=e.target;if("CANVAS"==s.tagName){let e=i.default.getAnimation(s.parentElement,t.EMOTICONSSTICKERGROUP);e&&(e.currentFrame==e.totalFrames-1?e.goToAndPlay(0,!0):e.play())}}),l.addEventListener("click",C);let d=[],u=0,m=(e,s,o,r)=>{let a=document.createElement("div");a.classList.add("category-items");let i=document.createElement("div");i.classList.add("category-title"),i.innerText=s,e.append(i,a),o.forEach(e=>{let s=document.createElement("div");p.wrapSticker(e,s,void 0,D,t.EMOTICONSSTICKERGROUP,!0,!1,!0),a.append(s)}),r?y.prepend(e):y.append(e),setTimeout(()=>D.check(),0),u&&window.cancelAnimationFrame(u),u=window.requestAnimationFrame(()=>{u=0;let e=parseInt(window.getComputedStyle(y.container).getPropertyValue("padding-top"))||0;d.length=0,Array.from(y.splitUp.children).forEach((t,s)=>{d[s]=(d[s-1]||0)+t.scrollHeight+(0==s?e:0)})})},_=0,y=new n.default(e,"y",500,"STICKERS",void 0,void 0,2);y.container.addEventListener("scroll",e=>{D.check(),i.default.checkAnimations(),_=P(r,d,_,y.container,a)}),y.setVirtualContainer(l),E(r,d,y),F=null,Promise.all([h.default.invokeApi("messages.getRecentStickers",{flags:0,hash:0}).then(e=>{let t=e,s=document.createElement("div");s.classList.add("sticker-category"),m(s,"Recent",t.stickers,!0)}),h.default.invokeApi("messages.getAllStickers",{hash:0}).then(e=>o(void 0,void 0,void 0,(function*(){let s=e;for(let e of s.sets){let s=document.createElement("div");s.classList.add("sticker-category");let a=document.createElement("li");a.classList.add("btn-icon"),r.append(a);let n=yield c.default.getStickerSet(e);n.set.thumb?c.default.getStickerSetThumb(n.set).then(e=>{if(n.set.pFlags.animated){const s=new FileReader;s.addEventListener("loadend",e=>o(void 0,void 0,void 0,(function*(){const s=e.srcElement.result;let o=yield h.default.gzipUncompress(s,!0);yield i.default.loadAnimation({container:a,loop:!0,autoplay:!1,animationData:JSON.parse(o)},t.EMOTICONSSTICKERGROUP)}))),s.readAsArrayBuffer(e)}else{let t=new Image;g.default.polyfillImage(t,e),a.append(t)}}):p.wrapSticker(n.documents[0],a,void 0,void 0,t.EMOTICONSSTICKERGROUP),m(s,n.set.title,n.documents,!1)}})))])},k=()=>{let e=document.getElementById("content-gifs"),t=e.firstElementChild;t.addEventListener("click",C),new n.default(e,"y",500,"GIFS",null).container.addEventListener("scroll",e=>{D.check()});h.default.invokeApi("messages.getSavedGifs",{hash:0}).then(e=>{let s=e;console.log("getSavedGifs res:",s);s.gifs.forEach((e,t)=>{s.gifs[t]=m.default.saveDoc(e)});for(let e=0,o=s.gifs.length;e<o;){let o=s.gifs[e],r=o.w,a=o.h;a<100&&(r*=100/a,a=100);let i=Math.min(300,400,r),{w:n,h:d}=l.calcImageInBox(r,a,i,100);++e,console.log("gif:",o,n,d);let c=document.createElement("div");c.style.width=n+"px",c.dataset.docID=o.id,t.append(c);let h=new _.default(c);D.push({div:c,load:()=>{let e=m.default.downloadDoc(o);return h.attach(c,!0,e),e.then(e=>{h.detach(),c.innerHTML=`<video autoplay="true" muted="true" loop="true" src="${o.url}" type="video/mp4"></video>`}),e}})}}),k=void 0};return{dropdown:v,lazyLoadQueue:D}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(0);t.default=class{constructor(){this.bubblesByGroups=[],this.groups=[],this.newGroupDiff=120}removeBubble(e,t){let s=this.bubblesByGroups.findAndSplice(e=>e.mid==t);s&&s.group.length&&(s.group.findAndSplice(t=>t==e),s.group.length||this.groups.findAndSplice(e=>e==s.group))}addBubble(e,t,s){let o,r=t.date,a=t.fromID;if(this.bubblesByGroups.length)if(s){let t=this.bubblesByGroups[0];t.fromID==a&&t.timestamp-r<this.newGroupDiff?(o=t.group,o.unshift(e)):this.groups.unshift(o=[e])}else{let t=this.bubblesByGroups[this.bubblesByGroups.length-1];t.fromID==a&&r-t.timestamp<this.newGroupDiff?(o=t.group,o.push(e)):this.groups.push(o=[e])}else this.groups.push(o=[e]);this.bubblesByGroups[s?"unshift":"push"]({timestamp:r,fromID:a,mid:t.mid,group:o}),this.updateGroup(o,s)}setClipIfNeeded(e,t=!1){if(e.classList.contains("is-message-empty")&&(e.classList.contains("photo")||e.classList.contains("video"))){let s=e.querySelector(".bubble__media-container");if(!s)return;Array.from(s.children).forEach(r=>{if(!(r instanceof SVGDefsElement))if(t)r.removeAttributeNS(null,"clip-path");else{let t,a,i=s.dataset.clipID,n=s.firstElementChild.firstElementChild.lastElementChild,l=+r.getAttributeNS(null,"width"),d=+r.getAttributeNS(null,"height"),c=e.classList.contains("is-out"),h=e.classList.contains("is-reply"),u="";e.classList.contains("forwarded")||h?t=a=0:c?(t=e.classList.contains("is-group-first")?12:6,a=12):(t=12,a=e.classList.contains("is-group-first")?12:6),u=c?o.generatePathData(0,0,l-9,d,a,t,0,12):o.generatePathData(9,0,l-9,d,a,t,12,0),n.setAttributeNS(null,"d",u),r.setAttributeNS(null,"clip-path","url(#"+i+")")}})}}updateGroup(e,t=!1){if(!e.length)return;let s=e[0];if(1==e.length)return s.classList.add("is-group-first","is-group-last"),void this.setClipIfNeeded(s);s.classList.remove("is-group-last"),s.classList.add("is-group-first"),this.setClipIfNeeded(s,!0);let o=e.length-1;for(let t=1;t<o;++t){let s=e[t];s.classList.remove("is-group-last","is-group-first"),this.setClipIfNeeded(s,!0)}let r=e[e.length-1];r.classList.remove("is-group-first"),r.classList.add("is-group-last"),this.setClipIfNeeded(r)}updateGroupByMessageID(e){let t=this.bubblesByGroups.find(t=>t.mid==e);t&&this.updateGroup(t.group)}cleanup(){this.bubblesByGroups=[],this.groups=[]}}},function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(34)),a=o(s(6)),i=s(2),n=s(48);t.default=new class{constructor(){this.container=document.getElementById("forward-container"),this.closeBtn=this.container.querySelector(".sidebar-close-button"),this.sendBtn=this.container.querySelector(".btn-circle"),this.msgIDs=[],this.closeBtn.addEventListener("click",()=>{this.cleanup(),this.container.classList.remove("active"),r.default.onSidebarScroll()}),this.sendBtn.addEventListener("click",()=>{let e=this.selector.getSelected();if(this.msgIDs.length&&e.length){this.sendBtn.classList.remove("tgico-send"),this.sendBtn.disabled=!0,i.putPreloader(this.sendBtn),this.selector.freezed=!0;let t=()=>{let s=e.splice(0,3).map(e=>a.default.forwardMessages(e,this.msgIDs));Promise.all(s).then(()=>{if(e.length)return t();this.closeBtn.click()})};t()}})}cleanup(){this.selector&&(this.selector.container.remove(),this.selector=null)}init(e){this.cleanup(),this.msgIDs=e,r.default.toggleSidebar(!0),this.container.classList.add("active"),this.sendBtn.innerHTML="",this.sendBtn.classList.add("tgico-send"),this.sendBtn.disabled=!1,this.selector=new n.AppSelectPeers(this.container,e=>{e?this.sendBtn.classList.add("is-visible"):this.sendBtn.classList.remove("is-visible")})}}},function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function n(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,n)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(s(1)),n=r(s(17)),l=r(s(22)),d=r(s(49)),c=r(s(32)),h=s(21),u=s(10),p=r(s(26));const g=new n.default("page-signQR",!0,()=>{o(void 0,void 0,void 0,(function*(){const e=g.pageEl.querySelector(".auth-image");g.pageEl.querySelector(".a-qr").addEventListener("click",()=>{c.default.mount()});const t=(yield Promise.all([Promise.resolve().then(()=>a(s(80)))]))[0].default;let o=!1;document.addEventListener("user_auth",()=>{o=!0},{once:!0});let r,n={};for(;!o;)try{let s=yield i.default.invokeApi("auth.exportLoginToken",{api_id:h.App.id,api_hash:h.App.hash,except_ids:[]});if("auth.loginTokenMigrateTo"==s._&&(n.dcID||(n.dcID=s.dc_id,i.default.setBaseDcID(s.dc_id)),s=yield i.default.invokeApi("auth.importLoginToken",{token:s.token},n)),"auth.loginTokenSuccess"==s._){let e=s.authorization;i.default.setUserAuth({id:e.user.id}),l.default.mount();break}if(!r||!u.bytesCmp(r,s.token)){r=s.token;let o="tg://login?token="+u.bytesToBase64(s.token).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"");e.innerHTML="",new t({width:166,height:166,data:o,image:"assets/img/logo_padded.svg",dotsOptions:{color:"#000000",type:"rounded"},imageOptions:{imageSize:.75},backgroundOptions:{color:"#ffffff"},qrOptions:{errorCorrectionLevel:"L"}}).append(e)}let o=Date.now()/1e3,a=s.expires-o-p.default.serverTimeOffset;yield new Promise((e,t)=>setTimeout(e,a>5?5e3:1e3*a|0))}catch(e){switch(e.type){case"SESSION_PASSWORD_NEEDED":console.warn("pageSignQR: SESSION_PASSWORD_NEEDED"),e.handled=!0,d.default.mount();break;default:console.error("pageSignQR: default error:",e)}}}))});t.default=g}]);