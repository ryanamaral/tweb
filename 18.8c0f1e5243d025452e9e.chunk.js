(this.webpackJsonp=this.webpackJsonp||[]).push([[18],{17:function(e,t,n){"use strict";n.r(t),n.d(t,"ripple",(function(){return d}));var i=n(0),s=n(58),a=n(21),r=n(9);let o=0;function d(e,t=(()=>Promise.resolve()),n=null,d=!1){if(e.querySelector(".c-ripple"))return;e.classList.add("rp");let l=document.createElement("div");l.classList.add("c-ripple");let c;e.classList.contains("rp-square")&&l.classList.add("is-square"),e[d?"prepend":"append"](l);const u=(e,i)=>{const r=Date.now(),d=document.createElement("div"),u=o++,h=1e3*+window.getComputedStyle(l).getPropertyValue("--ripple-duration").replace("s","");c=()=>{let e=Date.now()-r;const t=()=>{s.a.mutate(()=>{d.remove()}),n&&n(u)};if(e<h){let n=Math.max(h-e,h/2);setTimeout(()=>d.classList.add("hiding"),Math.max(n-h/2,0)),setTimeout(t,n)}else d.classList.add("hiding"),setTimeout(t,h/2);a.isTouchSupported||window.removeEventListener("contextmenu",c),c=null,p=!1},t&&t(u),window.requestAnimationFrame(()=>{const t=l.getBoundingClientRect();d.classList.add("c-ripple__circle");const n=e-t.left,s=i-t.top,a=Math.sqrt(Math.pow(Math.abs(s-t.height/2)+t.height/2,2)+Math.pow(Math.abs(n-t.width/2)+t.width/2,2)),r=n-a/2,o=s-a/2;d.style.width=d.style.height=a+"px",d.style.left=r+"px",d.style.top=o+"px",l.append(d)})};let p=!1;if(a.isTouchSupported){let t=()=>{c&&c()};e.addEventListener("touchstart",n=>{if(!r.default.settings.animationsEnabled)return;if(n.touches.length>1||p||["BUTTON","A"].includes(n.target.tagName)&&n.target!==e||Object(i.a)(n.target,"c-ripple")!==l)return;p=!0;let{clientX:s,clientY:a}=n.touches[0];u(s,a),e.addEventListener("touchend",t,{once:!0}),window.addEventListener("touchmove",n=>{n.cancelBubble=!0,n.stopPropagation(),t(),e.removeEventListener("touchend",t)},{once:!0})},{passive:!0})}else e.addEventListener("mousedown",t=>{if(![0,2].includes(t.button))return;if(!r.default.settings.animationsEnabled)return;if("0"===e.dataset.ripple||Object(i.a)(t.target,"c-ripple")!==l||"A"===t.target.tagName)return!1;if(p)return p=!1,!1;let{clientX:n,clientY:s}=t;u(n,s),window.addEventListener("mouseup",c,{once:!0}),window.addEventListener("contextmenu",c,{once:!0})})}}}]);
//# sourceMappingURL=18.8c0f1e5243d025452e9e.chunk.js.map