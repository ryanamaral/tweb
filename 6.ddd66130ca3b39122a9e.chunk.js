(this.webpackJsonp=this.webpackJsonp||[]).push([[6],{20:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i(7),s=i(11),o=i(8),r=i(13);let l=()=>{document.addEventListener("paste",t=>{if(!t.target.hasAttribute("contenteditable")&&!t.target.parentElement.hasAttribute("contenteditable"))return;t.preventDefault();let e=(t.originalEvent||t).clipboardData.getData("text/plain"),i=r.b.parseEntities(e);i=i.filter(t=>"messageEntityEmoji"===t._||"messageEntityLinebreak"===t._),e=r.b.wrapRichText(e,{entities:i,noLinks:!0,wrappingDraft:!0}),window.document.execCommand("insertHTML",!1,e)}),l=null};var a;!function(t){t[t.Neutral=0]="Neutral",t[t.Valid=1]="Valid",t[t.Error=2]="Error"}(a||(a={}));e.b=class{constructor(t={}){this.options=t,this.container=document.createElement("div"),this.container.classList.add("input-field"),t.maxLength&&(t.showLengthOn=Math.round(t.maxLength/3));const{placeholder:e,maxLength:i,showLengthOn:r,name:a,plainText:c}=t;let h,u,d=t.label||t.labelText;if(c)this.container.innerHTML=`\n      <input type="text" ${a?`name="${a}"`:""} autocomplete="off" ${d?'required=""':""} class="input-field-input">\n      `,h=this.container.firstElementChild;else{l&&l(),this.container.innerHTML='\n      <div contenteditable="true" class="input-field-input"></div>\n      ',h=this.container.firstElementChild;const e=new MutationObserver(()=>{u&&u()});h.addEventListener("input",()=>{Object(n.s)(h)&&(h.innerHTML=""),this.inputFake&&(this.inputFake.innerHTML=h.innerHTML,this.onFakeInput())}),e.observe(h,{characterData:!0,childList:!0,subtree:!0}),t.animate&&(h.classList.add("scrollable","scrollable-y"),this.wasInputFakeClientHeight=0,this.showScrollDebounced=Object(s.a)(()=>this.input.classList.remove("no-scrollbar"),150,!1,!0),this.inputFake=document.createElement("div"),this.inputFake.setAttribute("contenteditable","true"),this.inputFake.className=h.className+" input-field-input-fake")}if(h.setAttribute("dir","auto"),e&&(Object(o._i18n)(h,e,void 0,"placeholder"),this.inputFake&&Object(o._i18n)(this.inputFake,e,void 0,"placeholder")),d||e){const t=document.createElement("div");t.classList.add("input-field-border"),this.container.append(t)}if(d&&(this.label=document.createElement("label"),this.setLabel(),this.container.append(this.label)),i){const t=this.container.lastElementChild;let e=!1;u=()=>{const s=h.classList.contains("error"),o=c?h.value.length:[...Object(n.l)(h)].length,l=i-o,a=l<0;h.classList.toggle("error",a),a||l<=r?(this.setLabel(),t.append(` (${i-o})`),e||(e=!0)):(s&&!a||e)&&(this.setLabel(),e=!1)},h.addEventListener("input",u)}this.input=h}select(){this.input.value&&this.input.select()}setLabel(){this.label.textContent="",this.options.labelText?this.label.innerHTML=this.options.labelText:this.label.append(Object(o.i18n)(this.options.label,this.options.labelOptions))}onFakeInput(){const{scrollHeight:t,clientHeight:e}=this.inputFake;this.wasInputFakeClientHeight&&this.wasInputFakeClientHeight!==e&&(this.input.classList.add("no-scrollbar"),this.showScrollDebounced()),this.wasInputFakeClientHeight=e,this.input.style.height=t?t+"px":""}get value(){return this.options.plainText?this.input.value:Object(n.l)(this.input)}set value(t){this.setValueSilently(t,!1);const e=new Event("input",{bubbles:!0,cancelable:!0});this.input.dispatchEvent(e)}setValueSilently(t,e=!0){this.options.plainText?this.input.value=t:(this.input.innerHTML=t,this.inputFake&&(this.inputFake.innerHTML=t,e&&this.onFakeInput()))}isValid(){return!this.input.classList.contains("error")&&this.value!==this.originalValue}setOriginalValue(t="",e=!1){this.originalValue=t,this.options.plainText||(t=r.b.wrapDraftText(t)),e?this.setValueSilently(t,!1):this.value=t}setState(t,e){e&&(this.label.textContent="",this.label.append(Object(o.i18n)(e,this.options.labelOptions))),this.input.classList.toggle("error",!!(t&a.Error)),this.input.classList.toggle("valid",!!(t&a.Valid))}setError(t){this.setState(a.Error,t)}}},32:function(t,e,i){"use strict";i.d(e,"b",(function(){return c})),i.d(e,"a",(function(){return h}));var n=i(18),s=i(22),o=i(35),r=i(33),l=i(7);class a{constructor(t,e="",i=document.createElement("div")){this.el=t,this.container=i,this.onScrollMeasure=0,this.isHeavyAnimationInProgress=!1,this.needCheckAfterAnimation=!1,this.container.classList.add("scrollable"),this.log=Object(s.b)("SCROLL"+(e?"-"+e:""),s.a.Error),t&&(Array.from(t.children).forEach(t=>this.container.append(t)),t.append(this.container))}setListeners(){window.addEventListener("resize",this.onScroll,{passive:!0}),this.container.addEventListener("scroll",this.onScroll,{passive:!0,capture:!0}),Object(r.a)(()=>{this.isHeavyAnimationInProgress=!0,this.onScrollMeasure&&(this.needCheckAfterAnimation=!0,window.cancelAnimationFrame(this.onScrollMeasure))},()=>{this.isHeavyAnimationInProgress=!1,this.needCheckAfterAnimation&&(this.onScroll(),this.needCheckAfterAnimation=!1)})}append(t){this.container.append(t)}scrollIntoViewNew(t,e,i,n,s,r,l){return Object(o.b)(this.container,t,e,i,n,s,r,l)}}class c extends a{constructor(t,e="",i=300,n){super(t,e),this.onScrollOffset=i,this.onAdditionalScroll=null,this.onScrolledTop=null,this.onScrolledBottom=null,this.lastScrollTop=0,this.lastScrollDirection=0,this.loadedAll={top:!0,bottom:!1},this.onScroll=()=>{if(this.isHeavyAnimationInProgress)return this.onScrollMeasure&&window.cancelAnimationFrame(this.onScrollMeasure),void(this.needCheckAfterAnimation=!0);(this.onScrolledTop||this.onScrolledBottom||this.splitUp||this.onAdditionalScroll)&&(this.onScrollMeasure&&window.cancelAnimationFrame(this.onScrollMeasure),this.onScrollMeasure=window.requestAnimationFrame(()=>{this.onScrollMeasure=0;const t=this.container.scrollTop;this.lastScrollDirection=this.lastScrollTop===t?0:this.lastScrollTop<t?1:-1,this.lastScrollTop=t,this.onAdditionalScroll&&0!==this.lastScrollDirection&&this.onAdditionalScroll(),this.checkForTriggers&&this.checkForTriggers()}))},this.checkForTriggers=()=>{if(!this.onScrolledTop&&!this.onScrolledBottom)return;if(this.isHeavyAnimationInProgress)return void this.onScroll();const t=this.container.scrollHeight;if(!t)return;const e=t-this.container.clientHeight,i=this.lastScrollTop;this.onScrolledTop&&i<=this.onScrollOffset&&this.lastScrollDirection<=0&&this.onScrolledTop(),this.onScrolledBottom&&e-i<=this.onScrollOffset&&this.lastScrollDirection>=0&&this.onScrolledBottom()},this.container.classList.add("scrollable-y"),this.setListeners()}setVirtualContainer(t){this.splitUp=t,this.log("setVirtualContainer:",t,this)}prepend(...t){(this.splitUp||this.padding||this.container).prepend(...t)}append(...t){(this.splitUp||this.padding||this.container).append(...t)}getDistanceToEnd(){return this.scrollHeight-Math.round(this.scrollTop+this.container.offsetHeight)}get isScrolledDown(){return this.getDistanceToEnd()<=1}set scrollTop(t){this.container.scrollTop=t}get scrollTop(){return this.container.scrollTop}get scrollHeight(){return this.container.scrollHeight}}class h extends a{constructor(t,e="",i=300,s=15,o=document.createElement("div")){if(super(t,e,o),this.onScrollOffset=i,this.splitCount=s,this.container=o,this.container.classList.add("scrollable-x"),!n.isTouchSupported){const t=t=>{!t.deltaX&&this.container.scrollWidth>this.container.clientWidth&&(this.container.scrollLeft+=t.deltaY/4,Object(l.f)(t))};this.container.addEventListener("wheel",t,{passive:!1})}}}},36:function(t,e,i){"use strict";function n(t){return Math.floor(Math.random()*t)}function s(){return""+n(4294967295)+n(16777215)}i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return s}))},38:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i(15),s=i(17),o=i(19),r=i(8);class l{constructor(t={}){const e=this.label=document.createElement("label");e.classList.add("checkbox-field"),t.restriction&&e.classList.add("checkbox-field-restriction"),t.round&&e.classList.add("checkbox-field-round"),t.disabled&&this.toggleDisability(!0);const i=this.input=document.createElement("input");let l;if(i.type="checkbox",t.name&&(i.id="input-"+t.name),t.checked&&(i.checked=!0),t.stateKey&&n.default.getState().then(e=>{const o=Object(s.d)(e,t.stateKey);let r;r=t.stateValues?1===t.stateValues.indexOf(o):o,this.setValueSilently(r),i.addEventListener("change",()=>{let e;e=t.stateValues?t.stateValues[i.checked?1:0]:i.checked,n.default.setByKey(t.stateKey,e)})}),t.text?(l=this.span=document.createElement("span"),l.classList.add("checkbox-caption"),Object(r._i18n)(l,t.text,t.textArgs)):e.classList.add("checkbox-without-caption"),e.append(i),t.toggle){e.classList.add("checkbox-field-toggle");const t=document.createElement("div");t.classList.add("checkbox-toggle"),e.append(t)}else{const t=document.createElement("div");t.classList.add("checkbox-box");const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.classList.add("checkbox-box-check"),i.setAttributeNS(null,"viewBox","0 0 24 24");const n=document.createElementNS("http://www.w3.org/2000/svg","use");n.setAttributeNS(null,"href","#check"),n.setAttributeNS(null,"x","-1"),i.append(n);const s=document.createElement("div");s.classList.add("checkbox-box-background");const o=document.createElement("div");o.classList.add("checkbox-box-border"),t.append(o,s,i),e.append(t)}l&&e.append(l),t.withRipple?(e.classList.add("checkbox-ripple","hover-effect"),Object(o.ripple)(e,void 0,void 0,!0)):t.withHover&&e.classList.add("hover-effect")}get checked(){return this.input.checked}set checked(t){this.setValueSilently(t);const e=new Event("change",{bubbles:!0,cancelable:!0});this.input.dispatchEvent(e)}setValueSilently(t){this.input.checked=t}toggleDisability(t){return this.label.classList.toggle("checkbox-disabled",t),()=>this.toggleDisability(!t)}}},46:function(t,e,i){"use strict";function n(t,e){return t.closest(e)}i.d(e,"a",(function(){return n}))},66:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i(41),s=i(45),o=function(t,e,i,n){return new(i||(i=Promise))((function(s,o){function r(t){try{a(n.next(t))}catch(t){o(t)}}function l(t){try{a(n.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,l)}a((n=n.apply(t,e||[])).next())}))};var r=new class{constructor(){this.blobSupported=!0;try{Object(s.a)([],"")}catch(t){this.blobSupported=!1}}isAvailable(){return this.blobSupported}write(t,e){return e instanceof Blob?new Promise((i,n)=>{let s=new FileReader;s.onload=function(e){let s=e.target.result,o=new Uint8Array(s);t.write(o).then(i,n)},s.readAsArrayBuffer(e)}):t.write(e)}getFakeFileWriter(t,e){const i=[];return{write:t=>o(this,void 0,void 0,(function*(){if(!this.blobSupported)throw!1;i.push(t)})),truncate:()=>{i.length=0},finalize:(n=!0)=>{const o=Object(s.a)(i,t);return n&&e&&e(o),o}}}},l=function(t,e,i,n){return new(i||(i=Promise))((function(s,o){function r(t){try{a(n.next(t))}catch(t){o(t)}}function l(t){try{a(n.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,l)}a((n=n.apply(t,e||[])).next())}))};class a{constructor(t){this.dbName=t,this.useStorage=!0,n.a.test&&(this.dbName+="_test"),this.openDatabase(),a.STORAGES.push(this)}openDatabase(){return this.openDbPromise?this.openDbPromise:this.openDbPromise=caches.open(this.dbName)}delete(t){return this.timeoutOperation(e=>e.delete("/"+t))}deleteAll(){return caches.delete(this.dbName)}save(t,e){return this.useStorage?this.timeoutOperation(i=>i.put("/"+t,e)):Promise.reject("STORAGE_OFFLINE")}saveFile(t,e){return this.useStorage?(e instanceof Blob||(e=Object(s.a)(e)),this.save(t,new Response(e)).then(()=>e)):Promise.reject("STORAGE_OFFLINE")}getFile(t,e="blob"){return this.useStorage?this.timeoutOperation(i=>l(this,void 0,void 0,(function*(){const n=yield i.match("/"+t);if(!n||!i)throw"NO_ENTRY_FOUND";return n[e]()}))):Promise.reject("STORAGE_OFFLINE")}timeoutOperation(t){return new Promise((e,i)=>l(this,void 0,void 0,(function*(){let n=!1;const s=setTimeout(()=>{i(),n=!0},15e3);try{const i=yield this.openDatabase();if(!i)throw"no cache?";const s=yield t(i);if(n)return;e(s)}catch(t){i(t)}clearTimeout(s)})))}getFileWriter(t,e){const i=r.getFakeFileWriter(e,e=>this.saveFile(t,e));return Promise.resolve(i)}static toggleStorage(t){return Promise.all(this.STORAGES.map(e=>{if(e.useStorage=t,!t)return e.deleteAll()}))}}a.STORAGES=[]}}]);
//# sourceMappingURL=6.ddd66130ca3b39122a9e.chunk.js.map